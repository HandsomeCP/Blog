<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
  <meta name="theme-color" content="#222">
  <meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>
  <script id="hexo-configurations">
    var NexT = window.NexT ||
    {};
    var CONFIG = {
      "hostname": "cuiqingcai.com",
      "root": "/",
      "scheme": "Pisces",
      "version": "7.8.0",
      "exturl": false,
      "sidebar":
      {
        "position": "right",
        "width": 360,
        "display": "post",
        "padding": 18,
        "offset": 12,
        "onmobile": false,
        "widgets": [
          {
            "type": "image",
            "name": "阿布云",
            "enable": true,
            "url": "https://www.abuyun.com/http-proxy/introduce.html",
            "src": "https://qiniu.cuiqingcai.com/88au8.jpg",
            "width": "100%"
      },
          {
            "type": "image",
            "name": "天验",
            "enable": true,
            "url": "https://tutorial.lengyue.video/?coupon=12ef4b1a-a3db-11ea-bb37-0242ac130002_cqx_850",
            "src": "https://qiniu.cuiqingcai.com/bco2a.png",
            "width": "100%"
      },
          {
            "type": "image",
            "name": "华为云",
            "enable": false,
            "url": "https://activity.huaweicloud.com/2020_618_promotion/index.html?bpName=5f9f98a29e2c40b780c1793086f29fe2&bindType=1&salesID=wangyubei",
            "src": "https://qiniu.cuiqingcai.com/y42ik.jpg",
            "width": "100%"
      },
          {
            "type": "image",
            "name": "张小鸡",
            "enable": false,
            "url": "http://www.zxiaoji.com/",
            "src": "https://qiniu.cuiqingcai.com/fm72f.png",
            "width": "100%"
      },
          {
            "type": "image",
            "name": "Luminati",
            "src": "https://qiniu.cuiqingcai.com/ikkq9.jpg",
            "url": "https://luminati-china.io/?affiliate=ref_5fbbaaa9647883f5c6f77095",
            "width": "100%",
            "enable": true
      },
          {
            "type": "tags",
            "name": "标签云",
            "enable": true
      },
          {
            "type": "categories",
            "name": "分类",
            "enable": true
      },
          {
            "type": "friends",
            "name": "友情链接",
            "enable": true
      },
          {
            "type": "hot",
            "name": "猜你喜欢",
            "enable": true
      }]
      },
      "copycode":
      {
        "enable": true,
        "show_result": true,
        "style": "mac"
      },
      "back2top":
      {
        "enable": true,
        "sidebar": false,
        "scrollpercent": true
      },
      "bookmark":
      {
        "enable": false,
        "color": "#222",
        "save": "auto"
      },
      "fancybox": false,
      "mediumzoom": false,
      "lazyload": false,
      "pangu": true,
      "comments":
      {
        "style": "tabs",
        "active": "gitalk",
        "storage": true,
        "lazyload": false,
        "nav": null,
        "activeClass": "gitalk"
      },
      "algolia":
      {
        "hits":
        {
          "per_page": 10
        },
        "labels":
        {
          "input_placeholder": "Search for Posts",
          "hits_empty": "We didn't find any results for the search: ${query}",
          "hits_stats": "${hits} results found in ${time} ms"
        }
      },
      "localsearch":
      {
        "enable": true,
        "trigger": "auto",
        "top_n_per_article": 10,
        "unescape": false,
        "preload": false
      },
      "motion":
      {
        "enable": false,
        "async": false,
        "transition":
        {
          "post_block": "bounceDownIn",
          "post_header": "slideDownIn",
          "post_body": "slideDownIn",
          "coll_header": "slideLeftIn",
          "sidebar": "slideUpIn"
        }
      },
      "path": "search.xml"
    };

  </script>
  <meta name="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
  <meta property="og:type" content="website">
  <meta property="og:title" content="静觅">
  <meta property="og:url" content="https://cuiqingcai.com/page/23/index.html">
  <meta property="og:site_name" content="静觅">
  <meta property="og:description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
  <meta property="og:locale" content="zh_CN">
  <meta property="article:author" content="崔庆才">
  <meta property="article:tag" content="崔庆才">
  <meta property="article:tag" content="静觅">
  <meta property="article:tag" content="PHP">
  <meta property="article:tag" content="Java">
  <meta property="article:tag" content="Python">
  <meta property="article:tag" content="Spider">
  <meta property="article:tag" content="爬虫">
  <meta property="article:tag" content="Web">
  <meta property="article:tag" content="Kubernetes">
  <meta property="article:tag" content="深度学习">
  <meta property="article:tag" content="机器学习">
  <meta property="article:tag" content="数据分析">
  <meta property="article:tag" content="网络">
  <meta property="article:tag" content="IT">
  <meta property="article:tag" content="技术">
  <meta property="article:tag" content="博客">
  <meta name="twitter:card" content="summary">
  <link rel="canonical" href="https://cuiqingcai.com/page/23/">
  <script id="page-configurations">
    // https://hexo.io/docs/variables.html
    CONFIG.page = {
      sidebar: "",
      isHome: true,
      isPost: false,
      lang: 'zh-CN'
    };

  </script>
  <title>静觅丨崔庆才的个人站点</title>
  <meta name="google-site-verification" content="p_bIcnvirkFzG2dYKuNDivKD8-STet5W7D-01woA2fc" />
  <noscript>
    <style>
      .use-motion .brand,
      .use-motion .menu-item,
      .sidebar-inner,
      .use-motion .post-block,
      .use-motion .pagination,
      .use-motion .comments,
      .use-motion .post-header,
      .use-motion .post-body,
      .use-motion .collection-header
      {
        opacity: initial;
      }

      .use-motion .site-title,
      .use-motion .site-subtitle
      {
        opacity: initial;
        top: initial;
      }

      .use-motion .logo-line-before i
      {
        left: initial;
      }

      .use-motion .logo-line-after i
      {
        right: initial;
      }

    </style>
  </noscript>
  <link rel="alternate" href="/atom.xml" title="静觅" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner">
        <div class="site-brand-container">
          <div class="site-nav-toggle">
            <div class="toggle" aria-label="切换导航栏">
              <span class="toggle-line toggle-line-first"></span>
              <span class="toggle-line toggle-line-middle"></span>
              <span class="toggle-line toggle-line-last"></span>
            </div>
          </div>
          <div class="site-meta">
            <a href="/" class="brand" rel="start">
              <span class="logo-line-before"><i></i></span>
              <h1 class="site-title">静觅 <span class="site-subtitle"> 崔庆才的个人站点 </span>
              </h1>
              <span class="logo-line-after"><i></i></span>
            </a>
          </div>
          <div class="site-nav-right">
            <div class="toggle popup-trigger">
              <i class="fa fa-search fa-fw fa-lg"></i>
            </div>
          </div>
        </div>
        <nav class="site-nav">
          <ul id="menu" class="main-menu menu">
            <li class="menu-item menu-item-home">
              <a href="/" rel="section">首页</a>
            </li>
            <li class="menu-item menu-item-archives">
              <a href="/archives/" rel="section">文章列表</a>
            </li>
            <li class="menu-item menu-item-tags">
              <a href="/tags/" rel="section">文章标签</a>
            </li>
            <li class="menu-item menu-item-categories">
              <a href="/categories/" rel="section">文章分类</a>
            </li>
            <li class="menu-item menu-item-about">
              <a href="/about/" rel="section">关于博主</a>
            </li>
            <li class="menu-item menu-item-message">
              <a href="/message/" rel="section">给我留言</a>
            </li>
            <li class="menu-item menu-item-search">
              <a role="button" class="popup-trigger">搜索 </a>
            </li>
          </ul>
        </nav>
        <div class="search-pop-overlay">
          <div class="popup search-popup">
            <div class="search-header">
              <span class="search-icon">
                <i class="fa fa-search"></i>
              </span>
              <div class="search-input-container">
                <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input">
              </div>
              <span class="popup-btn-close">
                <i class="fa fa-times-circle"></i>
              </span>
            </div>
            <div id="search-result">
              <div id="no-result">
                <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      <span>0%</span>
    </div>
    <div class="reading-progress-bar"></div>
    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div class="content index posts-expand">
            <div class="carousel">
              <div id="wowslider-container">
                <div class="ws_images">
                  <ul>
                    <li><a target="_blank" href="https://cuiqingcai.com/5052.html"><img title="Python3网络爬虫开发实战教程" src="https://qiniu.cuiqingcai.com/ipy96.jpg" /></a></li>
                    <li><a target="_blank" href="https://t.lagou.com/fRCBRsRCSN6FA"><img title="52讲轻松搞定网络爬虫" src="https://qiniu.cuiqingcai.com/fqq5e.png" /></a></li>
                    <li><a target="_blank" href="https://cuiqingcai.com/4320.html"><img title="Python3网络爬虫开发视频教程" src="https://qiniu.cuiqingcai.com/bjrny.jpg" /></a></li>
                    <li><a target="_blank" href="https://cuiqingcai.com/1052.html"><img title="Python2爬虫学习系列教程" src="https://qiniu.cuiqingcai.com/uyl5v.jpg" /></a></li>
                    <li><a target="_blank" href="https://cuiqingcai.com/5094.html"><img title="爬虫代理哪家强？十大付费代理详细对比评测出炉！" src="https://qiniu.cuiqingcai.com/nifs6.jpg" /></a></li>
                  </ul>
                </div>
                <div class="ws_thumbs">
                  <div>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/ipy96.jpg" /></a>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/fqq5e.png" /></a>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/bjrny.jpg" /></a>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/uyl5v.jpg" /></a>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/nifs6.jpg" /></a>
                  </div>
                </div>
                <div class="ws_shadow"></div>
              </div>
            </div>
            <link rel="stylesheet" href="/lib/wowslide/slide.css">
            <script src="/lib/wowslide/jquery.min.js"></script>
            <script src="/lib/wowslide/slider.js"></script>
            <script>
              jQuery("#wowslider-container").wowSlider(
              {
                effect: "cube",
                prev: "",
                next: "",
                duration: 20 * 100,
                delay: 20 * 100,
                width: 716,
                height: 297,
                autoPlay: true,
                playPause: true,
                stopOnHover: false,
                loop: false,
                bullets: 0,
                caption: true,
                captionEffect: "slide",
                controls: true,
                onBeforeStep: 0,
                images: 0
              });

            </script>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1444.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> JavaScript <i class="label-arrow"></i>
                  </a>
                  <a href="/1444.html" class="post-title-link" itemprop="url">JavaScript高级用法五之常用对象</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>原创内容，个人学习记录，部分API来自W3C，本篇主要介绍了JavaScript中常见的内置对象及其相关用法。</p>
                  <h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h2>
                  <p>日期对象，它没有专有属性，有一系列相关方法。</p>
                  <h3 id="1-三种创建方式"><a href="#1-三种创建方式" class="headerlink" title="1.三种创建方式"></a>1.三种创建方式</h3>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">date = <span class="keyword">new</span> <span class="constructor">Date()</span>;&amp;nbsp;                                <span class="comment">//直接创建</span></span><br><span class="line">date = <span class="keyword">new</span> <span class="constructor">Date(<span class="params">val</span>)</span>;                              <span class="comment">//指定日期创建</span></span><br><span class="line">date = <span class="keyword">new</span> <span class="constructor">Date(Y,<span class="params">m</span>,<span class="params">d</span>[,<span class="params">h</span>[,<span class="params">min</span>[,<span class="params">second</span>[,<span class="params">ms</span>]]]])</span>     <span class="comment">//传入具体时间创建</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="2-API"><a href="#2-API" class="headerlink" title="2.API"></a>2.API</h3>
                  <p>方法</p>
                  <p>描述</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_Date.asp" target="_blank" rel="noopener">Date()</a></p>
                  <p>返回当日的日期和时间。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getDate.asp" target="_blank" rel="noopener">getDate()</a></p>
                  <p>从 Date 对象返回一个月中的某一天 (1 ~ 31)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getDay.asp" target="_blank" rel="noopener">getDay()</a></p>
                  <p>从 Date 对象返回一周中的某一天 (0 ~ 6)。注：0-6分别表示星期天-星期六。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getMonth.asp" target="_blank" rel="noopener">getMonth()</a></p>
                  <p>从 Date 对象返回月份 (0 ~ 11)。注：0-11分别表示1-12月份，其值总是比实际月份小1。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getFullYear.asp" target="_blank" rel="noopener">getFullYear()</a></p>
                  <p>从 Date 对象以四位数字返回年份。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getYear.asp" target="_blank" rel="noopener">getYear()</a></p>
                  <p>请使用 getFullYear() 方法代替。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getHours.asp" target="_blank" rel="noopener">getHours()</a></p>
                  <p>返回 Date 对象的小时 (0 ~ 23)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getMinutes.asp" target="_blank" rel="noopener">getMinutes()</a></p>
                  <p>返回 Date 对象的分钟 (0 ~ 59)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getSeconds.asp" target="_blank" rel="noopener">getSeconds()</a></p>
                  <p>返回 Date 对象的秒数 (0 ~ 59)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getMilliseconds.asp" target="_blank" rel="noopener">getMilliseconds()</a></p>
                  <p>返回 Date 对象的毫秒(0 ~ 999)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getTime.asp" target="_blank" rel="noopener">getTime()</a></p>
                  <p>返回 1970 年 1 月 1 日至今的毫秒数。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getTimezoneOffset.asp" target="_blank" rel="noopener">getTimezoneOffset()</a></p>
                  <p>返回本地时间与格林威治标准时间 (GMT) 的分钟差。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getUTCDate.asp" target="_blank" rel="noopener">getUTCDate()</a></p>
                  <p>根据世界时从 Date 对象返回月中的一天 (1 ~ 31)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getUTCDay.asp" target="_blank" rel="noopener">getUTCDay()</a></p>
                  <p>根据世界时从 Date 对象返回周中的一天 (0 ~ 6)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getUTCMonth.asp" target="_blank" rel="noopener">getUTCMonth()</a></p>
                  <p>根据世界时从 Date 对象返回月份 (0 ~ 11)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getUTCFullYear.asp" target="_blank" rel="noopener">getUTCFullYear()</a></p>
                  <p>根据世界时从 Date 对象返回四位数的年份。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getUTCHours.asp" target="_blank" rel="noopener">getUTCHours()</a></p>
                  <p>根据世界时返回 Date 对象的小时 (0 ~ 23)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getUTCMinutes.asp" target="_blank" rel="noopener">getUTCMinutes()</a></p>
                  <p>根据世界时返回 Date 对象的分钟 (0 ~ 59)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getUTCSeconds.asp" target="_blank" rel="noopener">getUTCSeconds()</a></p>
                  <p>根据世界时返回 Date 对象的秒钟 (0 ~ 59)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_getUTCMilliseconds.asp" target="_blank" rel="noopener">getUTCMilliseconds()</a></p>
                  <p>根据世界时返回 Date 对象的毫秒(0 ~ 999)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_parse.asp" target="_blank" rel="noopener">parse()</a></p>
                  <p>返回1970年1月1日午夜到指定日期（字符串）的毫秒数。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setDate.asp" target="_blank" rel="noopener">setDate()</a></p>
                  <p>设置 Date 对象中月的某一天 (1 ~ 31)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setMonth.asp" target="_blank" rel="noopener">setMonth()</a></p>
                  <p>设置 Date 对象中月份 (0 ~ 11)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setFullYear.asp" target="_blank" rel="noopener">setFullYear()</a></p>
                  <p>设置 Date 对象中的年份（四位数字）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setYear.asp" target="_blank" rel="noopener">setYear()</a></p>
                  <p>请使用 setFullYear() 方法代替。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setHours.asp" target="_blank" rel="noopener">setHours()</a></p>
                  <p>设置 Date 对象中的小时 (0 ~ 23)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setMinutes.asp" target="_blank" rel="noopener">setMinutes()</a></p>
                  <p>设置 Date 对象中的分钟 (0 ~ 59)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setSeconds.asp" target="_blank" rel="noopener">setSeconds()</a></p>
                  <p>设置 Date 对象中的秒钟 (0 ~ 59)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setMilliseconds.asp" target="_blank" rel="noopener">setMilliseconds()</a></p>
                  <p>设置 Date 对象中的毫秒 (0 ~ 999)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setTime.asp" target="_blank" rel="noopener">setTime()</a></p>
                  <p>以毫秒设置 Date 对象。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setUTCDate.asp" target="_blank" rel="noopener">setUTCDate()</a></p>
                  <p>根据世界时设置 Date 对象中月份的一天 (1 ~ 31)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setUTCMonth.asp" target="_blank" rel="noopener">setUTCMonth()</a></p>
                  <p>根据世界时设置 Date 对象中的月份 (0 ~ 11)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setUTCFullYear.asp" target="_blank" rel="noopener">setUTCFullYear()</a></p>
                  <p>根据世界时设置 Date 对象中的年份（四位数字）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setutchours.asp" target="_blank" rel="noopener">setUTCHours()</a></p>
                  <p>根据世界时设置 Date 对象中的小时 (0 ~ 23)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setUTCMinutes.asp" target="_blank" rel="noopener">setUTCMinutes()</a></p>
                  <p>根据世界时设置 Date 对象中的分钟 (0 ~ 59)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setUTCSeconds.asp" target="_blank" rel="noopener">setUTCSeconds()</a></p>
                  <p>根据世界时设置 Date 对象中的秒钟 (0 ~ 59)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_setUTCMilliseconds.asp" target="_blank" rel="noopener">setUTCMilliseconds()</a></p>
                  <p>根据世界时设置 Date 对象中的毫秒 (0 ~ 999)。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_tosource_boolean.asp" target="_blank" rel="noopener">toSource()</a></p>
                  <p>返回该对象的源代码。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toString_date.asp" target="_blank" rel="noopener">toString()</a></p>
                  <p>把 Date 对象转换为字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toTimeString.asp" target="_blank" rel="noopener">toTimeString()</a></p>
                  <p>把 Date 对象的时间部分转换为字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toDateString.asp" target="_blank" rel="noopener">toDateString()</a></p>
                  <p>把 Date 对象的日期部分转换为字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toGMTString.asp" target="_blank" rel="noopener">toGMTString()</a></p>
                  <p>请使用 toUTCString() 方法代替。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toUTCString.asp" target="_blank" rel="noopener">toUTCString()</a></p>
                  <p>根据世界时，把 Date 对象转换为字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toLocaleString.asp" target="_blank" rel="noopener">toLocaleString()</a></p>
                  <p>根据本地时间格式，把 Date 对象转换为字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toLocaleTimeString.asp" target="_blank" rel="noopener">toLocaleTimeString()</a></p>
                  <p>根据本地时间格式，把 Date 对象的时间部分转换为字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toLocaleDateString.asp" target="_blank" rel="noopener">toLocaleDateString()</a></p>
                  <p>根据本地时间格式，把 Date 对象的日期部分转换为字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_utc.asp" target="_blank" rel="noopener">UTC()</a></p>
                  <p>根据世界时返回 1970 年 1 月 1 日 到指定日期的毫秒数。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_valueOf_date.asp" target="_blank" rel="noopener">valueOf()</a></p>
                  <p>返回 Date 对象的原始值。</p>
                  <h3 id="3-Demo"><a href="#3-Demo" class="headerlink" title="3.Demo"></a>3.Demo</h3>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line">date.setMonth(10)</span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(date.toDateString()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(date.toTimeString()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(date.toLocaleDateString()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(date.toLocaleTimeString()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">Mon Nov <span class="number">16</span> <span class="number">2015</span></span><br><span class="line"><span class="number">20</span>:<span class="number">06</span>:<span class="number">14</span> GMT+<span class="number">0800</span> (中国标准时间)</span><br><span class="line"><span class="number">2015</span>/<span class="number">11</span>/<span class="number">16</span></span><br><span class="line">下午<span class="number">8</span>:<span class="number">06</span>:<span class="number">14</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2>
                  <h3 id="1-属性"><a href="#1-属性" class="headerlink" title="1.属性"></a>1.属性</h3>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_e.asp" target="_blank" rel="noopener">E</a></p>
                  <p>返回算术常量 e，即自然对数的底数（约等于2.718）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_ln2.asp" target="_blank" rel="noopener">LN2</a></p>
                  <p>返回 2 的自然对数（约等于0.693）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_ln10.asp" target="_blank" rel="noopener">LN10</a></p>
                  <p>返回 10 的自然对数（约等于2.302）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_log2e.asp" target="_blank" rel="noopener">LOG2E</a></p>
                  <p>返回以 2 为底的 e 的对数（约等于 1.414）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_log10e.asp" target="_blank" rel="noopener">LOG10E</a></p>
                  <p>返回以 10 为底的 e 的对数（约等于0.434）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_pi.asp" target="_blank" rel="noopener">PI</a></p>
                  <p>返回圆周率（约等于3.14159）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_sqrt1_2.asp" target="_blank" rel="noopener">SQRT1_2</a></p>
                  <p>返回返回 2 的平方根的倒数（约等于 0.707）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_sqrt2.asp" target="_blank" rel="noopener">SQRT2</a></p>
                  <p>返回 2 的平方根（约等于 1.414）。</p>
                  <h3 id="2-API-1"><a href="#2-API-1" class="headerlink" title="2.API"></a>2.API</h3>
                  <p>方法</p>
                  <p>描述</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_abs.asp" target="_blank" rel="noopener">abs(x)</a></p>
                  <p>返回数的绝对值。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_acos.asp" target="_blank" rel="noopener">acos(x)</a></p>
                  <p>返回数的反余弦值。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_asin.asp" target="_blank" rel="noopener">asin(x)</a></p>
                  <p>返回数的反正弦值。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_atan.asp" target="_blank" rel="noopener">atan(x)</a></p>
                  <p>以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_atan2.asp" target="_blank" rel="noopener">atan2(y,x)</a></p>
                  <p>返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_ceil.asp" target="_blank" rel="noopener">ceil(x)</a></p>
                  <p>对数进行上舍入。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_cos.asp" target="_blank" rel="noopener">cos(x)</a></p>
                  <p>返回数的余弦。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_exp.asp" target="_blank" rel="noopener">exp(x)</a></p>
                  <p>返回 e 的指数。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_floor.asp" target="_blank" rel="noopener">floor(x)</a></p>
                  <p>对数进行下舍入。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_log.asp" target="_blank" rel="noopener">log(x)</a></p>
                  <p>返回数的自然对数（底为e）。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_max.asp" target="_blank" rel="noopener">max(x,y)</a></p>
                  <p>返回 x 和 y 中的最高值。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_min.asp" target="_blank" rel="noopener">min(x,y)</a></p>
                  <p>返回 x 和 y 中的最低值。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_pow.asp" target="_blank" rel="noopener">pow(x,y)</a></p>
                  <p>返回 x 的 y 次幂。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_random.asp" target="_blank" rel="noopener">random()</a></p>
                  <p>返回 0 ~ 1 之间的随机数。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_round.asp" target="_blank" rel="noopener">round(x)</a></p>
                  <p>把数四舍五入为最接近的整数。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_sin.asp" target="_blank" rel="noopener">sin(x)</a></p>
                  <p>返回数的正弦。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_sqrt.asp" target="_blank" rel="noopener">sqrt(x)</a></p>
                  <p>返回数的平方根。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_tan.asp" target="_blank" rel="noopener">tan(x)</a></p>
                  <p>返回角的正切。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_tosource_math.asp" target="_blank" rel="noopener">toSource()</a></p>
                  <p>返回该对象的源代码。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_valueof_math.asp" target="_blank" rel="noopener">valueOf()</a></p>
                  <p>返回 Math 对象的原始值。</p>
                  <h3 id="3-Demo-1"><a href="#3-Demo-1" class="headerlink" title="3.Demo"></a>3.Demo</h3>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(<span class="built_in">Math</span>.E+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(<span class="built_in">Math</span>.ceil(<span class="number">0.6</span>)+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(<span class="built_in">Math</span>.max(<span class="number">5</span>,<span class="number">7</span>) + <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(<span class="built_in">Math</span>.min(<span class="number">-3</span>,<span class="number">5</span>) + <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(<span class="built_in">Math</span>.random()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(<span class="built_in">Math</span>.round(<span class="number">0.49</span>)+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">2.718281828459045</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">-3</span></span><br><span class="line"><span class="number">0.6166561744175851</span></span><br><span class="line"><span class="number">0</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2>
                  <h3 id="1-属性-1"><a href="#1-属性-1" class="headerlink" title="1.属性"></a>1.属性</h3>
                  <p>constructor</p>
                  <p>对创建该对象的函数的引用</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_length_string.asp" target="_blank" rel="noopener">length</a></p>
                  <p>字符串的长度</p>
                  <p>prototype</p>
                  <p>允许您向对象添加属性和方法</p>
                  <h3 id="2-方法"><a href="#2-方法" class="headerlink" title="2.方法"></a>2.方法</h3>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_anchor.asp" target="_blank" rel="noopener">anchor()</a></p>
                  <p>创建 HTML 锚。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_big.asp" target="_blank" rel="noopener">big()</a></p>
                  <p>用大号字体显示字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_blink.asp" target="_blank" rel="noopener">blink()</a></p>
                  <p>显示闪动字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_bold.asp" target="_blank" rel="noopener">bold()</a></p>
                  <p>使用粗体显示字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_charAt.asp" target="_blank" rel="noopener">charAt()</a></p>
                  <p>返回在指定位置的字符。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_charCodeAt.asp" target="_blank" rel="noopener">charCodeAt()</a></p>
                  <p>返回在指定的位置的字符的 Unicode 编码。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_concat_string.asp" target="_blank" rel="noopener">concat()</a></p>
                  <p>连接字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_fixed.asp" target="_blank" rel="noopener">fixed()</a></p>
                  <p>以打字机文本显示字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_fontcolor.asp" target="_blank" rel="noopener">fontcolor()</a></p>
                  <p>使用指定的颜色来显示字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_fontsize.asp" target="_blank" rel="noopener">fontsize()</a></p>
                  <p>使用指定的尺寸来显示字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_fromCharCode.asp" target="_blank" rel="noopener">fromCharCode()</a></p>
                  <p>从字符编码创建一个字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_indexOf.asp" target="_blank" rel="noopener">indexOf()</a></p>
                  <p>检索字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_italics.asp" target="_blank" rel="noopener">italics()</a></p>
                  <p>使用斜体显示字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_lastIndexOf.asp" target="_blank" rel="noopener">lastIndexOf()</a></p>
                  <p>从后向前搜索字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_link.asp" target="_blank" rel="noopener">link()</a></p>
                  <p>将字符串显示为链接。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_localeCompare.asp" target="_blank" rel="noopener">localeCompare()</a></p>
                  <p>用本地特定的顺序来比较两个字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_match.asp" target="_blank" rel="noopener">match()</a></p>
                  <p>找到一个或多个正则表达式的匹配。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_replace.asp" target="_blank" rel="noopener">replace()</a></p>
                  <p>替换与正则表达式匹配的子串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_search.asp" target="_blank" rel="noopener">search()</a></p>
                  <p>检索与正则表达式相匹配的值。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_slice_string.asp" target="_blank" rel="noopener">slice()</a></p>
                  <p>提取字符串的片断，并在新的字符串中返回被提取的部分。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_small.asp" target="_blank" rel="noopener">small()</a></p>
                  <p>使用小字号来显示字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_split.asp" target="_blank" rel="noopener">split()</a></p>
                  <p>把字符串分割为字符串数组。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_strike.asp" target="_blank" rel="noopener">strike()</a></p>
                  <p>使用删除线来显示字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_sub.asp" target="_blank" rel="noopener">sub()</a></p>
                  <p>把字符串显示为下标。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_substr.asp" target="_blank" rel="noopener">substr()</a></p>
                  <p>从起始索引号提取字符串中指定数目的字符。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_substring.asp" target="_blank" rel="noopener">substring()</a></p>
                  <p>提取字符串中两个指定的索引号之间的字符。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_sup.asp" target="_blank" rel="noopener">sup()</a></p>
                  <p>把字符串显示为上标。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toLocaleLowerCase.asp" target="_blank" rel="noopener">toLocaleLowerCase()</a></p>
                  <p>把字符串转换为小写。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toLocaleUpperCase.asp" target="_blank" rel="noopener">toLocaleUpperCase()</a></p>
                  <p>把字符串转换为大写。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toLowerCase.asp" target="_blank" rel="noopener">toLowerCase()</a></p>
                  <p>把字符串转换为小写。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toUpperCase.asp" target="_blank" rel="noopener">toUpperCase()</a></p>
                  <p>把字符串转换为大写。</p>
                  <p>toSource()</p>
                  <p>代表对象的源代码。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toString_string.asp" target="_blank" rel="noopener">toString()</a></p>
                  <p>返回字符串。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_valueOf_string.asp" target="_blank" rel="noopener">valueOf()</a></p>
                  <p>返回某个字符串对象的原始值。</p>
                  <h3 id="3-Demo-2"><a href="#3-Demo-2" class="headerlink" title="3.Demo"></a>3.Demo</h3>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> txt=<span class="string">"Hello world!"</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(txt.anchor(<span class="string">"myanchor"</span>)+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(txt.big()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(txt.blink()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(txt.small()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(txt.sup()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> str1=<span class="string">"Hello "</span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> str2=<span class="string">"world!"</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(str1.concat(str2))</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight erlang-repl">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"> Hello world!</span><br><span class="line">Hello world!</span><br><span class="line">Hello world!</span><br><span class="line">Hello world!</span><br><span class="line">Hello world!</span><br><span class="line">Hello world!</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2>
                  <h3 id="1-创建方式"><a href="#1-创建方式" class="headerlink" title="1.创建方式"></a>1.创建方式</h3>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">var a = new Array();</span><br><span class="line">var a = new Array(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line">var a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">var a = new Array(<span class="number">3</span>);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="2-属性"><a href="#2-属性" class="headerlink" title="2.属性"></a>2.属性</h3>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_constructor_array.asp" target="_blank" rel="noopener">constructor</a></p>
                  <p>返回对创建此对象的数组函数的引用。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_length_array.asp" target="_blank" rel="noopener">length</a></p>
                  <p>设置或返回数组中元素的数目。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_prototype_array.asp" target="_blank" rel="noopener">prototype</a></p>
                  <p>使您有能力向对象添加属性和方法。</p>
                  <h3 id="3-API"><a href="#3-API" class="headerlink" title="3.API"></a>3.API</h3>
                  <p>JavaScript Array 对象</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_concat_array.asp" target="_blank" rel="noopener">concat()</a></p>
                  <p>连接两个或更多的数组，并返回结果。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_join.asp" target="_blank" rel="noopener">join()</a></p>
                  <p>把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_pop.asp" target="_blank" rel="noopener">pop()</a></p>
                  <p>删除并返回数组的最后一个元素</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_push.asp" target="_blank" rel="noopener">push()</a></p>
                  <p>向数组的末尾添加一个或更多元素，并返回新的长度。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_reverse.asp" target="_blank" rel="noopener">reverse()</a></p>
                  <p>颠倒数组中元素的顺序。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_shift.asp" target="_blank" rel="noopener">shift()</a></p>
                  <p>删除并返回数组的第一个元素</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_slice_array.asp" target="_blank" rel="noopener">slice()</a></p>
                  <p>从某个已有的数组返回选定的元素</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_sort.asp" target="_blank" rel="noopener">sort()</a></p>
                  <p>对数组的元素进行排序</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_splice.asp" target="_blank" rel="noopener">splice()</a></p>
                  <p>删除元素，并向数组添加新元素。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_tosource_array.asp" target="_blank" rel="noopener">toSource()</a></p>
                  <p>返回该对象的源代码。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toString_array.asp" target="_blank" rel="noopener">toString()</a></p>
                  <p>把数组转换为字符串，并返回结果。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_toLocaleString_array.asp" target="_blank" rel="noopener">toLocaleString()</a></p>
                  <p>把数组转换为本地数组，并返回结果。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_unshift.asp" target="_blank" rel="noopener">unshift()</a></p>
                  <p>向数组的开头添加一个或更多元素，并返回新的长度。</p>
                  <p><a href="http://www.w3school.com.cn/jsref/jsref_valueof_array.asp" target="_blank" rel="noopener">valueOf()</a></p>
                  <p>返回数组对象的原始值</p>
                  <h3 id="3-Demo-3"><a href="#3-Demo-3" class="headerlink" title="3.Demo"></a>3.Demo</h3>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> arr1 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(arr1.concat([<span class="number">6</span>,<span class="number">7</span>])+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> arr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="actionscript">arr2[<span class="number">0</span>] = <span class="string">'Hello'</span>;</span></span><br><span class="line"><span class="actionscript">arr2[<span class="number">1</span>] = <span class="string">'World'</span>;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(arr2.join()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(arr2.pop()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">6</span>);</span></span><br><span class="line"><span class="actionscript">arr[<span class="number">0</span>] = <span class="string">"George"</span>;</span></span><br><span class="line"><span class="actionscript">arr[<span class="number">1</span>] = <span class="string">"John"</span>;</span></span><br><span class="line"><span class="actionscript">arr[<span class="number">2</span>] = <span class="string">"Thomas"</span>;</span></span><br><span class="line"><span class="actionscript">arr[<span class="number">3</span>] = <span class="string">"James"</span>;</span></span><br><span class="line"><span class="actionscript">arr[<span class="number">4</span>] = <span class="string">"Adrew"</span>;</span></span><br><span class="line"><span class="actionscript">arr[<span class="number">5</span>] = <span class="string">"Martin"</span>;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(arr + <span class="string">"&lt;br /&gt;"</span>);</span></span><br><span class="line"><span class="actionscript">arr.splice(<span class="number">2</span>,<span class="number">3</span>,<span class="string">"William"</span>);  <span class="comment">//删除index2开始的3个元素</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(arr+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(arr.valueOf());</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">7</span></span><br><span class="line">Hello,World</span><br><span class="line">World</span><br><span class="line">George,John,Thomas,James,Adrew,Martin</span><br><span class="line">George,John,William,Martin</span><br><span class="line">George,John,William,Martin</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>s</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-16 19:56:28" itemprop="dateCreated datePublished" datetime="2015-03-16T19:56:28+08:00">2015-03-16</time>
                </span>
                <span id="/1444.html" class="post-meta-item leancloud_visitors" data-flag-title="JavaScript高级用法五之常用对象" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>5.9k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>5 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1415.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/1415.html" class="post-title-link" itemprop="url">PS抠头发丝详细教程</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>博主原创内容。 在PS里，对于抠图，比较有技术含量的便是抠头发丝了，下面为大家带来一个比较详细的抠头发丝的教程。</p>
                  <h2 id="素材准备"><a href="#素材准备" class="headerlink" title="素材准备"></a>素材准备</h2>
                  <p>在这里我们用这张图片作为抠图素材，下面让我们一步步来演示抠图的过程，并为之更换背景。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/3f5733ef0e9cd8dafeb910d866284128.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/3f5733ef0e9cd8dafeb910d866284128.jpg" alt="3f5733ef0e9cd8dafeb910d866284128"></a></p>
                  <h2 id="抠图过程"><a href="#抠图过程" class="headerlink" title="抠图过程"></a>抠图过程</h2>
                  <h3 id="1-打开素材"><a href="#1-打开素材" class="headerlink" title="1.打开素材"></a>1.打开素材</h3>
                  <p>第一步，当然是用PS打开这张图片素材啦。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150314235120.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150314235120.jpg" alt="20150314235120"></a></p>
                  <h3 id="2-复制通道"><a href="#2-复制通道" class="headerlink" title="2.复制通道"></a>2.复制通道</h3>
                  <p>打开通道选项卡，按每个通道的前面的小眼睛，让红绿蓝通道依次显示，观察哪一个通道明暗对比更加明显，在这里，我们发现蓝色通道的明暗对比更加明显，那我们就右键复制，建立蓝色通道的一个副本，如图所示。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150314235402.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150314235402.jpg" alt="20150314235402"></a></p>
                  <h3 id="３-调整色阶"><a href="#３-调整色阶" class="headerlink" title="３.调整色阶"></a>３.调整色阶</h3>
                  <p>打开图像－调整－色阶，将低色阶调高，高色阶调低，让图片的明暗对比更加明显，点击确定。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/未标题-1.png" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/未标题-1.png" alt="未标题-1"></a> <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/0150314235948.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/0150314235948.jpg" alt="0150314235948"></a> </p>
                  <h3 id="４-减淡加深"><a href="#４-减淡加深" class="headerlink" title="４.减淡加深"></a>４.减淡加深</h3>
                  <p>切换至减淡或加深工具，首先我们切换到减淡工具，范围选择高光，直接对图片的亮白部分进行涂抹，这时我们会发现比较亮的部分都被减淡为白色，如图所示。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000249.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000249.jpg" alt="20150315000249"></a> 然后切换到加深工具，范围选择阴影，直接涂抹人物，将人物全部涂抹成黑色，如图所示 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000438.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000438.jpg" alt="20150315000438"></a> <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000519.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000519.jpg" alt="20150315000519"></a> <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000617.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000617.jpg" alt="20150315000617"></a> </p>
                  <h3 id="５-画笔修补"><a href="#５-画笔修补" class="headerlink" title="５.画笔修补"></a>５.画笔修补</h3>
                  <p>这时我们会发现几乎所有的人物都已经变成了黑色，不过还有小瑕疵，有一小部分还没有变成黑色，没关系，切换到画笔工具，颜色选择黑色，让我们把没有变成黑色的部分进行填充。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000838.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315000838.jpg" alt="20150315000838"></a> <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001006.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001006.jpg" alt="20150315001006"></a></p>
                  <h3 id="６-反向检查"><a href="#６-反向检查" class="headerlink" title="６.反向检查"></a>６.反向检查</h3>
                  <p>按Ctrl+I，将图片切换为反向，将黑白部分没有填充好的地方重新用画笔工具填充一下，保证做到黑白分明。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001156.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001156.jpg" alt="20150315001156"></a></p>
                  <h3 id="7-抠出人物"><a href="#7-抠出人物" class="headerlink" title="7.抠出人物"></a>7.抠出人物</h3>
                  <p>按住Ctrl键，鼠标移至图层的小图标处点击，即图中红色框处的区域，点击一下，即可选中人物的轮廓。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001334.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001334.jpg" alt="20150315001334"></a> 将图层的RGB通道全部复原，切换至图层面板 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001556.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001556.jpg" alt="20150315001556"></a> <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001638.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315001638.jpg" alt="20150315001638"></a> 按Ctrl+J，复制选区中的内容到新的图层，这时我们会发现新建了一个图层，它的背景是透明的。(P.S.按第一次不生效可以尝试按第二次，我这边出现了一个副本，然后便是透明背景的图片) <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315002534.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315002534.jpg" alt="20150315002534"></a></p>
                  <h3 id="8-更换背景"><a href="#8-更换背景" class="headerlink" title="8.更换背景"></a>8.更换背景</h3>
                  <p>我们在该图层下面新建一个图层，填充为自己想要的颜色，看一下效果，在这里我设置了灰白渐变效果。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315002659.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315002659.jpg" alt="20150315002659"></a></p>
                  <h3 id="9-去除白边"><a href="#9-去除白边" class="headerlink" title="9.去除白边"></a>9.去除白边</h3>
                  <p>选中人物图层，选择图层-修边-移除白色杂边，即可去除边缘的杂边干扰 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315004324.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150315004324.jpg" alt="20150315004324"></a> 这样一来，抠头发丝的完整过程就结束啦。</p>
                  <h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2>
                  <p>以上便是抠头发丝的全部过程，如果做证件照的话，可以尝试一用，希望对大家有帮助</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-15 00:45:48" itemprop="dateCreated datePublished" datetime="2015-03-15T00:45:48+08:00">2015-03-15</time>
                </span>
                <span id="/1415.html" class="post-meta-item leancloud_visitors" data-flag-title="PS抠头发丝详细教程" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>858</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1408.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> HTML <i class="label-arrow"></i>
                  </a>
                  <a href="/1408.html" class="post-title-link" itemprop="url">HTML5实现响应式进度条及分享图标</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>纯原创内容，HTML5实现个人简介界面，响应式布局的进度条以及利用Font-Awesome实现分享图标，完美支持手机端。 已经在博主个人网站应用 <a href="http://cuiqingcai.com/about">进入页面</a></p>
                  <h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2>
                  <h3 id="1-电脑端"><a href="#1-电脑端" class="headerlink" title="1.电脑端"></a>1.电脑端</h3>
                  <p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313145032.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313145032.jpg" alt="20150313145032"></a> </p>
                  <h3 id="2-手机端"><a href="#2-手机端" class="headerlink" title="2.手机端"></a>2.手机端</h3>
                  <p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313145528.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313145528.jpg" alt="20150313145528"></a> <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313145629.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313145629.jpg" alt="20150313145629"></a> </p>
                  <h2 id="在线演示"><a href="#在线演示" class="headerlink" title="在线演示"></a>在线演示</h2>
                  <p><a href="http://res.cuiqingcai.com/aboutme/" target="_blank" rel="noopener">在线演示</a></p>
                  <h2 id="源码下载"><a href="#源码下载" class="headerlink" title="源码下载"></a>源码下载</h2>
                  <p><a href="https://github.com/cqcre/aboutme" target="_blank" rel="noopener">源码下载</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-13 15:16:26" itemprop="dateCreated datePublished" datetime="2015-03-13T15:16:26+08:00">2015-03-13</time>
                </span>
                <span id="/1408.html" class="post-meta-item leancloud_visitors" data-flag-title="HTML5实现响应式进度条及分享图标" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>105</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1401.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> HTML <i class="label-arrow"></i>
                  </a>
                  <a href="/1401.html" class="post-title-link" itemprop="url">HTML5实现2048网页游戏</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>改编内容，HTML5实现2048游戏的开发，添加了小屏幕适配，支持手机端触控。</p>
                  <h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2>
                  <h3 id="1-电脑端"><a href="#1-电脑端" class="headerlink" title="1.电脑端"></a>1.电脑端</h3>
                  <p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313140648.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313140648.jpg" alt="20150313140648"></a></p>
                  <h3 id="2-平板端"><a href="#2-平板端" class="headerlink" title="2.平板端"></a>2.平板端</h3>
                  <p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313142906.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313142906.jpg" alt="20150313142906"></a></p>
                  <h3 id="3-手机端"><a href="#3-手机端" class="headerlink" title="3.手机端"></a>3.手机端</h3>
                  <p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313143200.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313143200.jpg" alt="20150313143200"></a></p>
                  <h2 id="在线演示"><a href="#在线演示" class="headerlink" title="在线演示"></a>在线演示</h2>
                  <p><a href="http://res.cuiqingcai.com/2048/" target="_blank" rel="noopener">在线演示</a></p>
                  <h2 id="源码下载"><a href="#源码下载" class="headerlink" title="源码下载"></a>源码下载</h2>
                  <p><a href="https://github.com/cqcre" target="_blank" rel="noopener">源码下载</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-13 14:35:13" itemprop="dateCreated datePublished" datetime="2015-03-13T14:35:13+08:00">2015-03-13</time>
                </span>
                <span id="/1401.html" class="post-meta-item leancloud_visitors" data-flag-title="HTML5实现2048网页游戏" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>74</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1387.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> HTML <i class="label-arrow"></i>
                  </a>
                  <a href="/1387.html" class="post-title-link" itemprop="url">纯CSS3实现微信二维码动态呈现</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>原创内容，纯 CSS3 实现微信扫一扫的功能，页面一共五个二维码，鼠标移上二维码会自动放大，同时支持响应式布局，整体会根据页面响应式缩放。 在我的个人网站赞助页面即存在这个 DEMO <a href="http://cuiqingcai.com/donate">进入页面</a></p>
                  <h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2>
                  <h3 id="1-正常情况，大屏幕"><a href="#1-正常情况，大屏幕" class="headerlink" title="1.正常情况，大屏幕"></a>1.正常情况，大屏幕</h3>
                  <p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150312235820.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150312235820.jpg" alt="20150312235820"></a></p>
                  <h3 id="2-鼠标移上，大屏幕"><a href="#2-鼠标移上，大屏幕" class="headerlink" title="2.鼠标移上，大屏幕"></a>2.鼠标移上，大屏幕</h3>
                  <p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150312235953.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150312235953.jpg" alt="20150312235953"></a> 3.小屏幕 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313000056.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/20150313000056.jpg" alt="20150313000056"></a></p>
                  <h2 id="在线演示"><a href="#在线演示" class="headerlink" title="在线演示"></a>在线演示</h2>
                  <p><a href="http://res.cuiqingcai.com/wechatpay/" target="_blank" rel="noopener">在线演示</a></p>
                  <h2 id="源码下载"><a href="#源码下载" class="headerlink" title="源码下载"></a>源码下载</h2>
                  <p><a href="https://github.com/cqcre/WechatPay" target="_blank" rel="noopener">源码下载</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-13 00:05:17" itemprop="dateCreated datePublished" datetime="2015-03-13T00:05:17+08:00">2015-03-13</time>
                </span>
                <span id="/1387.html" class="post-meta-item leancloud_visitors" data-flag-title="纯CSS3实现微信二维码动态呈现" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>136</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1377.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> JavaScript <i class="label-arrow"></i>
                  </a>
                  <a href="/1377.html" class="post-title-link" itemprop="url">JavaScript视频学习教程</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="关于JavaScript"><a href="#关于JavaScript" class="headerlink" title="关于JavaScript"></a>关于JavaScript</h2>
                  <p> <strong>JavaScript</strong>，一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML网页上使用，用来给HTML网页增加动态功能。然而现在JavaScript也可被用于网络服务器，如Node.js。 不同于服务器端脚本语言，例如PHP与ASP，JavaScript主要被作为客户端脚本语言在用户的浏览器上运行，不需要服务器的支持。所以在早期程序员比较青睐于JavaScript以减少对服务器的负担，而与此同时也带来另一个问题：安全性。而随着服务器的强壮，虽然现在的程序员更喜欢运行于服务端的脚本以保证安全，但JavaScript仍然以其跨平台、容易上手等优势大行其道。同时，有些特殊功能（如AJAX）必须依赖Javascript在客户端进行支持。随着引擎如V8和框架如Node.js的发展，及其事件驱动及异步IO等特性，JavaScript逐渐被用来编写服务器端程序。 视频来源：兄弟连教育 感谢 @<a href="http://weibo.com/lampbrother" target="_blank" rel="noopener">兄弟连教育</a></p>
                  <h2 id="关于兄弟连"><a href="#关于兄弟连" class="headerlink" title="关于兄弟连"></a>关于兄弟连</h2>
                  <p>兄弟连成立于2006年，专注于IT技术培训，是国内最早及最大的PHP/LAMP技术专业培训学校。 兄弟连现已开设PHP/Java/Android/IOS/手游/云计算/UI等多学科，累计培养逾万名学员，2014年学员就业平均起薪高达5500元+。 兄弟连已是第9个年头，这条路虽历尽艰辛，但我们痴心不改。我们就是想让学员们知道：不是所有的培训机构都是骗人的！ 在兄弟连，你可以找到自我、重拾自信；在兄弟连，你会每天渴求成长，学到深夜； 在兄弟连，你把学习当成一种习惯；在兄弟连，你有更多的兄弟姐妹； 在兄弟连，有陪你一起熬夜的老师；在兄弟连，你会被“狠狠”的爱着…… 兄弟连已在北京、上海和广州设立校区，今后几年内将会陆续在成都、西安等地建设校区，每年有数十万名学员受益于兄弟连教育的职业培训、教学视频、网络公开课。</p>
                  <blockquote>
                    <p>兄弟连</p>
                    <p>“我们不仅仅是老师，我们是学员的梦想守护者与职场引路人。” 我们不敢妄言改变中国教育，只是低下头认认真真做教育。兄弟连没有做什么惊天动地的大事，我们就是把别人不愿做的脏活累活做到极致，做教育就是需要这种工匠精神。 在中国，选择职业培训的学生，一定是对自己未来有憧憬、想改变命运的有志青年。主观上有学习的欲望，客观上自控能力差，需要外力协助其改变。 教学靠谱/变态严管/职业素养课我们的核心竞争力。 培训结束会有脱胎换骨的感觉，怕死别来兄弟连！</p>
                  </blockquote>
                  <h2 id="视频下载"><a href="#视频下载" class="headerlink" title="视频下载"></a>视频下载</h2>
                  <p><a href="http://pan.baidu.com/s/1kTzfpht" target="_blank" rel="noopener">视频下载</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-12 00:27:37" itemprop="dateCreated datePublished" datetime="2015-03-12T00:27:37+08:00">2015-03-12</time>
                </span>
                <span id="/1377.html" class="post-meta-item leancloud_visitors" data-flag-title="JavaScript视频学习教程" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>1.1k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1360.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 福利专区 <i class="label-arrow"></i>
                  </a>
                  <a href="/1360.html" class="post-title-link" itemprop="url">一步一步学摄影精华视频教程</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="摄影基本原理"><a href="#摄影基本原理" class="headerlink" title="摄影基本原理"></a>摄影基本原理</h2>
                  <p>在摄影中，通常使用照相机或者照相暗盒（Camera obscura）作为照相设备，利用光学胶卷或者数码存储卡作为记录介质。但也有例外，比如曼·雷的实物投影法（rayographs）就是利用影子在相纸上成像，而不需要用到照相机。 多数照相是用一系列的透镜组成的镜头，将光线折射聚焦后在胶片或者CCD光学感应介质，胶片本身也是储存介质，以化学变化储存讯号。而CCD则会将光转换为电子讯号后，以数码存储卡储存。储存的讯号可透过某些方式，还原成光学信息后，用相片或显示器观赏。除了透镜构成的镜头，少数镜头是用反射镜或反射镜搭配透镜所构成。</p>
                  <h2 id="摄影艺术"><a href="#摄影艺术" class="headerlink" title="摄影艺术"></a>摄影艺术</h2>
                  <p>摄影艺术是一门较为年轻的艺术门类，它是紧紧伴随着每个时代高新科技发展而发展着。摄影艺术是一种对现实高度概括；是来源于生活而高于生活的影像工作方式；是一种高贵的雅文化。摄影艺术就是作者的一种表达，正如说话是一种表达、写作是一种表达一样。摄影的表达方式多种多样，可以“风光”、“静物”、“人像”，也可以“纪实”、“民俗”、“观念”，表达方式没有高下之分。</p>
                  <p>摄影技术的学习不仅仅是学习光圈、焦距、曝光、色温、反差、感光度、白平衡之类的技术性知识，也不仅仅是学习构图、造型、色彩、光影等等美学知识，还有学习中外优秀摄影师的作品，看摄影师的画册和论著啦，等等。此外，还要学习一些诸如哲学、人类学、社会学、历史学、艺术史之类似乎与摄影无甚直接关系的学问。</p>
                  <p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/wallpaper_5255573.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/wallpaper_5255573.jpg" alt="wallpaper_5255573"></a></p>
                  <h2 id="视频下载"><a href="#视频下载" class="headerlink" title="视频下载"></a>视频下载</h2>
                  <p><a href="http://pan.baidu.com/s/1bnxtHYv" target="_blank" rel="noopener">视频下载</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-12 00:10:01" itemprop="dateCreated datePublished" datetime="2015-03-12T00:10:01+08:00">2015-03-12</time>
                </span>
                <span id="/1360.html" class="post-meta-item leancloud_visitors" data-flag-title="一步一步学摄影精华视频教程" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>601</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1350.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> PHP <i class="label-arrow"></i>
                  </a>
                  <a href="/1350.html" class="post-title-link" itemprop="url">ThinkPHP视频学习教程</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="关于PHP"><a href="#关于PHP" class="headerlink" title="关于PHP"></a>关于PHP</h2>
                  <p>PHP（外文名: Hypertext Preprocessor，中文名：“超文本预处理器”）是一种通用开源脚本语言。语法吸收了C语言、Java和Perl的特点，利于学习，使用广泛，主要适用于Web开发领域。PHP 独特的语法混合了C、Java、Perl以及PHP自创的语法。它可以比CGI或者Perl更快速地执行动态网页。用PHP做出的动态页面与其他的编程语言相比，PHP是将程序嵌入到HTML（标准通用标记语言下的一个应用）文档中去执行，执行效率比完全生成HTML标记的CGI要高许多；PHP还可以执行编译后代码，编译可以达到加密和优化代码运行，使代码运行更快。 在此提供PHP视频教程，视频来源：兄弟连教育</p>
                  <h2 id="关于THINKPHP"><a href="#关于THINKPHP" class="headerlink" title="关于THINKPHP"></a>关于THINKPHP</h2>
                  <pre><code>    ThinkPHP是为了简化企业级应用开发和敏捷WEB应用开发而诞生的。最早诞生于2006年初，2007年元旦正式更名为ThinkPHP，并且遵循Apache2开源协议发布。ThinkPHP从诞生以来一直秉承简洁实用的设计原则，在保持出色的性能和至简的代码的同时，也注重易用性。并且拥有众多原创功能和特性，在社区团队的积极参与下，在易用性、扩展性和性能方面不断优化和改进。

    ThinkPHP是一个快速、兼容而且简单的轻量级国产PHP开发框架，诞生于2006年初，原名FCS，2007年元旦正式更名为ThinkPHP，遵循Apache2开源协议发布，从Struts结构移植过来并做了改进和完善，同时也借鉴了国外很多优秀的框架和模式，使用面向对象的开发结构和MVC模式，融合了Struts的思想和TagLib（标签库）、RoR的ORM映射和ActiveRecord模式。
</code></pre>
                  <p>ThinkPHP可以支持windows/Unix/Liunx等服务器环境，正式版需要PHP5.0以上版本支持，支持MySql、PgSQL、Sqlite以及PDO等多种数据库，ThinkPHP框架本身没有什么特别模块要求，具体的应用系统运行环境要求视开发所涉及的模块。</p>
                  <p>作为一个整体开发解决方案，ThinkPHP能够解决应用开发中的大多数需要，因为其自身包含了底层架构、兼容处理、基类库、数据库访问层、模板引擎、缓存机制、插件机制、角色认证、表单处理等常用的组件，并且对于跨版本、跨平台和跨数据库移植都比较方便。并且每个组件都是精心设计和完善的，应用开发过程仅仅需要关注您的业务逻辑。</p>
                  <h2 id="关于兄弟连"><a href="#关于兄弟连" class="headerlink" title="关于兄弟连"></a>关于兄弟连</h2>
                  <p>兄弟连成立于2006年，专注于IT技术培训，是国内最早及最大的PHP/LAMP技术专业培训学校。 兄弟连现已开设PHP/Java/Android/IOS/手游/云计算/UI等多学科，累计培养逾万名学员，2014年学员就业平均起薪高达5500元+。 兄弟连已是第9个年头，这条路虽历尽艰辛，但我们痴心不改。我们就是想让学员们知道：不是所有的培训机构都是骗人的！ 在兄弟连，你可以找到自我、重拾自信；在兄弟连，你会每天渴求成长，学到深夜； 在兄弟连，你把学习当成一种习惯；在兄弟连，你有更多的兄弟姐妹； 在兄弟连，有陪你一起熬夜的老师；在兄弟连，你会被“狠狠”的爱着…… 兄弟连已在北京、上海和广州设立校区，今后几年内将会陆续在成都、西安等地建设校区，每年有数十万名学员受益于兄弟连教育的职业培训、教学视频、网络公开课。</p>
                  <blockquote>
                    <p>兄弟连</p>
                    <p>“我们不仅仅是老师，我们是学员的梦想守护者与职场引路人。” 我们不敢妄言改变中国教育，只是低下头认认真真做教育。兄弟连没有做什么惊天动地的大事，我们就是把别人不愿做的脏活累活做到极致，做教育就是需要这种工匠精神。 在中国，选择职业培训的学生，一定是对自己未来有憧憬、想改变命运的有志青年。主观上有学习的欲望，客观上自控能力差，需要外力协助其改变。 教学靠谱/变态严管/职业素养课我们的核心竞争力。 培训结束会有脱胎换骨的感觉，怕死别来兄弟连！</p>
                  </blockquote>
                  <p>感谢 <a href="http://weibo.com/lampbrother" target="_blank" rel="noopener">@兄弟连教育</a></p>
                  <blockquote>
                    <p><strong>VERSION：THINKPHP 版本 3.1.2</strong> </p>
                  </blockquote>
                  <p><a href="http://www.lampbrother.net/phptrain/video_13.php" target="_blank" rel="noopener">视频下载</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-11 23:54:39" itemprop="dateCreated datePublished" datetime="2015-03-11T23:54:39+08:00">2015-03-11</time>
                </span>
                <span id="/1350.html" class="post-meta-item leancloud_visitors" data-flag-title="ThinkPHP视频学习教程" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>1.6k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1809.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Java <i class="label-arrow"></i>
                  </a>
                  <a href="/1809.html" class="post-title-link" itemprop="url">Win7用Eclipse配置JSP开发环境详细教程</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="一、安装jdk"><a href="#一、安装jdk" class="headerlink" title="一、安装jdk"></a><strong>一、安装jdk</strong></h2>
                  <h3 id="1）下载jdk1-7"><a href="#1）下载jdk1-7" class="headerlink" title="1）下载jdk1.7"></a>1）下载jdk1.7</h3>
                  <p><a href="http://pan.baidu.com/s/1i3BPXfZ" target="_blank" rel="noopener">下载地址</a> 自己定义一个目录安装，一步步安装下来，我是安装到了D盘，如图所示： <img src="http://img.blog.csdn.net/20140307134338765?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
                  <h3 id="2）设置环境变量"><a href="#2）设置环境变量" class="headerlink" title="2）设置环境变量"></a>2）设置环境变量</h3>
                  <p>我的电脑右击点属性，再点高级系统设置<img src="http://img.blog.csdn.net/20140307134535000?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 点击环境变量进行环境变量配置,如图所示： <img src="http://img.blog.csdn.net/20140307134833656?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> <strong>配置方法一：</strong> 1）配置时找到系统变量，找到path变量，如果没有则新建。 在变量名填Path，变量值填 D:\jdk1.7\bin;注意要加分号！ 如图所示： <img src="http://img.blog.csdn.net/20140307135858343?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 2）同理，找到变量名classpath，没有就新建一个classpath 变量值填D:\jdk1.7\lib;. <strong>配制方法二：</strong></p>
                  <blockquote>
                    <p>1）新建java_home变量 变量名：java_home 变量值：D:\jdk1.7; 2）变量名：path 变量值：%java_home%\bin; 3）变量名：classpath 变量值：%java_home%\lib;</p>
                  </blockquote>
                  <p>这个是以后配置时直接引用java_home比较方便 这样jdk的安装和环境变量的配置就完成啦！ 测试是否成功：在命令行输入java -version 如果出现下列字符则说明成功 <img src="http://img.blog.csdn.net/20140307140619578?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
                  <h2 id="二、Eclipse的下载"><a href="#二、Eclipse的下载" class="headerlink" title="二、Eclipse的下载"></a><strong>二、Eclipse的下载</strong></h2>
                  <p>注意：此处提供的3.3版本，若版本太高，没有与Eclipse相对应的lomboz版本则无法配置，目前lomboz最高是3.3版本 <a href="http://pan.baidu.com/s/1dDoX5cd" target="_blank" rel="noopener">下载地址</a> 注意：如果你已经有了3.3版本，那么可以跳过此步。 我新建了一个JspEclipse文件夹，解压到此文件夹如图所示： <img src="http://img.blog.csdn.net/20140307140948171?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 首先进行汉化 <a href="http://pan.baidu.com/s/1i3qlpVB" target="_blank" rel="noopener">语言包下载</a> 下载后新建一个eclipse_plugins文件夹，解压到此文件夹下，创建这个文件夹的目的是把所有下载的插件都保存到这里，便于管理 目录层次如图所示，language下有eclipse，eclipse下有features和plugins文件夹 <img src="http://img.blog.csdn.net/20140307141539359?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 在原先的JspEclipse下的eclipse文件夹下新建一个links文件夹，再新建文本文件，扩展名为link，内容如图所示： <img src="http://img.blog.csdn.net/20140307141957281?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 这样汉化就完成了</p>
                  <h2 id="三、配置lomboz"><a href="#三、配置lomboz" class="headerlink" title="三、配置lomboz"></a><strong>三、配置lomboz</strong></h2>
                  <p><a href="http://pan.baidu.com/s/1eQmTBRO" target="_blank" rel="noopener">下载地址</a> 同样下载解压到原先创建的eclipse_plugins文件夹下，如图所示： <img src="http://img.blog.csdn.net/20140307142231640?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 同上在原先的JspEclipse下的eclipse文件夹下新建一个links文件夹，再新建文本文件，扩展名为link，内容如图所示： <img src="http://img.blog.csdn.net/20140307142453828?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 这样lomboz就配置完成啦，启动一下试试！ <img src="http://img.blog.csdn.net/20140307142646296?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 此处显示中文，说明汉化成功！ 小问题的解决：或许有的人会显示这样的页面： <img src="http://img.blog.csdn.net/20140314231031453?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 那么下载 <a href="http://pan.baidu.com/s/1mg2qKAW" target="_blank" rel="noopener">eclipse.ini</a> 这个文件，把目录下的eclipse.ini文件替换掉。用记事本打开这个文件显示如下内容：</p>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">-startup</span><br><span class="line"> plugins\org<span class="selector-class">.eclipse</span><span class="selector-class">.equinox</span><span class="selector-class">.launcher_1</span>.<span class="number">0.0</span><span class="selector-class">.v20070606</span>.jar</span><br><span class="line"> --launcher.library</span><br><span class="line"> plugins\org<span class="selector-class">.eclipse</span><span class="selector-class">.equinox</span><span class="selector-class">.launcher</span><span class="selector-class">.win32</span><span class="selector-class">.win32</span><span class="selector-class">.x86_1</span>.<span class="number">0.0</span>.v20070523</span><br><span class="line"> -showsplash</span><br><span class="line"> org<span class="selector-class">.eclipse</span>.platform</span><br><span class="line"> --launcher.XXMaxPermSize</span><br><span class="line"> <span class="number">128</span>m</span><br><span class="line"> -vm</span><br><span class="line"> D:\java Jdk <span class="number">1.6</span>\bin\javaw.exe</span><br><span class="line"> -vmargs</span><br><span class="line"> -Xms40m</span><br><span class="line"> -Xmx384m</span><br><span class="line"> -Djava<span class="selector-class">.net</span>.preferIPv4Stack=true</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>-startup是启动所需要的jar文件，这里我把相对路径配好了 -luncher.library我也把相对路径配好了 -xxmaxpermsize是最大内存限制，如果这个数值过大也会出现上述情况，我改成了128m <img src="http://img.blog.csdn.net/20140314231733250?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> -vm 这里是相对的jdk环境设置，这个要设置成你自己的jdk环境，自己写一个路径，在bin目录下，一个javaw.exe文件，如果还不行，那么可能是jdk的版本导致的，我换用了jdk1.6测试成功！如果1.7不能用的话，就换用1.6版本的jdk吧！ 好，小问题暂告一段落，看下图。 <img src="http://img.blog.csdn.net/20140307142719703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 如果你能新建Dynamic Web Project说明你已经全配置成功啦！欢呼吧骚年们！</p>
                  <h2 id="四、配置tomcat"><a href="#四、配置tomcat" class="headerlink" title="四、配置tomcat"></a><strong>四、配置tomcat</strong></h2>
                  <p><a href="http://pan.baidu.com/s/1eQDYsDG" target="_blank" rel="noopener">下载地址</a> 这个是免安装版，可以直接下载解压，我放在了D盘 <img src="http://img.blog.csdn.net/20140314220235843?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> tomcat环境变量的配置： 1，新建变量名：CATALINA_BASE，变量值：D:\tomcat 6.0\apache-tomcat-6.0.29 2，新建变量名：CATALINA_HOME，变量值：D:\tomcat 6.0\apache-tomcat-6.0.29 【1和2中的路径根据你存放的目录不同而不同】 3，打开PATH，添加变量值：%CATALINA_HOME%\lib;%CATALINA_HOME%\bin 启动tomcat： 在开始菜单输入cmd，然后cd命令定位到tomcat的bin目录，如图 <img src="http://img.blog.csdn.net/20140314220754109?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 然后输入 startup.bat命令，这时tomcat就启动起来了，会弹出一个新的窗口，那个就是tomcat <img src="http://img.blog.csdn.net/20140314220916703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 下面这个图就是tomcat： <img src="http://img.blog.csdn.net/20140314221457468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 下面进行测试：在浏览器输入<a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a> 看看能否出现tomcat界面，如果出现了，那么说明成功了！如果不行，检查环境变量的配置。 <img src="http://img.blog.csdn.net/20140314221834671?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
                  <h2 id="五、tomcat嵌入eclipse"><a href="#五、tomcat嵌入eclipse" class="headerlink" title="五、tomcat嵌入eclipse"></a><strong>五、tomcat嵌入eclipse</strong></h2>
                  <p>打开eclipse，窗口—&gt;首选项，界面如下： <img src="http://img.blog.csdn.net/20140314222139515?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 点选服务器—&gt;运行时环境—&gt;添加，选择Apach—&gt;tomcat6.0，完成 <img src="http://img.blog.csdn.net/20140314222442921?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 创建之后编辑，添加tomcat的目录，名称自己随便取，jre用缺省jre <img src="http://img.blog.csdn.net/20140314222817437?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 这样在eclipse下方就出现了一个tomcat了，绿色的箭头就是启动，红色的方块是停止 <img src="http://img.blog.csdn.net/20140314223414203?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 可以点击运行tomcat，其中点下方标记的红色处，可以对tomcat进行详细配置，默认配置即可，不用更改了 <img src="http://img.blog.csdn.net/20140314223719093?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
                  <h2 id="六、测试项目"><a href="#六、测试项目" class="headerlink" title="六、测试项目"></a><strong>六、测试项目</strong></h2>
                  <p>新建一个Dynamic Web Project项目 <img src="http://img.blog.csdn.net/20140314224104578?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 点下一步，我取名为test，服务器选刚才创建的tomcat6.0，然后下一步，下一步，直到完成就好了 <img src="http://img.blog.csdn.net/20140314224443484?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 在webcontent目录下面新建一个jsp文件，我的叫a.jsp <img src="http://img.blog.csdn.net/20140314225509390?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 我在body区输入了My First Jsp 右击该文件，在服务器上运行，选择tomcat，然后结果如图所示。恭喜你，所有配置都成功啦！ <img src="http://img.blog.csdn.net/20140314230049453?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""> 点选eclipse的窗口,然后web浏览器，选default system web browser，即系统默认浏览器，就可以用自己的浏览器打开界面啦。如图所示 <img src="http://img.blog.csdn.net/20140314230729625?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3FjcmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-11 16:48:44" itemprop="dateCreated datePublished" datetime="2015-03-11T16:48:44+08:00">2015-03-11</time>
                </span>
                <span id="/1809.html" class="post-meta-item leancloud_visitors" data-flag-title="Win7用Eclipse配置JSP开发环境详细教程" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>2.5k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>2 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1319.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Python <i class="label-arrow"></i>
                  </a>
                  <a href="/1319.html" class="post-title-link" itemprop="url">Python爬虫利器二之Beautiful Soup的用法</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>上一节我们介绍了正则表达式，它的内容其实还是蛮多的，如果一个正则匹配稍有差池，那可能程序就处在永久的循环之中，而且有的小伙伴们也对写正则表达式的写法用得不熟练，没关系，我们还有一个更强大的工具，叫Beautiful Soup，有了它我们可以很方便地提取出HTML或XML标签中的内容，实在是方便，这一节就让我们一起来感受一下Beautiful Soup的强大吧。</p>
                  <h2 id="1-Beautiful-Soup的简介"><a href="#1-Beautiful-Soup的简介" class="headerlink" title="1. Beautiful Soup的简介"></a>1. Beautiful Soup的简介</h2>
                  <p>简单来说，Beautiful Soup是python的一个库，最主要的功能是从网页抓取数据。官方解释如下：</p>
                  <blockquote>
                    <p>Beautiful Soup提供一些简单的、python式的函数用来处理导航、搜索、修改分析树等功能。它是一个工具箱，通过解析文档为用户提供需要抓取的数据，因为简单，所以不需要多少代码就可以写出一个完整的应用程序。 Beautiful Soup自动将输入文档转换为Unicode编码，输出文档转换为utf-8编码。你不需要考虑编码方式，除非文档没有指定一个编码方式，这时，Beautiful Soup就不能自动识别编码方式了。然后，你仅仅需要说明一下原始编码方式就可以了。 Beautiful Soup已成为和lxml、html6lib一样出色的python解释器，为用户灵活地提供不同的解析策略或强劲的速度。</p>
                  </blockquote>
                  <p>废话不多说，我们来试一下吧~</p>
                  <h2 id="2-Beautiful-Soup-安装"><a href="#2-Beautiful-Soup-安装" class="headerlink" title="2. Beautiful Soup 安装"></a>2. Beautiful Soup 安装</h2>
                  <p>Beautiful Soup 3 目前已经停止开发，推荐在现在的项目中使用Beautiful Soup 4，不过它已经被移植到BS4了，也就是说导入时我们需要 import bs4 。所以这里我们用的版本是 Beautiful Soup 4.3.2 (简称BS4)，另外据说 BS4 对 Python3 的支持不够好，不过我用的是 Python2.7.7，如果有小伙伴用的是 Python3 版本，可以考虑下载 BS3 版本。 可以利用 pip 或者 easy_install 来安装，以下两种方法均可</p>
                  <figure class="highlight nginx">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attribute">easy_install</span> beautifulsoup4</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight cmake">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">pip <span class="keyword">install</span> beautifulsoup4</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>如果想安装最新的版本，请直接下载安装包来手动安装，也是十分方便的方法。在这里我安装的是 Beautiful Soup 4.3.2 <a href="https://pypi.python.org/pypi/BeautifulSoup/3.2.1" target="_blank" rel="noopener">Beautiful Soup 3.2.1</a><a href="https://pypi.python.org/pypi/beautifulsoup4/4.3.2" target="_blank" rel="noopener">Beautiful Soup 4.3.2</a> 下载完成之后解压 运行下面的命令即可完成安装</p>
                  <figure class="highlight vim">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">sudo <span class="keyword">python</span> setup.<span class="keyword">py</span> install</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>然后需要安装 lxml</p>
                  <figure class="highlight ebnf">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attribute">easy_install lxml</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight cmake">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">pip <span class="keyword">install</span> lxml</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>另一个可供选择的解析器是纯Python实现的 html5lib , html5lib的解析方式与浏览器相同,可以选择下列方法来安装html5lib:</p>
                  <figure class="highlight nginx">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attribute">easy_install</span> html5lib</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight cmake">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">pip <span class="keyword">install</span> html5lib</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>Beautiful Soup支持Python标准库中的HTML解析器,还支持一些第三方的解析器，如果我们不安装它，则 Python 会使用 Python默认的解析器，lxml 解析器更加强大，速度更快，推荐安装。</p>
                  <p>&lt;thead”&gt;</p>
                  <p>解析器</p>
                  <p>使用方法</p>
                  <p>优势</p>
                  <p>劣势</p>
                  <p>Python标准库</p>
                  <p>BeautifulSoup(markup, “html.parser”)</p>
                  <ul>
                    <li>Python的内置标准库</li>
                    <li>执行速度适中</li>
                    <li>
                      <p>文档容错能力强</p>
                    </li>
                    <li>
                      <p>Python 2.7.3 or 3.2.2)前 的版本中文档容错能力差</p>
                    </li>
                  </ul>
                  <p>lxml HTML 解析器</p>
                  <p>BeautifulSoup(markup, “lxml”)</p>
                  <ul>
                    <li>速度快</li>
                    <li>
                      <p>文档容错能力强</p>
                    </li>
                    <li>
                      <p>需要安装C语言库</p>
                    </li>
                  </ul>
                  <p>lxml XML 解析器</p>
                  <p>BeautifulSoup(markup, [“lxml”, “xml”])BeautifulSoup(markup, “xml”)</p>
                  <ul>
                    <li>速度快</li>
                    <li>
                      <p>唯一支持XML的解析器</p>
                    </li>
                    <li>
                      <p>需要安装C语言库</p>
                    </li>
                  </ul>
                  <p>html5lib</p>
                  <p>BeautifulSoup(markup, “html5lib”)</p>
                  <ul>
                    <li>最好的容错性</li>
                    <li>以浏览器的方式解析文档</li>
                    <li>
                      <p>生成HTML5格式的文档</p>
                    </li>
                    <li>
                      <p>速度慢</p>
                    </li>
                    <li>不依赖外部扩展</li>
                  </ul>
                  <h2 id="3-开启Beautiful-Soup-之旅"><a href="#3-开启Beautiful-Soup-之旅" class="headerlink" title="3. 开启Beautiful Soup 之旅"></a>3. 开启Beautiful Soup 之旅</h2>
                  <p>在这里先分享官方文档链接，不过内容是有些多，也不够条理，在此本文章做一下整理方便大家参考。 <a href="http://beautifulsoup.readthedocs.org/zh_CN/latest" target="_blank" rel="noopener">官方文档</a></p>
                  <h2 id="4-创建-Beautiful-Soup-对象"><a href="#4-创建-Beautiful-Soup-对象" class="headerlink" title="4. 创建 Beautiful Soup 对象"></a>4. 创建 Beautiful Soup 对象</h2>
                  <p>首先必须要导入 bs4 库</p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们创建一个字符串，后面的例子我们便会用它来演示</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">html = """</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">name</span>=<span class="string">"dromouse"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>Once upon a time there were three little sisters; and their names were</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>,</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span> and</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>;</span><br><span class="line">and they lived at the bottom of a well.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">"""</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>创建 beautifulsoup 对象</p>
                  <figure class="highlight ini">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attr">soup</span> = BeautifulSoup(html)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>另外，我们还可以用本地 HTML 文件来创建对象，例如</p>
                  <figure class="highlight isbl">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="variable">soup</span> = <span class="function"><span class="title">BeautifulSoup</span>(<span class="title">open</span>(<span class="string">'index.html'</span>))</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>上面这句代码便是将本地 index.html 文件打开，用它来创建 soup 对象 下面我们来打印一下 soup 对象的内容，格式化输出</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> soup.prettify()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span></span><br><span class="line">   The Dormouse's story</span><br><span class="line">  <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">name</span>=<span class="string">"dromouse"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">b</span>&gt;</span></span><br><span class="line">    The Dormouse's story</span><br><span class="line">   <span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span></span><br><span class="line">   Once upon a time there were three little sisters; and their names were</span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Elsie --&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">   ,</span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span></span><br><span class="line">    Lacie</span><br><span class="line">   <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">   and</span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span></span><br><span class="line">    Tillie</span><br><span class="line">   <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">   ;</span><br><span class="line">and they lived at the bottom of a well.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span></span><br><span class="line">   ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>以上便是输出结果，格式化打印出了它的内容，这个函数经常用到，小伙伴们要记好咯。</p>
                  <h2 id="5-四大对象种类"><a href="#5-四大对象种类" class="headerlink" title="5. 四大对象种类"></a>5. 四大对象种类</h2>
                  <p>Beautiful Soup将复杂HTML文档转换成一个复杂的树形结构,每个节点都是Python对象,所有对象可以归纳为4种:</p>
                  <ul>
                    <li>Tag</li>
                    <li>NavigableString</li>
                    <li>BeautifulSoup</li>
                    <li>Comment</li>
                  </ul>
                  <p>下面我们进行一一介绍</p>
                  <h3 id="（1）Tag"><a href="#（1）Tag" class="headerlink" title="（1）Tag"></a><strong>（1）Tag</strong></h3>
                  <p>Tag 是什么？通俗点讲就是 HTML 中的一个个标签，例如</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;a <span class="attribute">class</span>=<span class="string">"sister"</span> <span class="attribute">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attribute">id</span>=<span class="string">"link1"</span>&gt;Elsie&lt;/a&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>上面的 title a 等等 HTML 标签加上里面包括的内容就是 Tag，下面我们来感受一下怎样用 Beautiful Soup 来方便地获取 Tags 下面每一段代码中注释部分即为运行结果</p>
                  <figure class="highlight dos">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">print</span> soup.<span class="built_in">title</span></span><br><span class="line">#&lt;<span class="built_in">title</span>&gt;The Dormouse's story&lt;/<span class="built_in">title</span>&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.head</span><br><span class="line">#<span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.a</span><br><span class="line">#<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.p</span><br><span class="line">#&lt;p <span class="keyword">class</span>="<span class="symbol">title</span>" <span class="symbol">name</span>="<span class="symbol">dromouse</span>"&gt;&lt;<span class="symbol">b</span>&gt;<span class="symbol">The</span> <span class="symbol">Dormouse</span>'<span class="symbol">s</span> <span class="symbol">story</span>&lt;/<span class="symbol">b</span>&gt;&lt;/<span class="symbol">p</span>&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们可以利用 soup加标签名轻松地获取这些标签的内容，是不是感觉比正则表达式方便多了？不过有一点是，它查找的是在所有内容中的第一个符合要求的标签，如果要查询所有的标签，我们在后面进行介绍。 我们可以验证一下这些对象的类型</p>
                  <figure class="highlight haskell">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="title">print</span> <span class="class"><span class="keyword">type</span>(<span class="title">soup</span>.<span class="title">a</span>)</span></span><br><span class="line"><span class="meta">#&lt;class 'bs4.element.Tag'&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>对于 Tag，它有两个重要的属性，是 name 和 attrs，下面我们分别来感受一下 <strong>name</strong></p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> soup.name</span><br><span class="line"><span class="builtin-name">print</span> soup.head.name</span><br><span class="line"><span class="comment">#[document]</span></span><br><span class="line"><span class="comment">#head</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>soup 对象本身比较特殊，它的 name 即为 [document]，对于其他内部标签，输出的值便为标签本身的名称。 <strong>attrs</strong></p>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup<span class="selector-class">.p</span>.attrs</span><br><span class="line">#&#123;<span class="string">'class'</span>: [<span class="string">'title'</span>], <span class="string">'name'</span>: <span class="string">'dromouse'</span>&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>在这里，我们把 p 标签的所有属性打印输出了出来，得到的类型是一个字典。 如果我们想要单独获取某个属性，可以这样，例如我们获取它的 class 叫什么</p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">print</span> <span class="selector-tag">soup</span><span class="selector-class">.p</span><span class="selector-attr">[<span class="string">'class'</span>]</span></span><br><span class="line">#<span class="selector-attr">[<span class="string">'title'</span>]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>还可以这样，利用get方法，传入属性的名称，二者是等价的</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> soup.p.<span class="builtin-name">get</span>(<span class="string">'class'</span>)</span><br><span class="line"><span class="comment">#['title']</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们可以对这些属性和内容等等进行修改，例如</p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.p[<span class="string">'class'</span>]=<span class="string">"newClass"</span></span><br><span class="line">print soup.p</span><br><span class="line">#&lt;p <span class="keyword">class</span>="<span class="symbol">newClass</span>" <span class="symbol">name</span>="<span class="symbol">dromouse</span>"&gt;&lt;<span class="symbol">b</span>&gt;<span class="symbol">The</span> <span class="symbol">Dormouse</span>'<span class="symbol">s</span> <span class="symbol">story</span>&lt;/<span class="symbol">b</span>&gt;&lt;/<span class="symbol">p</span>&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>还可以对这个属性进行删除，例如</p>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">del</span> soup<span class="selector-class">.p</span>[<span class="string">'class'</span>]</span><br><span class="line">print soup.p</span><br><span class="line">#&lt;<span class="selector-tag">p</span> name=<span class="string">"dromouse"</span>&gt;&lt;b&gt;The Dormouse<span class="string">'s story&lt;/b&gt;&lt;/p&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>不过，对于修改删除的操作，不是我们的主要用途，在此不做详细介绍了，如果有需要，请查看前面提供的官方文档</p>
                  <h3 id="（2）NavigableString"><a href="#（2）NavigableString" class="headerlink" title="（2）NavigableString"></a><strong>（2）NavigableString</strong></h3>
                  <p>既然我们已经得到了标签的内容，那么问题来了，我们要想获取标签内部的文字怎么办呢？很简单，用 .string 即可，例如</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> soup.p.string</span><br><span class="line"><span class="comment">#The Dormouse's story</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>这样我们就轻松获取到了标签里面的内容，想想如果用正则表达式要多麻烦。它的类型是一个 NavigableString，翻译过来叫 可以遍历的字符串，不过我们最好还是称它英文名字吧。 来检查一下它的类型</p>
                  <figure class="highlight moonscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">print</span> <span class="built_in">type</span>(soup.p.<span class="built_in">string</span>)</span><br><span class="line">#&lt;<span class="class"><span class="keyword">class</span> '<span class="title">bs4</span>.<span class="title">element</span>.<span class="title">NavigableString</span>'&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（3）BeautifulSoup"><a href="#（3）BeautifulSoup" class="headerlink" title="（3）BeautifulSoup"></a><strong>（3）BeautifulSoup</strong></h3>
                  <p>BeautifulSoup 对象表示的是一个文档的全部内容.大部分时候,可以把它当作 Tag 对象，是一个特殊的 Tag，我们可以分别获取它的类型，名称，以及属性来感受一下</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> type(soup.name)</span><br><span class="line"><span class="comment">#&lt;type 'unicode'&gt;</span></span><br><span class="line"><span class="builtin-name">print</span> soup.name </span><br><span class="line"><span class="comment"># [document]</span></span><br><span class="line"><span class="builtin-name">print</span> soup.attrs </span><br><span class="line"><span class="comment">#&#123;&#125; 空字典</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（4）Comment"><a href="#（4）Comment" class="headerlink" title="（4）Comment"></a><strong>（4）Comment</strong></h3>
                  <p>Comment 对象是一个特殊类型的 NavigableString 对象，其实输出的内容仍然不包括注释符号，但是如果不好好处理它，可能会对我们的文本处理造成意想不到的麻烦。 我们找一个带注释的标签</p>
                  <figure class="highlight go">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">print</span> soup.a</span><br><span class="line"><span class="built_in">print</span> soup.a.<span class="keyword">string</span></span><br><span class="line"><span class="built_in">print</span> <span class="keyword">type</span>(soup.a.<span class="keyword">string</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果如下</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> Elsie </span><br><span class="line"><span class="tag">&lt;<span class="name">class</span> '<span class="attr">bs4.element.Comment</span>'&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>a 标签里的内容实际上是注释，但是如果我们利用 .string 来输出它的内容，我们发现它已经把注释符号去掉了，所以这可能会给我们带来不必要的麻烦。 另外我们打印输出下它的类型，发现它是一个 Comment 类型，所以，我们在使用前最好做一下判断，判断代码如下</p>
                  <figure class="highlight livecodeserver">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">if</span> type(soup.<span class="keyword">a</span>.<span class="keyword">string</span>)==bs4.<span class="keyword">element</span>.Comment:</span><br><span class="line">    print soup.<span class="keyword">a</span>.<span class="keyword">string</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>上面的代码中，我们首先判断了它的类型，是否为 Comment 类型，然后再进行其他操作，如打印输出。</p>
                  <h2 id="6-遍历文档树"><a href="#6-遍历文档树" class="headerlink" title="6. 遍历文档树"></a>6. 遍历文档树</h2>
                  <h3 id="（1）直接子节点"><a href="#（1）直接子节点" class="headerlink" title="（1）直接子节点"></a><strong>（1）直接子节点</strong></h3>
                  <blockquote>
                    <p><strong>要点：.contents .children</strong> <strong>属性</strong></p>
                  </blockquote>
                  <p><strong>.contents</strong> tag 的 .content 属性可以将tag的子节点以列表的方式输出</p>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.head.contents </span><br><span class="line">#<span class="meta">[&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>输出方式为列表，我们可以用列表索引来获取它的某一个元素</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> soup.head.contents[0]</span><br><span class="line"><span class="comment">#&lt;title&gt;The Dormouse's story&lt;/title&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>.children</strong> 它返回的不是一个 list，不过我们可以通过遍历获取所有子节点。 我们打印输出 .children 看一下，可以发现它是一个 list 生成器对象</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> soup.head.children</span><br><span class="line"><span class="comment">#&lt;listiterator object at 0x7f71457f5710&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们怎样获得里面的内容呢？很简单，遍历一下就好了，代码及结果如下</p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">for</span> <span class="selector-tag">child</span> <span class="selector-tag">in</span>  <span class="selector-tag">soup</span><span class="selector-class">.body</span><span class="selector-class">.children</span>:</span><br><span class="line">    <span class="selector-tag">print</span> <span class="selector-tag">child</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">name</span>=<span class="string">"dromouse"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>Once upon a time there were three little sisters; and their names were</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>,</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span> and</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>;</span><br><span class="line">and they lived at the bottom of a well.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（2）所有子孙节点"><a href="#（2）所有子孙节点" class="headerlink" title="（2）所有子孙节点"></a><strong>（2）所有子孙节点</strong></h3>
                  <blockquote>
                    <p><strong>知识点：.descendants</strong> <strong>属性</strong></p>
                  </blockquote>
                  <p><strong>.descendants</strong> .contents 和 .children 属性仅包含tag的直接子节点，.descendants 属性可以对所有tag的子孙节点进行递归循环，和 children类似，我们也需要遍历获取其中的内容。</p>
                  <figure class="highlight properties">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attr">for</span> <span class="string">child in soup.descendants:</span></span><br><span class="line">    <span class="attr">print</span> <span class="string">child</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果如下，可以发现，所有的节点都被打印出来了，先生最外层的 HTML标签，其次从 head 标签一个个剥离，以此类推。</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">name</span>=<span class="string">"dromouse"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>Once upon a time there were three little sisters; and their names were</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>,</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span> and</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>;</span><br><span class="line">and they lived at the bottom of a well.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">The Dormouse's story</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">name</span>=<span class="string">"dromouse"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>Once upon a time there were three little sisters; and their names were</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>,</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span> and</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>;</span><br><span class="line">and they lived at the bottom of a well.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">name</span>=<span class="string">"dromouse"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">The Dormouse's story</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>Once upon a time there were three little sisters; and their names were</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>,</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span> and</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>;</span><br><span class="line">and they lived at the bottom of a well.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">Once upon a time there were three little sisters; and their names were</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> Elsie </span><br><span class="line">,</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">Lacie</span><br><span class="line"> and</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">Tillie</span><br><span class="line">;</span><br><span class="line">and they lived at the bottom of a well.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">...</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（3）节点内容"><a href="#（3）节点内容" class="headerlink" title="（3）节点内容"></a><strong>（3）节点内容</strong></h3>
                  <blockquote>
                    <p>知识点：.string 属性</p>
                  </blockquote>
                  <p>如果tag只有一个 NavigableString 类型子节点,那么这个tag可以使用 .string 得到子节点。如果一个tag仅有一个子节点,那么这个tag也可以使用 .string 方法,输出结果与当前唯一子节点的 .string 结果相同。 通俗点说就是：如果一个标签里面没有标签了，那么 .string 就会返回标签里面的内容。如果标签里面只有唯一的一个标签了，那么 .string 也会返回最里面的内容。例如</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> soup.head.string</span><br><span class="line"><span class="comment">#The Dormouse's story</span></span><br><span class="line"><span class="builtin-name">print</span> soup.title.string</span><br><span class="line"><span class="comment">#The Dormouse's story</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>如果tag包含了多个子节点,tag就无法确定，string 方法应该调用哪个子节点的内容, .string 的输出结果是 None</p>
                  <figure class="highlight gauss">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">print</span> soup.html.<span class="keyword">string</span></span><br><span class="line"><span class="meta"># None</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（4）多个内容"><a href="#（4）多个内容" class="headerlink" title="（4）多个内容"></a><strong>（4）多个内容</strong></h3>
                  <blockquote>
                    <p><strong>知识点： .strings .stripped_strings 属性</strong></p>
                  </blockquote>
                  <p><strong>.strings</strong> 获取多个内容，不过需要遍历获取，比如下面的例子</p>
                  <figure class="highlight autoit">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">for</span> <span class="built_in">string</span> <span class="keyword">in</span> soup.strings:</span><br><span class="line">    print(repr(<span class="built_in">string</span>))</span><br><span class="line">    <span class="meta"># u<span class="string">"The Dormouse's story"</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'\n\n'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">"The Dormouse's story"</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'\n\n'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'Once upon a time there were three little sisters; and their names were\n'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'Elsie'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">',\n'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'Lacie'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">' and\n'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'Tillie'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">';\nand they lived at the bottom of a well.'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'\n\n'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'...'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'\n'</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>.stripped_strings </strong> 输出的字符串中可能包含了很多空格或空行,使用 .stripped_strings 可以去除多余空白内容</p>
                  <figure class="highlight autoit">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">for</span> <span class="built_in">string</span> <span class="keyword">in</span> soup.stripped_strings:</span><br><span class="line">    print(repr(<span class="built_in">string</span>))</span><br><span class="line">    <span class="meta"># u<span class="string">"The Dormouse's story"</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">"The Dormouse's story"</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'Once upon a time there were three little sisters; and their names were'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'Elsie'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">','</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'Lacie'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'and'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'Tillie'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">';\nand they lived at the bottom of a well.'</span></span></span><br><span class="line">    <span class="meta"># u<span class="string">'...'</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（5）父节点"><a href="#（5）父节点" class="headerlink" title="（5）父节点"></a><strong>（5）父节点</strong></h3>
                  <blockquote>
                    <p> <strong>知识点： .parent 属性</strong></p>
                  </blockquote>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">p</span> = soup.p</span><br><span class="line">print <span class="selector-tag">p</span><span class="selector-class">.parent</span>.name</span><br><span class="line">#body</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight maxima">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">content</span> = soup.head.<span class="built_in">title</span>.<span class="built_in">string</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">content</span>.parent.name</span><br><span class="line">#<span class="built_in">title</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（6）全部父节点"><a href="#（6）全部父节点" class="headerlink" title="（6）全部父节点"></a><strong>（6）全部父节点</strong></h3>
                  <blockquote>
                    <p><strong>知识点：.parents 属性</strong></p>
                  </blockquote>
                  <p>通过元素的 .parents 属性可以递归得到元素的所有父辈节点，例如</p>
                  <figure class="highlight maxima">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">content</span> = soup.head.<span class="built_in">title</span>.<span class="built_in">string</span></span><br><span class="line"><span class="keyword">for</span> parent <span class="keyword">in</span>  <span class="built_in">content</span>.parents:</span><br><span class="line">    <span class="built_in">print</span> parent.name</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xquery">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">title</span><br><span class="line">head</span><br><span class="line">html</span><br><span class="line"><span class="built_in">[document</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（7）兄弟节点"><a href="#（7）兄弟节点" class="headerlink" title="（7）兄弟节点"></a><strong>（7）兄弟节点</strong></h3>
                  <blockquote>
                    <p><strong>知识点：.next_sibling .previous_sibling 属性</strong></p>
                  </blockquote>
                  <p>兄弟节点可以理解为和本节点处在统一级的节点，.next_sibling 属性获取了该节点的下一个兄弟节点，.previous_sibling 则与之相反，如果节点不存在，则返回 None 注意：实际文档中的tag的 .next_sibling 和 .previous_sibling 属性通常是字符串或空白，因为空白或者换行也可以被视作一个节点，所以得到的结果可能是空白或者换行</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.p.next_sibling</span><br><span class="line">#       实际该处为空白</span><br><span class="line">print soup.p.prev_sibling</span><br><span class="line">#None   没有前一个兄弟节点，返回 None</span><br><span class="line">print soup.p.next_sibling.next_sibling</span><br><span class="line">#<span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>Once upon a time there were three little sisters; and their names were</span><br><span class="line">#<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>,</span><br><span class="line">#<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span> and</span><br><span class="line">#<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>;</span><br><span class="line">#and they lived at the bottom of a well.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">#下一个节点的下一个兄弟节点是我们可以看到的节点</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（8）全部兄弟节点"><a href="#（8）全部兄弟节点" class="headerlink" title="（8）全部兄弟节点"></a><strong>（8）全部兄弟节点</strong></h3>
                  <blockquote>
                    <p><strong>知识点：.next_siblings .previous_siblings 属性</strong></p>
                  </blockquote>
                  <p>通过 .next_siblings 和 .previous_siblings 属性可以对当前节点的兄弟节点迭代输出</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">for</span> sibling <span class="keyword">in</span> soup.a.next_siblings:</span><br><span class="line">    <span class="builtin-name">print</span>(repr(sibling))</span><br><span class="line">    # u<span class="string">',\n'</span></span><br><span class="line">    # &lt;a <span class="attribute">class</span>=<span class="string">"sister"</span> <span class="attribute">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attribute">id</span>=<span class="string">"link2"</span>&gt;Lacie&lt;/a&gt;</span><br><span class="line">    # u<span class="string">' and\n'</span></span><br><span class="line">    # &lt;a <span class="attribute">class</span>=<span class="string">"sister"</span> <span class="attribute">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attribute">id</span>=<span class="string">"link3"</span>&gt;Tillie&lt;/a&gt;</span><br><span class="line">    # u<span class="string">'; and they lived at the bottom of a well.'</span></span><br><span class="line">    # None</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（9）前后节点"><a href="#（9）前后节点" class="headerlink" title="（9）前后节点"></a><strong>（9）前后节点</strong></h3>
                  <blockquote>
                    <p><strong>知识点：.next_element .previous_element 属性</strong></p>
                  </blockquote>
                  <p>与 .next_sibling .previous_sibling 不同，它并不是针对于兄弟节点，而是在所有节点，不分层次 比如 head 节点为</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>那么它的下一个节点便是 title，它是不分层次关系的</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="builtin-name">print</span> soup.head.next_element</span><br><span class="line"><span class="comment">#&lt;title&gt;The Dormouse's story&lt;/title&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（10）所有前后节点"><a href="#（10）所有前后节点" class="headerlink" title="（10）所有前后节点"></a><strong>（10）所有前后节点</strong></h3>
                  <blockquote>
                    <p><strong>知识点：.next_elements .previous_elements 属性</strong></p>
                  </blockquote>
                  <p>通过 .next_elements 和 .previous_elements 的迭代器就可以向前或向后访问文档的解析内容,就好像文档正在被解析一样</p>
                  <figure class="highlight clean">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">for element <span class="keyword">in</span> last_a_tag.next_elements:</span><br><span class="line">    print(repr(element))</span><br><span class="line"># u<span class="string">'Tillie'</span></span><br><span class="line"># u<span class="string">';\nand they lived at the bottom of a well.'</span></span><br><span class="line"># u<span class="string">'\n\n'</span></span><br><span class="line"># &lt;p <span class="keyword">class</span>=<span class="string">"story"</span>&gt;...&lt;/p&gt;</span><br><span class="line"># u<span class="string">'...'</span></span><br><span class="line"># u<span class="string">'\n'</span></span><br><span class="line"># None</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>以上是遍历文档树的基本用法。</p>
                  <h2 id="7-搜索文档树"><a href="#7-搜索文档树" class="headerlink" title="7.搜索文档树"></a>7.搜索文档树</h2>
                  <h3 id="（1）find-all-name-attrs-recursive-text-kwargs"><a href="#（1）find-all-name-attrs-recursive-text-kwargs" class="headerlink" title="（1）find_all( name , attrs , recursive , text , **kwargs )"></a>（1）find_all( name , attrs , recursive , text , **kwargs )</h3>
                  <p>find_all() 方法搜索当前tag的所有tag子节点,并判断是否符合过滤器的条件 <strong>1）name 参数</strong> name 参数可以查找所有名字为 name 的tag,字符串对象会被自动忽略掉 <strong>A.传字符串</strong> 最简单的过滤器是字符串.在搜索方法中传入一个字符串参数,Beautiful Soup会查找与字符串完整匹配的内容,下面的例子用于查找文档中所有的<b>标签</p>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all(<span class="symbol">'b</span>')</span><br><span class="line"># <span class="meta">[&lt;b&gt;The Dormouse's story&lt;/b&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.find_all('a')</span><br><span class="line">#[<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>, <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>B.传正则表达式</strong> 如果传入正则表达式作为参数,Beautiful Soup会通过正则表达式的 match() 来匹配内容.下面例子中找出所有以b开头的标签,这表示

                    <body>和<b>标签都应该被找到
                  </p>
                  <figure class="highlight crmsh">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">import re</span><br><span class="line">for <span class="keyword">tag</span> <span class="title">in</span> soup.find_all(re.compile(<span class="string">"^b"</span>)):</span><br><span class="line">    print(<span class="keyword">tag</span>.name)</span><br><span class="line"><span class="comment"># body</span></span><br><span class="line"><span class="comment"># b</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>C.传列表</strong> 如果传入列表参数,Beautiful Soup会将与列表中任一元素匹配的内容返回.下面代码找到文档中所有<a>标签和<b>标签</p>
                  <figure class="highlight scala">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all([<span class="string">"a"</span>, <span class="string">"b"</span>])</span><br><span class="line"># [&lt;b&gt;<span class="type">The</span> <span class="type">Dormouse</span><span class="symbol">'s</span> story&lt;/b&gt;,</span><br><span class="line">#  &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"sister"</span> href=<span class="string">"http://example.com/elsie"</span> id=<span class="string">"link1"</span>&gt;<span class="type">Elsie</span>&lt;/a&gt;,</span><br><span class="line">#  &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"sister"</span> href=<span class="string">"http://example.com/lacie"</span> id=<span class="string">"link2"</span>&gt;<span class="type">Lacie</span>&lt;/a&gt;,</span><br><span class="line">#  &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"sister"</span> href=<span class="string">"http://example.com/tillie"</span> id=<span class="string">"link3"</span>&gt;<span class="type">Tillie</span>&lt;/a&gt;]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>D.传 True</strong> True 可以匹配任何值,下面代码查找到所有的tag,但是不会返回字符串节点</p>
                  <figure class="highlight vala">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">for</span> tag in soup.find_all(True):</span><br><span class="line">    print(tag.name)</span><br><span class="line"><span class="meta"># html</span></span><br><span class="line"><span class="meta"># head</span></span><br><span class="line"><span class="meta"># title</span></span><br><span class="line"><span class="meta"># body</span></span><br><span class="line"><span class="meta"># p</span></span><br><span class="line"><span class="meta"># b</span></span><br><span class="line"><span class="meta"># p</span></span><br><span class="line"><span class="meta"># a</span></span><br><span class="line"><span class="meta"># a</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>E.传方法</strong> 如果没有合适过滤器,那么还可以定义一个方法,方法只接受一个元素参数 <a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html#id85" target="_blank" rel="noopener">[4]</a> ,如果这个方法返回 True 表示当前元素匹配并且被找到,如果不是则反回 False 下面方法校验了当前元素,如果包含 class 属性却不包含 id 属性,那么将返回 True:</p>
                  <figure class="highlight ruby">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">has_class_but_no_id</span><span class="params">(tag)</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="keyword">return</span> tag.has_attr(<span class="string">'class'</span>) <span class="keyword">and</span> <span class="keyword">not</span> tag.has_attr(<span class="string">'id'</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>将这个方法作为参数传入 find_all() 方法,将得到所有
                  <p>标签:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all(has_class_but_no_id)</span><br><span class="line"># [<span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>The Dormouse's story<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>,</span><br><span class="line">#  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>Once upon a time there were...<span class="tag">&lt;/<span class="name">p</span>&gt;</span>,</span><br><span class="line">#  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"story"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>2）keyword 参数</strong></p>
                  <blockquote>
                    <p><strong>注意：如果一个指定名字的参数不是搜索内置的参数名,搜索时会把该参数当作指定名字tag的属性来搜索,如果包含一个名字为 id 的参数,Beautiful Soup会搜索每个tag的”id”属性</strong></p>
                  </blockquote>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all(id='link2')</span><br><span class="line"># <span class="meta">[&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>如果传入 href 参数,Beautiful Soup会搜索每个tag的”href”属性</p>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all(href=re.compile(<span class="string">"elsie"</span>))</span><br><span class="line"># <span class="meta">[&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>使用多个指定名字的参数可以同时过滤tag的多个属性</p>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all(href=re.compile(<span class="string">"elsie"</span>), id='link1')</span><br><span class="line"># <span class="meta">[&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;three&lt;/a&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>在这里我们想用 class 过滤，不过 class 是 python 的关键词，这怎么办？加个下划线就可以</p>
                  <figure class="highlight clean">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all(<span class="string">"a"</span>, class_=<span class="string">"sister"</span>)</span><br><span class="line"># [&lt;a <span class="keyword">class</span>=<span class="string">"sister"</span> href=<span class="string">"http://example.com/elsie"</span> id=<span class="string">"link1"</span>&gt;Elsie&lt;/a&gt;,</span><br><span class="line">#  &lt;a <span class="keyword">class</span>=<span class="string">"sister"</span> href=<span class="string">"http://example.com/lacie"</span> id=<span class="string">"link2"</span>&gt;Lacie&lt;/a&gt;,</span><br><span class="line">#  &lt;a <span class="keyword">class</span>=<span class="string">"sister"</span> href=<span class="string">"http://example.com/tillie"</span> id=<span class="string">"link3"</span>&gt;Tillie&lt;/a&gt;]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>有些tag属性在搜索不能使用,比如HTML5中的 data-* 属性</p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">data_soup = <span class="constructor">BeautifulSoup('&lt;<span class="params">div</span> <span class="params">data</span>-<span class="params">foo</span>=<span class="string">"value"</span>&gt;<span class="params">foo</span>!&lt;<span class="operator">/</span><span class="params">div</span>&gt;')</span></span><br><span class="line">data_soup.find<span class="constructor">_all(<span class="params">data</span>-<span class="params">foo</span>=<span class="string">"value"</span>)</span></span><br><span class="line"># SyntaxError: keyword can't be an expression</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>但是可以通过 find_all() 方法的 attrs 参数定义一个字典参数来搜索包含特殊属性的tag</p>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">data_soup.find_all(attrs=&#123;<span class="string">"data-foo"</span>: <span class="string">"value"</span>&#125;)</span><br><span class="line"># <span class="meta">[&lt;div data-foo="value"&gt;foo!&lt;/div&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>3）text 参数</strong> 通过 text 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, text 参数接受 字符串 , 正则表达式 , 列表, True</p>
                  <figure class="highlight awk">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all(text=<span class="string">"Elsie"</span>)</span><br><span class="line"><span class="comment"># [u'Elsie']</span></span><br><span class="line"></span><br><span class="line">soup.find_all(text=[<span class="string">"Tillie"</span>, <span class="string">"Elsie"</span>, <span class="string">"Lacie"</span>])</span><br><span class="line"><span class="comment"># [u'Elsie', u'Lacie', u'Tillie']</span></span><br><span class="line"></span><br><span class="line">soup.find_all(text=re.compile(<span class="string">"Dormouse"</span>))</span><br><span class="line">[<span class="string">u"The Dormouse's story"</span>, <span class="string">u"The Dormouse's story"</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>4）limit 参数</strong> find_all() 方法返回全部的搜索结构,如果文档树很大那么搜索会很慢.如果我们不需要全部结果,可以使用 limit 参数限制返回结果的数量.效果与SQL中的limit关键字类似,当搜索到的结果数量达到 limit 的限制时,就停止搜索返回结果. 文档树中有3个tag符合搜索条件,但结果只返回了2个,因为我们限制了返回数量</p>
                  <figure class="highlight clean">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.find_all(<span class="string">"a"</span>, limit=<span class="number">2</span>)</span><br><span class="line"># [&lt;a <span class="keyword">class</span>=<span class="string">"sister"</span> href=<span class="string">"http://example.com/elsie"</span> id=<span class="string">"link1"</span>&gt;Elsie&lt;/a&gt;,</span><br><span class="line">#  &lt;a <span class="keyword">class</span>=<span class="string">"sister"</span> href=<span class="string">"http://example.com/lacie"</span> id=<span class="string">"link2"</span>&gt;Lacie&lt;/a&gt;]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>5）recursive 参数</strong> 调用tag的 find_all() 方法时,Beautiful Soup会检索当前tag的所有子孙节点,如果只想搜索tag的直接子节点,可以使用参数 recursive=False . 一段简单的文档:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span></span><br><span class="line">   The Dormouse's story</span><br><span class="line">  <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>是否使用 recursive 参数的搜索结果:</p>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup.html.find_all(<span class="string">"title"</span>)</span><br><span class="line"># <span class="meta">[&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span></span><br><span class="line"></span><br><span class="line">soup.html.find_all(<span class="string">"title"</span>, recursive=False)</span><br><span class="line"># []</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（2）find-name-attrs-recursive-text-kwargs"><a href="#（2）find-name-attrs-recursive-text-kwargs" class="headerlink" title="（2）find( name , attrs , recursive , text , **kwargs )"></a>（2）find( name , attrs , recursive , text , **kwargs )</h3>
                  <p>它与 find_all() 方法唯一的区别是 find_all() 方法的返回结果是值包含一个元素的列表,而 find() 方法直接返回结果</p>
                  <h3 id="（3）find-parents-find-parent"><a href="#（3）find-parents-find-parent" class="headerlink" title="（3）find_parents()  find_parent()"></a>（3）find_parents() find_parent()</h3>
                  <p>find_all() 和 find() 只搜索当前节点的所有子节点,孙子节点等. find_parents() 和 find_parent() 用来搜索当前节点的父辈节点,搜索方法与普通tag的搜索方法相同,搜索文档搜索文档包含的内容</p>
                  <h3 id="（4）find-next-siblings-find-next-sibling"><a href="#（4）find-next-siblings-find-next-sibling" class="headerlink" title="（4）find_next_siblings()  find_next_sibling()"></a>（4）find_next_siblings() find_next_sibling()</h3>
                  <p>这2个方法通过 .next_siblings 属性对当 tag 的所有后面解析的兄弟 tag 节点进行迭代, find_next_siblings() 方法返回所有符合条件的后面的兄弟节点,find_next_sibling() 只返回符合条件的后面的第一个tag节点</p>
                  <h3 id="（5）find-previous-siblings-find-previous-sibling"><a href="#（5）find-previous-siblings-find-previous-sibling" class="headerlink" title="（5）find_previous_siblings()  find_previous_sibling()"></a>（5）find_previous_siblings() find_previous_sibling()</h3>
                  <p>这2个方法通过 .previous_siblings 属性对当前 tag 的前面解析的兄弟 tag 节点进行迭代, find_previous_siblings() 方法返回所有符合条件的前面的兄弟节点, find_previous_sibling() 方法返回第一个符合条件的前面的兄弟节点</p>
                  <h3 id="（6）find-all-next-find-next"><a href="#（6）find-all-next-find-next" class="headerlink" title="（6）find_all_next()  find_next()"></a>（6）find_all_next() find_next()</h3>
                  <p>这2个方法通过 .next_elements 属性对当前 tag 的之后的 tag 和字符串进行迭代, find_all_next() 方法返回所有符合条件的节点, find_next() 方法返回第一个符合条件的节点</p>
                  <h3 id="（7）find-all-previous-和-find-previous"><a href="#（7）find-all-previous-和-find-previous" class="headerlink" title="（7）find_all_previous() 和 find_previous()"></a>（7）find_all_previous() 和 find_previous()</h3>
                  <p>这2个方法通过 .previous_elements 属性对当前节点前面的 tag 和字符串进行迭代, find_all_previous() 方法返回所有符合条件的节点, find_previous()方法返回第一个符合条件的节点</p>
                  <blockquote>
                    <p><strong>注：以上（2）（3）（4）（5）（6）（7）方法参数用法与 find_all() 完全相同，原理均类似，在此不再赘述。</strong></p>
                  </blockquote>
                  <h2 id="8-CSS选择器"><a href="#8-CSS选择器" class="headerlink" title="8.CSS选择器"></a>8.CSS选择器</h2>
                  <p>我们在写 CSS 时，标签名不加任何修饰，类名前加点，id名前加 #，在这里我们也可以利用类似的方法来筛选元素，用到的方法是 <strong>soup.select()，</strong>返回类型是 <strong>list</strong></p>
                  <h3 id="（1）通过标签名查找"><a href="#（1）通过标签名查找" class="headerlink" title="（1）通过标签名查找"></a>（1）通过标签名查找</h3>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select('title') </span><br><span class="line">#<span class="meta">[&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select('a')</span><br><span class="line">#[<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>, <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select(<span class="symbol">'b</span>')</span><br><span class="line">#<span class="meta">[&lt;b&gt;The Dormouse's story&lt;/b&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（2）通过类名查找"><a href="#（2）通过类名查找" class="headerlink" title="（2）通过类名查找"></a>（2）通过类名查找</h3>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select('.sister')</span><br><span class="line">#[<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>, <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（3）通过-id-名查找"><a href="#（3）通过-id-名查找" class="headerlink" title="（3）通过 id 名查找"></a>（3）通过 id 名查找</h3>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select('#link1')</span><br><span class="line">#[<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（4）组合查找"><a href="#（4）组合查找" class="headerlink" title="（4）组合查找"></a>（4）组合查找</h3>
                  <p>组合查找即和写 class 文件时，标签名与类名、id名进行的组合原理是一样的，例如查找 p 标签中，id 等于 link1的内容，二者需要用空格分开</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select('p #link1')</span><br><span class="line">#[<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>直接子标签查找</p>
                  <figure class="highlight fsharp">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select(<span class="string">"head &gt; title"</span>)</span><br><span class="line">#<span class="meta">[&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="（5）属性查找"><a href="#（5）属性查找" class="headerlink" title="（5）属性查找"></a>（5）属性查找</h3>
                  <p>查找时还可以加入属性元素，属性需要用中括号括起来，注意属性和标签属于同一节点，所以中间不能加空格，否则会无法匹配到。</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select('a[class="sister"]')</span><br><span class="line">#[<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>, <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/lacie"</span> <span class="attr">id</span>=<span class="string">"link2"</span>&gt;</span>Lacie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/tillie"</span> <span class="attr">id</span>=<span class="string">"link3"</span>&gt;</span>Tillie<span class="tag">&lt;/<span class="name">a</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select('a[href="http://example.com/elsie"]')</span><br><span class="line">#[<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>同样，属性仍然可以与上述查找方式组合，不在同一节点的空格隔开，同一节点的不加空格</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">print soup.select('p a[href="http://example.com/elsie"]')</span><br><span class="line">#[<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"sister"</span> <span class="attr">href</span>=<span class="string">"http://example.com/elsie"</span> <span class="attr">id</span>=<span class="string">"link1"</span>&gt;</span><span class="comment">&lt;!-- Elsie --&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>以上的 select 方法返回的结果都是列表形式，可以遍历形式输出，然后用 get_text() 方法来获取它的内容。</p>
                  <figure class="highlight go">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">soup = BeautifulSoup(html, <span class="string">'lxml'</span>)</span><br><span class="line"><span class="built_in">print</span> <span class="keyword">type</span>(soup.<span class="keyword">select</span>(<span class="string">'title'</span>))</span><br><span class="line"><span class="built_in">print</span> soup.<span class="keyword">select</span>(<span class="string">'title'</span>)[<span class="number">0</span>].get_text()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> title in soup.<span class="keyword">select</span>(<span class="string">'title'</span>):</span><br><span class="line">    <span class="built_in">print</span> title.get_text()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>好，这就是另一种与 find_all 方法有异曲同工之妙的查找方法，是不是感觉很方便？</p>
                  <h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2>
                  <p>本篇内容比较多，把 Beautiful Soup 的方法进行了大部分整理和总结，不过这还不算完全，仍然有 Beautiful Soup 的修改删除功能，不过这些功能用得比较少，只整理了查找提取的方法，希望对大家有帮助！小伙伴们加油！ 熟练掌握了 Beautiful Soup，一定会给你带来太多方便，加油吧！</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-11 00:18:55" itemprop="dateCreated datePublished" datetime="2015-03-11T00:18:55+08:00">2015-03-11</time>
                </span>
                <span id="/1319.html" class="post-meta-item leancloud_visitors" data-flag-title="Python爬虫利器二之Beautiful Soup的用法" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>20k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>18 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1304.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 福利专区 <i class="label-arrow"></i>
                  </a>
                  <a href="/1304.html" class="post-title-link" itemprop="url">简单两步用百度网盘轻松收取文件</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>向多人收取文件，并保存于百度盘中，适合收取作业啦，资源啦等等。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/2015-03-09-233806-的屏幕截图-e1425915588634.png" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/2015-03-09-233806-的屏幕截图-e1425915588634.png" alt="2015-03-09 23:38:06 的屏幕截图"></a> 这个比较有意思，两步就可以创建一个页面，用于接收任何人发送的文件。 为它授权百度盘账号后，就可以设定一下接收内容了，比如头部颜色、LOGO、名称，说明等等。 文件接收时间最长 30 天，收到的文件位于百度网盘 &gt; 我的应用数据 &gt; DzzCloud 下，然后就没有然后了。 小团队、学校、办公室等地方用于接收多人文件、作业太适合不过了，无需注册打开即可上传。 福利链接 <a href="http://xzc.cn/?t=Dn0W727yDH" target="_blank" rel="noopener">向我传送</a><a href="http://xzc.cn/" target="_blank" rel="noopener">官方地址</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-09 23:46:17" itemprop="dateCreated datePublished" datetime="2015-03-09T23:46:17+08:00">2015-03-09</time>
                </span>
                <span id="/1304.html" class="post-meta-item leancloud_visitors" data-flag-title="简单两步用百度网盘轻松收取文件" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>218</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1290.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> PHP <i class="label-arrow"></i>
                  </a>
                  <a href="/1290.html" class="post-title-link" itemprop="url">PHP高级特性三之文件上传和下载</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>上一节我们学习了文件的读写操作，这一节我们来看一下文件上传和下载的相关内容。</p>
                  <h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2>
                  <h3 id="1-PHP配置文件"><a href="#1-PHP配置文件" class="headerlink" title="1.PHP配置文件"></a>1.PHP配置文件</h3>
                  <p>首先，我们文件上传需要设定一下 php.ini 的配置文件。这是最基本的设置，如果这里设置不成功，那么代码写得再正确也没有用。基本的配置项目如下</p>
                  <blockquote>
                    <p>file_uploads = on #文件上传开启 upload_max_filesize= 200M #文件上传的最大尺寸 upload_tmp_dir = c:/uploads/ #临时文件目录 post_max_size = 250M #POST时最大尺寸，必须要大于 upload_max_filesize</p>
                  </blockquote>
                  <h3 id="2-上传时注意事项"><a href="#2-上传时注意事项" class="headerlink" title="2.上传时注意事项"></a>2.上传时注意事项</h3>
                  <p>1） 文件上传操作表单提交方法必须为 post 2）文件上传时，input type 必须为 file 类型 3）文件上传的表单中，需要增加一个隐含内容，代码如下，value 的单位是 B</p>
                  <figure class="highlight pgsql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;<span class="keyword">input</span> <span class="keyword">type</span>="hidden" <span class="type">name</span>="MAX_FILE_SIZE" <span class="keyword">value</span>="100000000"&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>4）enctype=”multipart/form-data” 只有文件上传时才使用这个值，用来指定表单编码的数据方式，让服务器知道我们要传递一个文件并带有一些常规的表单信息。如下</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"upload.php"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>例如</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">title</span>&gt;</span> File Uploads <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"b.php"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line"> shopname: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"shopname"</span> &gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"> shopprice: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"price"</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"> shopnum : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num"</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"> shoppic: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"pic"</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"sub"</span> <span class="attr">value</span>=<span class="string">"添加商品"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">form</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>文件 a.php 表单提交到了 b.php 文件，在文件 b.php 中如下</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> <span class="string">"&lt;pre&gt;"</span>;</span></span><br><span class="line"><span class="php"> print_r($_POST);</span></span><br><span class="line"><span class="php"> print_r($_FILES);</span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> <span class="string">"&lt;/pre&gt;"</span>;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>一个是输出 POST得到的数据内容，另一个是输出获取到的文件信息。 运行结果如下</p>
                  <figure class="highlight php">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [shopname] =&gt; abc</span><br><span class="line">    [price] =&gt; abc</span><br><span class="line">    [num] =&gt; add</span><br><span class="line">    [sub] =&gt; 添加商品</span><br><span class="line">)</span><br><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [pic] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; QPGF.dll</span><br><span class="line">            [type] =&gt; application/qscall-plugin</span><br><span class="line">            [tmp_name] =&gt; D:\wamp\tmp\phpC2C7.tmp</span><br><span class="line">            [error] =&gt; <span class="number">0</span></span><br><span class="line">            [size] =&gt; <span class="number">199224</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>如果不加 enctype=”multipart/form-data” 那么 print_r($_FILES) 不会有任何输出 又比如<strong>多文件上传</strong></p>
                  <figure class="highlight vim">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="symbol">&lt;html&gt;</span></span><br><span class="line"> <span class="symbol">&lt;head&gt;</span></span><br><span class="line"> <span class="symbol">&lt;title&gt;</span> File Uploads &lt;/title&gt;</span><br><span class="line"> &lt;/head&gt; </span><br><span class="line"> <span class="symbol">&lt;body&gt;</span></span><br><span class="line"> &lt;form action=<span class="string">"b.php"</span> method=<span class="string">"post"</span> enctype=<span class="string">"multipart/form-data"</span>&gt;</span><br><span class="line"> shopname: &lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"text"</span> name=<span class="string">"shopname"</span> &gt; <span class="symbol">&lt;br&gt;</span></span><br><span class="line"> shopprice: &lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"text"</span> name=<span class="string">"price"</span>&gt; <span class="symbol">&lt;br&gt;</span></span><br><span class="line"> shopnum : &lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"text"</span> name=<span class="string">"num"</span>&gt; <span class="symbol">&lt;br&gt;</span></span><br><span class="line"> shoppic: &lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"file"</span> name=<span class="string">"pic1"</span>&gt; <span class="symbol">&lt;br&gt;</span></span><br><span class="line"> shoppic: &lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"file"</span> name=<span class="string">"pic2"</span>&gt; <span class="symbol">&lt;br&gt;</span></span><br><span class="line"> shoppic: &lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"file"</span> name=<span class="string">"pic3"</span>&gt; <span class="symbol">&lt;br&gt;</span></span><br><span class="line"> &lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"submit"</span> name=<span class="string">"sub"</span> value=<span class="string">"添加商品"</span>&gt;</span><br><span class="line"> &lt;/form&gt; </span><br><span class="line"> &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>file的name需要不同的名字，那么上面的代码输出结果为</p>
                  <figure class="highlight php">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [pic1] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; libtcmalloc.dll</span><br><span class="line">            [type] =&gt; application/qscall-plugin</span><br><span class="line">            [tmp_name] =&gt; D:\wamp\tmp\phpE51E.tmp</span><br><span class="line">            [error] =&gt; <span class="number">0</span></span><br><span class="line">            [size] =&gt; <span class="number">178232</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [pic2] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; libexpatw.dll</span><br><span class="line">            [type] =&gt; application/qscall-plugin</span><br><span class="line">            [tmp_name] =&gt; D:\wamp\tmp\phpE52E.tmp</span><br><span class="line">            [error] =&gt; <span class="number">0</span></span><br><span class="line">            [size] =&gt; <span class="number">130104</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [pic3] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; AsyncTask.dll</span><br><span class="line">            [type] =&gt; application/qscall-plugin</span><br><span class="line">            [tmp_name] =&gt; D:\wamp\tmp\phpE52F.tmp</span><br><span class="line">            [error] =&gt; <span class="number">0</span></span><br><span class="line">            [size] =&gt; <span class="number">84536</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>还可以将name设定为一个数组，如</p>
                  <figure class="highlight pgsql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">shoppic: &lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="pic[]"&gt; &lt;br&gt;</span><br><span class="line">shoppic: &lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="pic[]"&gt; &lt;br&gt;</span><br><span class="line">shoppic: &lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="pic[]"&gt; &lt;br&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>则输出会是一个三维数组</p>
                  <figure class="highlight php">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [pic] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; <span class="keyword">Array</span></span><br><span class="line">                (</span><br><span class="line">                    [<span class="number">0</span>] =&gt; libtcmalloc.dll</span><br><span class="line">                    [<span class="number">1</span>] =&gt; libexpatw.dll</span><br><span class="line">                    [<span class="number">2</span>] =&gt; QQProtect.dll</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">            [type] =&gt; <span class="keyword">Array</span></span><br><span class="line">                (</span><br><span class="line">                    [<span class="number">0</span>] =&gt; application/qscall-plugin</span><br><span class="line">                    [<span class="number">1</span>] =&gt; application/qscall-plugin</span><br><span class="line">                    [<span class="number">2</span>] =&gt; application/qscall-plugin</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">            [tmp_name] =&gt; <span class="keyword">Array</span></span><br><span class="line">                (</span><br><span class="line">                    [<span class="number">0</span>] =&gt; D:\wamp\tmp\phpA17D.tmp</span><br><span class="line">                    [<span class="number">1</span>] =&gt; D:\wamp\tmp\phpA17E.tmp</span><br><span class="line">                    [<span class="number">2</span>] =&gt; D:\wamp\tmp\phpA17F.tmp</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">            [error] =&gt; <span class="keyword">Array</span></span><br><span class="line">                (</span><br><span class="line">                    [<span class="number">0</span>] =&gt; <span class="number">0</span></span><br><span class="line">                    [<span class="number">1</span>] =&gt; <span class="number">0</span></span><br><span class="line">                    [<span class="number">2</span>] =&gt; <span class="number">0</span></span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">            [size] =&gt; <span class="keyword">Array</span></span><br><span class="line">                (</span><br><span class="line">                    [<span class="number">0</span>] =&gt; <span class="number">178232</span></span><br><span class="line">                    [<span class="number">1</span>] =&gt; <span class="number">130104</span></span><br><span class="line">                    [<span class="number">2</span>] =&gt; <span class="number">387128</span></span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="3-文件上传后的检查"><a href="#3-文件上传后的检查" class="headerlink" title="3. 文件上传后的检查"></a>3. 文件上传后的检查</h3>
                  <p>加入上传的表单中文件的name是pic，那么检查的四个方法如下： 1）使用 $_FILES[‘file’][‘error’] 检查错误 2）使用 $_FILES[‘file’][‘size’] 限制大小，单位是字节 3）使用 $_FILES[‘pic’][‘type’] 获取文件或站名，限制文件的类型 4）将上传后的文件名改名</p>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;?php</span><br><span class="line">	//step 1 使用<span class="variable">$_FILES</span>[<span class="string">'pic'</span>][<span class="string">"error"</span>] 检查错误</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(<span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"error"</span>] &gt; 0)&#123;</span><br><span class="line">		switch(<span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"error"</span>]) &#123;</span><br><span class="line">			<span class="keyword">case</span> 1:</span><br><span class="line">				<span class="built_in">echo</span> <span class="string">"上传的文件超过了 php.ini 中 upload_max_filesize 选项限制的值&lt;br&gt;"</span>;</span><br><span class="line">                  <span class="built_in">break</span>;</span><br><span class="line">			<span class="keyword">case</span> 2:</span><br><span class="line">				<span class="built_in">echo</span> <span class="string">"上传文件的大小超过了 HTML 表单中 MAX_FILE_SIZE 选项指定的值"</span>;</span><br><span class="line">				<span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">case</span> 3: </span><br><span class="line">				<span class="built_in">echo</span> <span class="string">"文件只有部分被上传"</span>;</span><br><span class="line">				<span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">case</span> 4:</span><br><span class="line">				<span class="built_in">echo</span> <span class="string">"没有文件被上传"</span>;</span><br><span class="line">				<span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">			default:</span><br><span class="line"></span><br><span class="line">				<span class="built_in">echo</span> <span class="string">"末知错误"</span>;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">		<span class="built_in">exit</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="variable">$maxsize</span>=5000000;  //50k</span><br><span class="line"></span><br><span class="line">	//step 2 使用<span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"size"</span>] 限制大小 单位字节 2M=2000000</span><br><span class="line">	<span class="keyword">if</span>(<span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"size"</span>] &gt; <span class="variable">$maxsize</span> ) &#123;</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"上传的文件太大，不能超过&#123;<span class="variable">$maxsize</span>&#125;字节"</span>;</span><br><span class="line">		<span class="built_in">exit</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//step 3 使用<span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"type"</span>]或是文件的扩展名 限制类型 MIME  image/gif  image/png    gif png jpg</span><br><span class="line"></span><br><span class="line">	/*   list(<span class="variable">$dl</span>, <span class="variable">$xl</span>) = explode(<span class="string">"/"</span>, <span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"type"</span>]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(<span class="variable">$dl</span>!=<span class="string">"image"</span>)&#123;</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">"请上传一个图片，不充许其它类型文件"</span>;</span><br><span class="line">			<span class="built_in">exit</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	 */</span><br><span class="line">	</span><br><span class="line">	<span class="variable">$allowtype</span>=array(<span class="string">"png"</span>, <span class="string">"gif"</span>, <span class="string">"jpg"</span>, <span class="string">"jpeg"</span>);</span><br><span class="line">	<span class="variable">$arr</span>=explode(<span class="string">"."</span>, <span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"name"</span>]);</span><br><span class="line">	<span class="variable">$hz</span>=<span class="variable">$arr</span>[count(<span class="variable">$arr</span>)-1];</span><br><span class="line">	<span class="keyword">if</span>(!in_array(<span class="variable">$hz</span>, <span class="variable">$allowtype</span>))&#123;</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"这是不充许的类型"</span>;</span><br><span class="line">		<span class="built_in">exit</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	//step 4 将让传后的文件名改名</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="variable">$filepath</span>=<span class="string">"./uploads/"</span>;</span><br><span class="line">	<span class="variable">$randname</span>=date(<span class="string">"Y"</span>).date(<span class="string">"m"</span>).date(<span class="string">"d"</span>).date(<span class="string">"H"</span>).date(<span class="string">"i"</span>).date(<span class="string">"s"</span>).rand(100, 999).<span class="string">"."</span>.<span class="variable">$hz</span>;</span><br><span class="line">	//将临时位置的文件移动到指定的目录上即可</span><br><span class="line">	<span class="keyword">if</span>(is_uploaded_file(<span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"tmp_name"</span>]))&#123;</span><br><span class="line">		<span class="keyword">if</span>(move_uploaded_file(<span class="variable">$_FILES</span>[<span class="string">"pic"</span>][<span class="string">"tmp_name"</span>], <span class="variable">$filepath</span>.<span class="variable">$randname</span>))&#123;</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">"上传成功"</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">"上传失败"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"不是一个上传文件"</span>;</span><br><span class="line">	&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>以上便实现了文件上传的检测，包括错误检测，文件大小检测，文件类型检测以及文件更名等等。</p>
                  <h2 id="文件上传类"><a href="#文件上传类" class="headerlink" title="文件上传类"></a>文件上传类</h2>
                  <p>在上面的介绍中，我们没有将文件的上传做一个封装，不过，将文件上传个功能封装成一个类的确是一个不错的选择。下面便是一个实例DEMO，让我们来感受一下吧！</p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">FileUpload</span>.</span></span><span class="keyword">class</span>.php</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">	<span class="class"><span class="keyword">class</span> <span class="title">FileUpload</span> </span>&#123;</span></span><br><span class="line"><span class="php">	</span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $filePath;     <span class="comment">//指定上传文件保存的路径</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $allowType=<span class="keyword">array</span>(<span class="string">'gif'</span>, <span class="string">'jpg'</span>, <span class="string">'png'</span>, <span class="string">'jpeg'</span>);  <span class="comment">//充许上传文件的类型</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $maxSize=<span class="number">1000000</span>;  <span class="comment">//允上传文件的最大长度 1M</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $isRandName=<span class="keyword">true</span>;  <span class="comment">//是否随机重命名， true false不随机，使用原文件名</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $originName;   <span class="comment">//源文件名称</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $tmpFileName;   <span class="comment">//临时文件名</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $fileType;  <span class="comment">//文件类型</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $fileSize;  <span class="comment">//文件大小</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $newFileName; <span class="comment">//新文件名</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $errorNum=<span class="number">0</span>;  <span class="comment">//错误号</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> $errorMess=<span class="string">""</span>; <span class="comment">//用来提供错误报告</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="php">		<span class="comment">//用于对上传文件初使化</span></span></span><br><span class="line"><span class="php">		<span class="comment">//1. 指定上传路径， 2，充许的类型， 3，限制大小， 4，是否使用随机文件名称</span></span></span><br><span class="line"><span class="php">		<span class="comment">//让用户可以不用按位置传参数，后面参数给值不用将前几个参数也提供值</span></span></span><br><span class="line"><span class="php">		<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($options=array<span class="params">()</span>)</span></span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">foreach</span>($options <span class="keyword">as</span> $key=&gt;$val)&#123;</span></span><br><span class="line"><span class="php">				<span class="comment">//查看用户参数中数组的下标是否和成员属性名相同</span></span></span><br><span class="line"><span class="php">				<span class="keyword">if</span>(!in_array($key,get_class_vars(get_class(<span class="keyword">$this</span>))))&#123;</span></span><br><span class="line"><span class="php">					<span class="keyword">continue</span>;</span></span><br><span class="line"><span class="php">				&#125;</span></span><br><span class="line"><span class="php">				<span class="comment">//设置成员变量</span></span></span><br><span class="line"><span class="php">				<span class="keyword">$this</span>-&gt;setOption($key, $val);</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">	</span></span><br><span class="line"></span><br><span class="line"><span class="php">		<span class="comment">//获得错误原因</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">getError</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">			<span class="comment">//获得错误原因</span></span></span><br><span class="line"><span class="php">			$str=<span class="string">"上传文件&lt;font color='red'&gt;&#123;$this-&gt;originName&#125;&lt;/font&gt;时出错："</span>;</span></span><br><span class="line"><span class="php">			<span class="keyword">switch</span>(<span class="keyword">$this</span>-&gt;errorNum)&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">4</span>: $str .= <span class="string">"没有文件被上传"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">3</span>: $str .= <span class="string">"文件只被部分上传"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">2</span>: $str .= <span class="string">"上传文件超过了HTML表单中MAX_FILE_SIZE选项指定的值"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">1</span>: $str .= <span class="string">"上传文件超过了php.ini 中upload_max_filesize选项的值"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">-1</span>: $str .= <span class="string">"不被充许的类型"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">-2</span>: $str .= <span class="string">"文件过大，上传文件不能超过&#123;$this-&gt;maxSize&#125;个字节"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">-3</span>: $str .= <span class="string">"上传失败"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">-4</span>: $str .= <span class="string">"建立存放上传文件目录失败，请重新指定上传目录"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">case</span> <span class="number">-5</span>: $str .= <span class="string">"必须指定上传文件的路径"</span>; <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php">				<span class="keyword">default</span>: $str .=  <span class="string">"末知错误"</span>;</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">			<span class="keyword">return</span> $str.<span class="string">'&lt;br&gt;'</span>;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">	</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">		<span class="comment">//用来检查文件上传路径</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">checkFilePath</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="keyword">$this</span>-&gt;filePath)) &#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">$this</span>-&gt;setOption(<span class="string">'errorNum'</span>, <span class="number">-5</span>);</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> <span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>(!file_exists(<span class="keyword">$this</span>-&gt;filePath) || !is_writable(<span class="keyword">$this</span>-&gt;filePath))&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">if</span>(!@mkdir(<span class="keyword">$this</span>-&gt;filePath, <span class="number">0755</span>))&#123;</span></span><br><span class="line"><span class="php">					<span class="keyword">$this</span>-&gt;setOption(<span class="string">'errorNum'</span>, <span class="number">-4</span>);</span></span><br><span class="line"><span class="php">					<span class="keyword">return</span> <span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">				&#125;</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">			<span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">		<span class="comment">//用来检查文件上传的大小</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">checkFileSize</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;fileSize &gt; <span class="keyword">$this</span>-&gt;maxSize)&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">$this</span>-&gt;setOPtion(<span class="string">'errorNum'</span>, <span class="string">'-2'</span>);</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> <span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">			&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">		<span class="comment">//用于检查文件上传类型</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">checkFileType</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>(in_array(strtolower(<span class="keyword">$this</span>-&gt;fileType), <span class="keyword">$this</span>-&gt;allowType)) &#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">			&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">$this</span>-&gt;setOption(<span class="string">'errorNum'</span>, <span class="number">-1</span>);</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> <span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">		<span class="comment">//设置上传后的文件名称</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">setNewFileName</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;isRandName)&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">$this</span>-&gt;setOption(<span class="string">'newFileName'</span>, <span class="keyword">$this</span>-&gt;proRandName());</span></span><br><span class="line"><span class="php">			&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">$this</span>-&gt;setOption(<span class="string">'newFileName'</span>, <span class="keyword">$this</span>-&gt;originName);</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="php">		<span class="comment">//设置随机文件名称</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">proRandName</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">			$fileName=date(<span class="string">"YmdHis"</span>).rand(<span class="number">100</span>,<span class="number">999</span>);</span></span><br><span class="line"><span class="php">			<span class="keyword">return</span> $fileName.<span class="string">'.'</span>.<span class="keyword">$this</span>-&gt;fileType;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">		<span class="comment">//设置成员变量</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">setOption</span><span class="params">($key, $val)</span></span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">$this</span>-&gt;$key=$val;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">		<span class="comment">//用来上传一个文件</span></span></span><br><span class="line"><span class="php">		<span class="function"><span class="keyword">function</span> <span class="title">uploadFile</span><span class="params">($fileField)</span></span>&#123;</span></span><br><span class="line"><span class="php">			</span></span><br><span class="line"><span class="php">			<span class="keyword">echo</span> $fileField;</span></span><br><span class="line"><span class="php">			<span class="comment">//默认返回值为True</span></span></span><br><span class="line"><span class="php">			$return=<span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">			<span class="comment">//首先检查文件上传路径</span></span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>(!<span class="keyword">$this</span>-&gt;checkFilePath())&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">$this</span>-&gt;errorMess=<span class="keyword">$this</span>-&gt;getError();</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> <span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">			<span class="comment">//获得上传文件的名字</span></span></span><br><span class="line"><span class="php">			$name=$_FILES[$fileField][<span class="string">'name'</span>];</span></span><br><span class="line"><span class="php">			<span class="comment">//获得临时文件名</span></span></span><br><span class="line"><span class="php">			$tmp_name=$_FILES[$fileField][<span class="string">'tmp_name'</span>];</span></span><br><span class="line"><span class="php">			<span class="comment">//获得上传文件的大小</span></span></span><br><span class="line"><span class="php">			$size=$_FILES[$fileField][<span class="string">'size'</span>];</span></span><br><span class="line"><span class="php">			<span class="comment">//获得上传错误代号</span></span></span><br><span class="line"><span class="php">			$error=$_FILES[$fileField][<span class="string">'error'</span>];</span></span><br><span class="line"><span class="php">			</span></span><br><span class="line"><span class="php">			<span class="comment">//如果上传的是多个文件</span></span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>(is_Array($name))&#123;</span></span><br><span class="line"><span class="php">				<span class="comment">//错误代号必须也是Array，因为一个文件对应一个错误代号</span></span></span><br><span class="line"><span class="php">				$errors=<span class="keyword">array</span>();</span></span><br><span class="line"><span class="php">				<span class="comment">//遍历检查文件</span></span></span><br><span class="line"><span class="php">				<span class="keyword">for</span>($i=<span class="number">0</span>; $i&lt;count($name); $i++)&#123;</span></span><br><span class="line"><span class="php">					<span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;setFiles($name[$i], $tmp_name[$i], $size[$i], $error[$i]))&#123;</span></span><br><span class="line"><span class="php">						<span class="keyword">if</span>(!<span class="keyword">$this</span>-&gt;checkFileSize() || !<span class="keyword">$this</span>-&gt;checkFileType())&#123;</span></span><br><span class="line"><span class="php">							$errors[]=<span class="keyword">$this</span>-&gt;getError();</span></span><br><span class="line"><span class="php">							$return=<span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">						&#125;</span></span><br><span class="line"><span class="php">					&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">						$error[]=<span class="keyword">$this</span>-&gt;getError();</span></span><br><span class="line"><span class="php">						$return=<span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">					&#125;</span></span><br><span class="line"><span class="php">					<span class="keyword">if</span>(!$return)</span></span><br><span class="line"><span class="php">						<span class="keyword">$this</span>-&gt;setFiles();</span></span><br><span class="line"><span class="php">				&#125;</span></span><br><span class="line"><span class="php">				<span class="keyword">if</span>($return)&#123;</span></span><br><span class="line"><span class="php">					$fileNames=<span class="keyword">array</span>();</span></span><br><span class="line"><span class="php">					<span class="keyword">for</span>($i=<span class="number">0</span>; $i&lt;count($name); $i++)&#123;</span></span><br><span class="line"><span class="php">						<span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;setFiles($name[$i], $tmp_name[$i], $size[$i], $error[$i]))&#123;</span></span><br><span class="line"><span class="php">							<span class="keyword">$this</span>-&gt;setNewFileName();</span></span><br><span class="line"><span class="php">							<span class="keyword">if</span>(!<span class="keyword">$this</span>-&gt;copyFile())&#123;</span></span><br><span class="line"><span class="php">								$errors=<span class="keyword">$this</span>-&gt;getError();</span></span><br><span class="line"><span class="php">								$return=<span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">							&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">								$fileNames[]=<span class="keyword">$this</span>-&gt;newFileName;</span></span><br><span class="line"><span class="php">							&#125;</span></span><br><span class="line"><span class="php">						&#125;</span></span><br><span class="line"><span class="php">					&#125;</span></span><br><span class="line"><span class="php">					<span class="comment">//是一个数组</span></span></span><br><span class="line"><span class="php">					<span class="keyword">$this</span>-&gt;newFileName=$fileNames;</span></span><br><span class="line"><span class="php">				&#125;</span></span><br><span class="line"><span class="php">				<span class="comment">//赋值错误信息</span></span></span><br><span class="line"><span class="php">				<span class="keyword">$this</span>-&gt;errorMess=$errors;</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> $return;</span></span><br><span class="line"><span class="php">			<span class="comment">//如果是单个文件上传</span></span></span><br><span class="line"><span class="php">			&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">					<span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;setFiles($name, $tmp_name, $size, $error))&#123;</span></span><br><span class="line"><span class="php">						<span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;checkFileSize() &amp;&amp; <span class="keyword">$this</span>-&gt;checkFileType())&#123;</span></span><br><span class="line"><span class="php">							<span class="keyword">$this</span>-&gt;setNewFileName();</span></span><br><span class="line"><span class="php">							<span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;copyFile())&#123;</span></span><br><span class="line"><span class="php">								<span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">							&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">								$return=<span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">							&#125;</span></span><br><span class="line"><span class="php">						&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">							$return=<span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">						&#125;	</span></span><br><span class="line"><span class="php">					&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">						$return=<span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">					&#125;</span></span><br><span class="line"><span class="php">					</span></span><br><span class="line"><span class="php">					<span class="keyword">if</span>(!$return)</span></span><br><span class="line"><span class="php">						<span class="keyword">$this</span>-&gt;errorMess=<span class="keyword">$this</span>-&gt;getError();</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="php">					<span class="keyword">return</span> $return;</span></span><br><span class="line"><span class="php">			&#125;			</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">		<span class="comment">//保存文件,将文件从临时路径移动到新路径</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">copyFile</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>(!<span class="keyword">$this</span>-&gt;errorNum)&#123;</span></span><br><span class="line"><span class="php">				$filePath=rtrim(<span class="keyword">$this</span>-&gt;filePath, <span class="string">'/'</span>).<span class="string">'/'</span>;</span></span><br><span class="line"><span class="php">				$filePath.=<span class="keyword">$this</span>-&gt;newFileName;</span></span><br><span class="line"></span><br><span class="line"><span class="php">				<span class="keyword">if</span>(@move_uploaded_file(<span class="keyword">$this</span>-&gt;tmpFileName, $filePath))	&#123;</span></span><br><span class="line"><span class="php">					<span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">				&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">					<span class="keyword">$this</span>-&gt;setOption(<span class="string">'errorNum'</span>, <span class="number">-3</span>);</span></span><br><span class="line"><span class="php">					<span class="keyword">return</span> <span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">				&#125;</span></span><br><span class="line"><span class="php">					</span></span><br><span class="line"><span class="php">			&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> <span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">		<span class="comment">//设置和$_FILES有关的内容</span></span></span><br><span class="line"><span class="php">		<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">setFiles</span><span class="params">($name=<span class="string">""</span>, $tmp_name=<span class="string">''</span>, $size=<span class="number">0</span>, $error=<span class="number">0</span>)</span></span>&#123;</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">			<span class="keyword">$this</span>-&gt;setOption(<span class="string">'errorNum'</span>, $error);</span></span><br><span class="line"><span class="php">			<span class="keyword">if</span>($error)&#123;</span></span><br><span class="line"><span class="php">				<span class="keyword">return</span> <span class="keyword">false</span>;</span></span><br><span class="line"><span class="php">			&#125;</span></span><br><span class="line"><span class="php">			<span class="keyword">$this</span>-&gt;setOption(<span class="string">'originName'</span>, $name);</span></span><br><span class="line"><span class="php">			<span class="keyword">$this</span>-&gt;setOption(<span class="string">'tmpFileName'</span>, $tmp_name);</span></span><br><span class="line"><span class="php">			<span class="comment">//分割文件名，取最后一个后缀</span></span></span><br><span class="line"><span class="php">			$arrStr=explode(<span class="string">'.'</span>, $name); </span></span><br><span class="line"><span class="php">			<span class="keyword">$this</span>-&gt;setOption(<span class="string">'fileType'</span>, strtolower($arrStr[count($arrStr)<span class="number">-1</span>]));</span></span><br><span class="line"><span class="php">			<span class="keyword">$this</span>-&gt;setOption(<span class="string">'fileSize'</span>, $size);	</span></span><br><span class="line"><span class="php">			<span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">		&#125;	</span></span><br><span class="line"></span><br><span class="line"><span class="php">		<span class="comment">//用于获取上传后文件的文件名</span></span></span><br><span class="line"><span class="php">		<span class="function"><span class="keyword">function</span> <span class="title">getNewFileName</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">return</span> <span class="keyword">$this</span>-&gt;newFileName;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">		<span class="comment">//上传如果失败，则调用这个方法，就可以查看错误报告</span></span></span><br><span class="line"><span class="php">		<span class="function"><span class="keyword">function</span> <span class="title">getErrorMsg</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">			<span class="keyword">return</span> <span class="keyword">$this</span>-&gt;errorMess;</span></span><br><span class="line"><span class="php">		&#125;</span></span><br><span class="line"><span class="php">		</span></span><br><span class="line"><span class="php">	&#125;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"> <span class="selector-tag">upload</span><span class="selector-class">.php</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">	<span class="keyword">require</span> <span class="string">"FileUpload.class.php"</span>;</span></span><br><span class="line"><span class="php">	<span class="comment">//实例化这个对象</span></span></span><br><span class="line"><span class="php">	$up=<span class="keyword">new</span> FileUpload(<span class="keyword">array</span>(<span class="string">'isRandName'</span>=&gt;<span class="keyword">true</span>,<span class="string">'allowType'</span>=&gt;<span class="keyword">array</span>(<span class="string">'txt'</span>, <span class="string">'doc'</span>, <span class="string">'php'</span>, <span class="string">'gif'</span>),<span class="string">'filePath'</span>=&gt;<span class="string">'./uploads/'</span>, <span class="string">'maxSize'</span>=&gt;<span class="number">200000</span>));</span></span><br><span class="line"><span class="php">	<span class="keyword">echo</span> <span class="string">'&lt;pre&gt;'</span>;</span></span><br><span class="line"><span class="php">	<span class="comment">//调用上传文件的方法</span></span></span><br><span class="line"><span class="php">	<span class="keyword">if</span>($up-&gt;uploadFile(<span class="string">'upload'</span>))&#123;</span></span><br><span class="line"><span class="php">		print_r($up-&gt;getNewFileName());</span></span><br><span class="line"><span class="php">	&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">		print_r($up-&gt;getErrorMsg());	</span></span><br><span class="line"><span class="php">	&#125;</span></span><br><span class="line"><span class="php">	<span class="keyword">echo</span> <span class="string">'&lt;/pre&gt;'</span>;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"> <span class="selector-tag">form</span><span class="selector-class">.html</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight pgsql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;form action="upload.php" <span class="keyword">method</span>="post" enctype="multipart/form-data"&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="hidden" <span class="type">name</span>="MAX_FILE_SIZE" <span class="keyword">value</span>="100000000"&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="upload"&gt; &lt;br&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="submit" <span class="type">name</span>="sub" <span class="keyword">value</span>="upload file"&gt;&lt;br&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"> 多文件上传的 <span class="selector-tag">form</span><span class="selector-class">.html</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight pgsql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;form action="upload.php" <span class="keyword">method</span>="post" enctype="multipart/form-data"&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="hidden" <span class="type">name</span>="MAX_FILE_SIZE" <span class="keyword">value</span>="100000000"&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="upload[]"&gt; &lt;br&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="upload[]"&gt; &lt;br&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="upload[]"&gt; &lt;br&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="upload[]"&gt; &lt;br&gt;</span><br><span class="line">	&lt;<span class="keyword">input</span> <span class="keyword">type</span>="submit" <span class="type">name</span>="sub" <span class="keyword">value</span>="upload file"&gt;&lt;br&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>利用上面的这个文件上传类，我们便可以轻松地实现文件上传，非常之便捷。</p>
                  <h2 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h2>
                  <p>对于浏览器无法直接打开的文件，我们一般只需要设置一下超链接就好了。比如</p>
                  <figure class="highlight livecodeserver">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;<span class="keyword">a</span> href=<span class="string">"a.rar"</span>&gt;<span class="keyword">a</span>.rar&lt;/<span class="keyword">a</span>&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>点击超链接之后，便会弹出下载的提示框。 可是对于浏览器可以直接打开的文件，例如 1.html，2.php，3.gif 等等文件，如果仍然用这种超链接形式，那就行不通了，浏览器会直接跳转到这个页面。 我们怎样解决这个问题呢？很简单 我们首先要将超链接的文件名改为一个 php 文件，比如上面的链接就可以改为</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"a.php"</span>&gt;</span>logo.gif<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>这样浏览器会去访问 a.php 文件，那么我们只需要在 a.php 文件中作相应处理即可，例如我们要下载 logo.gif 文件 我们就需要在 a.php 文件最开始设定头部信息，如下</p>
                  <figure class="highlight lasso">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;?php </span><br><span class="line">	<span class="keyword">header</span>(<span class="string">"Content-Type:image/gif"</span>);</span><br><span class="line">	<span class="keyword">header</span>(<span class="string">'Content-Disposition: attachment; filename="logo.gif"'</span>);</span><br><span class="line">	<span class="keyword">header</span>(<span class="string">'Content-Length:300'</span>);</span><br><span class="line">    readfile(<span class="string">"logo.gif"</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>一般设置三个头部信息就好了 第一个是设置文件传输的类型，第二个是设置传送的内容为附件形式，文件名是 logo.gif，这里的filename 即为我们下载文件时命名的名字，而不是文件名本身。第三个是设置文件传输大小。 最后设置一下下载的是哪个文件就好了。利用 readfile 方法。 以上便是文件下载所需要的方法。 这样，文件上传和文件下载的方法就全部介绍完啦！</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-09 14:12:47" itemprop="dateCreated datePublished" datetime="2015-03-09T14:12:47+08:00">2015-03-09</time>
                </span>
                <span id="/1290.html" class="post-meta-item leancloud_visitors" data-flag-title="PHP高级特性三之文件上传和下载" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>12k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>11 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1278.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> JavaScript <i class="label-arrow"></i>
                  </a>
                  <a href="/1278.html" class="post-title-link" itemprop="url">JavaScript高级用法四之DOM对象</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>本篇的主要内容来自慕课网，DOM对象，主要内容如下</p>
                  <ul>
                    <li>1 认识DOM</li>
                    <li>2 getElementsByName()方法</li>
                    <li>3 getElementsByTagName()方法</li>
                    <li>4 区别getElementByID,getElementsByName,getElementsByTagName</li>
                    <li>5 getAttribute()方法</li>
                    <li>6 setAttribute()方法</li>
                    <li>7 节点属性</li>
                    <li>8 访问子结点childNodes</li>
                    <li>9 访问子结点的第一和最后项</li>
                    <li>10 访问父节点parentNode</li>
                    <li>11 访问兄弟节点</li>
                    <li>12 插入节点appendChild()</li>
                    <li>13 插入节点insertBefore()</li>
                    <li>14 删除节点removeChild()</li>
                    <li>15 替换元素节点replaceChild()</li>
                    <li>16 创建元素节点createElement</li>
                    <li>17 创建文本节点createTextNode</li>
                    <li>18 浏览器窗口可视区域大小</li>
                    <li>19 网页尺寸scrollHeight</li>
                    <li>20 网页尺寸offsetHeight</li>
                    <li>21 网页卷去的距离与偏移量</li>
                  </ul>
                  <h2 id="认识DOM"><a href="#认识DOM" class="headerlink" title="认识DOM"></a>认识DOM</h2>
                  <p>文档对象模型DOM（Document Object Model）定义访问和处理HTML文档的标准方法。DOM 将HTML文档呈现为带有元素、属性和文本的树结构（节点树）。 <strong>先来看看下面代码:</strong> <a href="http://img.mukewang.com/5375ca640001c67307860420.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5375ca640001c67307860420.jpg" alt=""></a></p>
                  <p><strong>将HTML代码分解为DOM节点层次图:</strong></p>
                  <p><a href="http://img.mukewang.com/5375ca7e0001dd8d04830279.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5375ca7e0001dd8d04830279.jpg" alt=""></a> <strong>HTML**</strong>文档可以说由节点构成的集合，DOM节点有:<strong> </strong>1.<strong> </strong>元素节点：<strong>上图中<html>、

                      <body>、<p>等都是元素节点，即标签。 </strong>2.<strong> </strong>文本节点:<strong>向用户展示的内容，如<li>...</li>中的JavaScript、DOM、CSS等文本。 </strong>3.<strong> </strong>属性节点:<strong>元素属性，如<a>标签的链接属性href=”<a href="http://www.imooc.com&quot;。" target="_blank" rel="noopener">http://www.imooc.com&quot;。</a> </strong>节点属性:<strong> <a href="http://img.mukewang.com/5375c953000117ee05240129.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5375c953000117ee05240129.jpg" alt=""></a> </strong>遍历节点树:<strong> <a href="http://img.mukewang.com/53f17a6400017d2905230219.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53f17a6400017d2905230219.jpg" alt=""></a> </strong>以上图ul为例，它的父级节点body,它的子节点3个li,它的兄弟结点h2、P。<strong> </strong>DOM操作:** <a href="http://img.mukewang.com/538d29da000152db05360278.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/538d29da000152db05360278.jpg" alt=""></a></p>
                  <h2 id="getElementsByName-方法"><a href="#getElementsByName-方法" class="headerlink" title="getElementsByName()方法"></a>getElementsByName()方法</h2>
                  <p>返回带有指定名称的节点对象的集合。</p>
                  <p><strong>语法：</strong></p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">document.get<span class="constructor">ElementsByName(<span class="params">name</span>)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>与getElementById() 方法不同的是，通过元素的 name 属性查询元素，而不是通过 id 属性。</p>
                  <p><strong>注意:</strong></p>
                  <ol>
                    <li>
                      <p>因为文档中的 name 属性可能不唯一，所有 getElementsByName() 方法返回的是元素的数组，而不是一个元素。</p>
                    </li>
                    <li>
                      <p>和数组类似也有length属性，可以和访问数组一样的方法来访问，从0开始。</p>
                    </li>
                  </ol>
                  <p><strong>看看下面的代码:</strong></p>
                  <p><a href="http://img.mukewang.com/5375d5ec00012bac06210322.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5375d5ec00012bac06210322.jpg" alt=""></a></p>
                  <p><strong>运行结果:</strong></p>
                  <p><a href="http://img.mukewang.com/53795f0b0001233404580318.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53795f0b0001233404580318.jpg" alt=""></a></p>
                  <h2 id="getElementsByTagName-方法"><a href="#getElementsByTagName-方法" class="headerlink" title="getElementsByTagName()方法"></a>getElementsByTagName()方法</h2>
                  <p>返回带有指定标签名的节点对象的集合。返回元素的顺序是它们在文档中的顺序。 <strong>语法:</strong></p>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="function"><span class="title">getElementsByTagName</span><span class="params">(Tagname)</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>说明:</strong> 1. Tagname是标签的名称，如p、a、img等标签名。 2. 和数组类似也有length属性，可以和访问数组一样的方法来访问，所以从0开始。 看看下面代码，通过getElementsByTagName()获取节点。 <a href="http://img.mukewang.com/53ec174a0001404206540436.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53ec174a0001404206540436.jpg" alt=""></a></p>
                  <h2 id="区别getElementByID-getElementsByName-getElementsByTagName"><a href="#区别getElementByID-getElementsByName-getElementsByTagName" class="headerlink" title="区别getElementByID,getElementsByName,getElementsByTagName"></a>区别getElementByID,getElementsByName,getElementsByTagName</h2>
                  <p><strong>以人来举例说明，人有能标识身份的身份证，有姓名，有类别(大人、小孩、老人)等。</strong> 1. ID 是一个人的身份证号码，是唯一的。所以通过getElementById获取的是指定的一个人。 2. Name 是他的名字，可以重复。所以通过getElementsByName获取名字相同的人集合。 3. TagName可看似某类，getElementsByTagName获取相同类的人集合。如获取小孩这类人，getElementsByTagName(“小孩”)。 <strong>把上面的例子转换到HTML中，如下:</strong></p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"hobby"</span> <span class="attribute">id</span>=<span class="string">"hobby1"</span>&gt;  音乐</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>input标签就像人的类别。 name属性就像人的姓名。 id属性就像人的身份证。 <strong>方法总结如下:</strong> <a href="http://img.mukewang.com/5405263300018bcf05760129.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5405263300018bcf05760129.jpg" alt=""></a> <strong>注意：</strong>方法区分大小写 通过下面的例子(6个name=”hobby”的复选项，两个按钮)来区分三种方法的不同:</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"hobby"</span> <span class="attribute">id</span>=<span class="string">"hobby1"</span>&gt;  音乐</span><br><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"hobby"</span> <span class="attribute">id</span>=<span class="string">"hobby2"</span>&gt;  登山</span><br><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"hobby"</span> <span class="attribute">id</span>=<span class="string">"hobby3"</span>&gt;  游泳</span><br><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"hobby"</span> <span class="attribute">id</span>=<span class="string">"hobby4"</span>&gt;  阅读</span><br><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"hobby"</span> <span class="attribute">id</span>=<span class="string">"hobby5"</span>&gt;  打球</span><br><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"hobby"</span> <span class="attribute">id</span>=<span class="string">"hobby6"</span>&gt;  跑步 </span><br><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"button"</span> value = <span class="string">"全选"</span> <span class="attribute">id</span>=<span class="string">"button1"</span>&gt;</span><br><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"button"</span> value = <span class="string">"全不选"</span> <span class="attribute">id</span>=<span class="string">"button1"</span>&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>1. document.getElementsByTagName(“input”)，结果为获取所有标签为input的元素，共8个。 2. document.getElementsByName(“hobby”)，结果为获取属性name=”hobby”的元素，共6个。 3. document.getElementById(“hobby6”)，结果为获取属性id=”hobby6”的元素，只有一个，”跑步”这个复选项。</p>
                  <h2 id="getAttribute-方法"><a href="#getAttribute-方法" class="headerlink" title="getAttribute()方法"></a>getAttribute()方法</h2>
                  <p>通过元素节点的属性名称获取属性的值。 <strong>语法：</strong></p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">elementNode.get<span class="constructor">Attribute(<span class="params">name</span>)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>说明:</strong> 1. elementNode：使用getElementById()、getElementsByTagName()等方法，获取到的元素节点。 2. name：要想查询的元素节点的属性名字 看看下面的代码，获取h1标签的属性值： <a href="http://img.mukewang.com/538d242700019ec809330432.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/538d242700019ec809330432.jpg" alt=""></a> <strong>运行结果:</strong> h1标签的ID ：alink h1标签的title ：getAttribute()获取标签的属值</p>
                  <h2 id="setAttribute-方法"><a href="#setAttribute-方法" class="headerlink" title="setAttribute()方法"></a>setAttribute()方法</h2>
                  <p>setAttribute() 方法增加一个指定名称和值的新属性，或者把一个现有的属性设定为指定的值。 <strong>语法：</strong></p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">elementNode.set<span class="constructor">Attribute(<span class="params">name</span>,<span class="params">value</span>)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>说明：</strong> 1.name: 要设置的属性名。 2.value: 要设置的属性值。 <strong>注意：</strong> 1.把指定的属性设置为指定的值。如果不存在具有指定名称的属性，该方法将创建一个新属性。 2.类似于getAttribute()方法，setAttribute()方法只能通过元素节点对象调用的函数。</p>
                  <h2 id="节点属性"><a href="#节点属性" class="headerlink" title="节点属性"></a>节点属性</h2>
                  <p>在文档对象模型 (DOM) 中，每个节点都是一个对象。DOM 节点有三个重要的属性 ： 1. nodeName : 节点的名称 2. nodeValue ：节点的值 3. nodeType ：节点的类型 <strong>一、nodeName 属性:</strong> 节点的名称，是只读的。 1. 元素节点的 nodeName 与标签名相同 2. 属性节点的 nodeName 是属性的名称 3. 文本节点的 nodeName 永远是 #text 4. 文档节点的 nodeName 永远是 #document <strong>二、nodeValue 属性：</strong>节点的值 1. 元素节点的 nodeValue 是 undefined 或 null 2. 文本节点的 nodeValue 是文本自身 3. 属性节点的 nodeValue 是属性的值 <strong>三、nodeType 属性:</strong> 节点的类型，是只读的。以下常用的几种结点类型: <strong>元素类型 节点类型</strong> 元素 1 属性 2 文本 3 注释 8 文档 9</p>
                  <h2 id="访问子结点childNodes"><a href="#访问子结点childNodes" class="headerlink" title="访问子结点childNodes"></a>访问子结点childNodes</h2>
                  <p>访问选定元素节点下的所有子节点的列表，返回的值可以看作是一个数组，他具有length属性。 <strong>语法：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">elementNode</span><span class="selector-class">.childNodes</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：</strong> 如果选定的节点没有子节点，则该属性返回不包含节点的 NodeList。 <strong>我们来看看下面的代码:</strong> <a href="http://img.mukewang.com/538405fa00010e6c05630357.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/538405fa00010e6c05630357.jpg" alt=""></a> <strong>运行结果:</strong> <strong>IE:</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">UL子节点个数:<span class="number">3</span></span><br><span class="line">节点类型:<span class="number">1</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>其它浏览器:</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">UL子节点个数:<span class="number">7</span></span><br><span class="line">节点类型:<span class="number">3</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意:</strong> 1. IE全系列、firefox、chrome、opera、safari兼容问题 2. 节点之间的空白符，在firefox、chrome、opera、safari浏览器是文本节点，所以IE是3，其它浏览器是7，如下图所示: <a href="http://img.mukewang.com/538d2b8a000163e303430127.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/538d2b8a000163e303430127.jpg" alt=""></a> <strong>如果把代码改成这样:</strong>
                  <ul>
                    <li>javascript</li>
                    <li>jQuery</li>
                    <li>PHP</li>
                  </ul> <strong>运行结果:（IE和其它浏览器结果是一样的）</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">UL子节点个数:<span class="number">3</span></span><br><span class="line">节点类型:<span class="number">1</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="访问子结点的第一和最后项"><a href="#访问子结点的第一和最后项" class="headerlink" title="访问子结点的第一和最后项"></a>访问子结点的第一和最后项</h2>
                  <p>一、<strong><code>firstChild</code></strong> 属性返回‘childNodes’数组的第一个子节点。如果选定的节点没有子节点，则该属性返回 NULL。 <strong>语法：</strong></p>
                  <figure class="highlight crmsh">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">node</span>.<span class="title">firstChild</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>说明：</strong>与elementNode.childNodes[0]是同样的效果。 二、 <strong><code>lastChild</code></strong> 属性返回‘childNodes’数组的最后一个子节点。如果选定的节点没有子节点，则该属性返回 NULL。 <strong>语法：</strong></p>
                  <figure class="highlight crmsh">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">node</span>.<span class="title">lastChild</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>说明：</strong>与elementNode.childNodes[elementNode.childNodes.length-1]是同样的效果。 <strong>注意:</strong> 上一节中，我们知道Internet Explorer 会忽略节点之间生成的空白文本节点，而其它浏览器不会。我们可以通过检测节点类型，过滤子节点。 (以后章节讲解)</p>
                  <h2 id="访问父节点parentNode"><a href="#访问父节点parentNode" class="headerlink" title="访问父节点parentNode"></a>访问父节点parentNode</h2>
                  <p>获取指定节点的父节点 <strong>语法：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">elementNode</span><span class="selector-class">.parentNode</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意:父节点只能有一个。</strong> 看看下面的例子,获取 P 节点的父节点，代码如下:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"con"</span>&gt;</span> parentNode 获取指点节点的父节点<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mynode= <span class="built_in">document</span>.getElementById(<span class="string">"con"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mynode.**parentNode**.nodeName);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果:</p>
                  <figure class="highlight cal">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">parentNode 获取指点节点的父节点</span><br><span class="line"><span class="keyword">DIV</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>访问祖节点:</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">elementNode</span><span class="selector-class">.parentNode</span><span class="selector-class">.parentNode</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>看看下面的代码:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"text"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    parentNode      </span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"con"</span>&gt;</span> 获取指点节点的父节点<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mynode= <span class="built_in">document</span>.getElementById(<span class="string">"con"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mynode.**parentNode.parentNode.**nodeName);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果:</p>
                  <figure class="highlight cal">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">parentNode获取指点节点的父节点</span><br><span class="line"><span class="keyword">DIV</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>注意: 浏览器兼容问题，chrome、firefox等浏览器标签之间的空白也算是一个文本节点。</p>
                  <h2 id="访问兄弟节点"><a href="#访问兄弟节点" class="headerlink" title="访问兄弟节点"></a>访问兄弟节点</h2>
                  <ol>
                    <li>nextSibling 属性可返回某个节点之后紧跟的节点（处于同一树层级中）。 <strong>语法：</strong></li>
                  </ol>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">nodeObject</span><span class="selector-class">.nextSibling</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>说明：</strong>如果无此节点，则该属性返回 null。 2. previousSibling 属性可返回某个节点之前紧跟的节点（处于同一树层级中）。 <strong>语法：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">nodeObject</span><span class="selector-class">.previousSibling</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>说明：</strong>如果无此节点，则该属性返回 null。 注意: 两个属性获取的是节点。Internet Explorer 会忽略节点间生成的空白文本节点（例如，换行符号），而其它浏览器不会忽略。 <strong>解决问题方法:</strong> 判断节点nodeType是否为1, 如是为元素节点，跳过。 <a href="http://img.mukewang.com/5386e3c80001c25607010856.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5386e3c80001c25607010856.jpg" alt=""></a> <strong>运行结果:</strong></p>
                  <figure class="highlight makefile">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">LI = javascript</span><br><span class="line"><span class="section">nextsibling: LI = jquery</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="插入节点appendChild"><a href="#插入节点appendChild" class="headerlink" title="插入节点appendChild()"></a>插入节点appendChild()</h2>
                  <p>在指定节点的最后一个子节点列表之后添加一个新的子节点。 <strong>语法:</strong></p>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="function"><span class="title">appendChild</span><span class="params">(newnode)</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数:</strong> newnode：指定追加的节点。 我们来看看，div标签内创建一个新的 P 标签，代码如下: <a href="http://img.mukewang.com/5398fd020001ad4905890193.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5398fd020001ad4905890193.jpg" alt=""></a> <strong>运行结果:</strong></p>
                  <figure class="highlight actionscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">HTML</span><br><span class="line">JavaScript</span><br><span class="line">This <span class="keyword">is</span> a <span class="keyword">new</span> p</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="插入节点insertBefore"><a href="#插入节点insertBefore" class="headerlink" title="插入节点insertBefore()"></a>插入节点insertBefore()</h2>
                  <p>insertBefore() 方法可在已有的子节点前插入一个新的子节点。</p>
                  <p><strong>语法:</strong></p>
                  <p>insertBefore(newnode,node);</p>
                  <p><strong>参数:</strong></p>
                  <p>newnode: 要插入的新节点。</p>
                  <p>node: 指定此节点前插入节点。</p>
                  <p>我们在来看看下面代码，在指定节点前插入节点。</p>
                  <p><a href="http://img.mukewang.com/5395318100010c6806960431.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5395318100010c6806960431.jpg" alt=""></a></p>
                  <p><strong>运行结果:</strong></p>
                  <figure class="highlight actionscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">This <span class="keyword">is</span> a <span class="keyword">new</span> p</span><br><span class="line">JavaScript</span><br><span class="line">HTML</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意:</strong> otest.insertBefore(newnode,node); 也可以改为: otest.insertBefore(newnode,otest.childNodes[0]);</p>
                  <h2 id="删除节点removeChild"><a href="#删除节点removeChild" class="headerlink" title="删除节点removeChild()"></a>删除节点removeChild()</h2>
                  <p>removeChild() 方法从子节点列表中删除某个节点。如删除成功，此方法可返回被删除的节点，如失败，则返回 NULL。 <strong>语法:</strong></p>
                  <figure class="highlight crmsh">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">nodeObject.removeChild(<span class="keyword">node</span><span class="title">)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数:</strong> node ：必需，指定需要删除的节点。 我们来看看下面代码，删除子点。 <a href="http://img.mukewang.com/5399744d000153a306060342.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5399744d000153a306060342.jpg" alt=""></a> <strong>运行结果:</strong></p>
                  <figure class="highlight julia">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">HTML</span></span><br><span class="line">删除节点的内容: javascript</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意:</strong> 把删除的子节点赋值给 x，这个子节点不在DOM树中，但是还存在内存中，可通过 x 操作。 如果要完全删除对象，给 x 赋 null 值，代码如下: <a href="http://img.mukewang.com/539975a800017c8e04790082.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/539975a800017c8e04790082.jpg" alt=""></a></p>
                  <h2 id="替换元素节点replaceChild"><a href="#替换元素节点replaceChild" class="headerlink" title="替换元素节点replaceChild()"></a>替换元素节点replaceChild()</h2>
                  <p>replaceChild 实现子节点(对象)的替换。返回被替换对象的引用。 <strong>语法：</strong></p>
                  <figure class="highlight crmsh">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">node</span>.<span class="title">replaceChild</span> (newnode,oldnew )</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数：</strong> newnode : 必需，用于替换 oldnew 的对象。 oldnew : 必需，被 newnode 替换的对象。 我们来看看下面的代码: <a href="http://img.mukewang.com/539557d70001c3ee07190429.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/539557d70001c3ee07190429.jpg" alt=""></a> 效果: 将文档中的 Java 改为 JavaScript。 <strong>注意: </strong> 1. 当 oldnode 被替换时，所有与之相关的属性内容都将被移除。 2. newnode 必须先被建立。</p>
                  <h2 id="创建元素节点createElement"><a href="#创建元素节点createElement" class="headerlink" title="创建元素节点createElement"></a>创建元素节点createElement</h2>
                  <p>createElement()方法可创建元素节点。此方法可返回一个 Element 对象。 <strong>语法：</strong></p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">document.create<span class="constructor">Element(<span class="params">tagName</span>)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数:</strong> tagName：字符串值，这个字符串用来指明创建元素的类型。 <strong>注意：</strong>要与appendChild() 或 insertBefore()方法联合使用，将元素显示在页面中。 我们来创建一个按钮，代码如下：</p>
                  <figure class="highlight stata">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;script <span class="keyword">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">   <span class="keyword">var</span> body = document.body; </span><br><span class="line">   <span class="keyword">var</span> <span class="keyword">input</span> = document.createElement(<span class="string">"input"</span>);  </span><br><span class="line">   <span class="keyword">input</span>.<span class="keyword">type</span> = <span class="string">"button"</span>;  </span><br><span class="line">   <span class="keyword">input</span>.value = <span class="string">"创建一个按钮"</span>;  </span><br><span class="line">   body.appendChild(<span class="keyword">input</span>);  </span><br><span class="line"> &lt;/script&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>效果：在HTML文档中，创建一个按钮。 我们也可以使用setAttribute来设置属性，代码如下：</p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;script <span class="keyword">type</span>=<span class="string">"text/javascript"</span>&gt;  </span><br><span class="line">   var body= document.body;             </span><br><span class="line">   var btn = document.create<span class="constructor">Element(<span class="string">"input"</span>)</span>;  </span><br><span class="line">   btn.set<span class="constructor">Attribute(<span class="string">"type"</span>, <span class="string">"text"</span>)</span>;  </span><br><span class="line">   btn.set<span class="constructor">Attribute(<span class="string">"name"</span>, <span class="string">"q"</span>)</span>;  </span><br><span class="line">   btn.set<span class="constructor">Attribute(<span class="string">"value"</span>, <span class="string">"使用setAttribute"</span>)</span>;  </span><br><span class="line">   btn.set<span class="constructor">Attribute(<span class="string">"onclick"</span>, <span class="string">"javascript:alert('This is a text!');"</span>)</span>;       </span><br><span class="line">   body.append<span class="constructor">Child(<span class="params">btn</span>)</span>;  </span><br><span class="line">&lt;/script&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>效果：在HTML文档中，创建一个文本框，使用setAttribute设置属性值。 当点击这个文本框时，会弹出对话框“This is a text!”。</p>
                  <h2 id="创建文本节点createTextNode"><a href="#创建文本节点createTextNode" class="headerlink" title="创建文本节点createTextNode"></a>创建文本节点createTextNode</h2>
                  <p>createTextNode() 方法创建新的文本节点，返回新创建的 Text 节点。 <strong>语法：</strong></p>
                  <figure class="highlight haskell">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="title">document</span>.createTextNode(<span class="class"><span class="keyword">data</span>)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数：</strong> data : 字符串值，可规定此节点的文本。 我们来创建一个
                  <div>元素并向其中添加一条消息，代码如下： <a href="http://img.mukewang.com/53951c200001d32d07130554.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53951c200001d32d07130554.jpg" alt=""></a> <strong>运行结果:</strong> <a href="http://img.mukewang.com/53951c720001996d04080225.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53951c720001996d04080225.jpg" alt=""></a></p>
                    <h2 id="浏览器窗口可视区域大小"><a href="#浏览器窗口可视区域大小" class="headerlink" title="浏览器窗口可视区域大小"></a>浏览器窗口可视区域大小</h2>
                    <p>获得浏览器窗口的尺寸（浏览器的视口，不包括工具栏和滚动条）的方法:</p>
                    <p><strong>一、对于IE9+、Chrome、Firefox、Opera 以及 Safari：</strong></p>
                    <p>• window.innerHeight - 浏览器窗口的内部高度</p>
                    <p>• window.innerWidth - 浏览器窗口的内部宽度</p>
                    <p><strong>二、对于 Internet Explorer 8、7、6、5：</strong></p>
                    <p>• document.documentElement.clientHeight表示HTML文档所在窗口的当前高度。</p>
                    <p>• document.documentElement.clientWidth表示HTML文档所在窗口的当前宽度。</p>
                    <p>或者</p>
                    <p>Document对象的body属性对应HTML文档的

                      <body>标签
                    </p>
                    <p>• document.body.clientHeight</p>
                    <p>• document.body.clientWidth</p>
                    <p><strong>在不同浏览器都实用的 JavaScript 方案：</strong></p>
                    <figure class="highlight dart">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">var</span> w= <span class="built_in">document</span>.documentElement.clientWidth</span><br><span class="line">      || <span class="built_in">document</span>.body.clientWidth;</span><br><span class="line"><span class="keyword">var</span> h= <span class="built_in">document</span>.documentElement.clientHeight</span><br><span class="line">      || <span class="built_in">document</span>.body.clientHeight;</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <h2 id="网页尺寸scrollHeight"><a href="#网页尺寸scrollHeight" class="headerlink" title="网页尺寸scrollHeight"></a>网页尺寸scrollHeight</h2>
                    <p>scrollHeight和scrollWidth，获取网页内容高度和宽度(不包括滚动条)。 <strong>一、针对IE、Opera:</strong></p>
                    <p>scrollHeight 是网页内容实际高度，可以小于 clientHeight。</p>
                    <p><strong>二、针对NS、FF:</strong></p>
                    <p>scrollHeight 是网页内容高度，不过最小值是 clientHeight。也就是说网页内容实际高度小于 clientHeight 时，scrollHeight 返回 clientHeight 。</p>
                    <p><strong>三、浏览器兼容性</strong></p>
                    <figure class="highlight dart">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">var</span> w=<span class="built_in">document</span>.documentElement.scrollWidth</span><br><span class="line">   || <span class="built_in">document</span>.body.scrollWidth;</span><br><span class="line"><span class="keyword">var</span> h=<span class="built_in">document</span>.documentElement.scrollHeight</span><br><span class="line">   || <span class="built_in">document</span>.body.scrollHeight;</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p><strong>注意:区分大小写</strong> scrollHeight和scrollWidth还可获取Dom元素中内容实际占用的高度和宽度。</p>
                    <h2 id="网页尺寸offsetHeight"><a href="#网页尺寸offsetHeight" class="headerlink" title="网页尺寸offsetHeight"></a>网页尺寸offsetHeight</h2>
                    <p>offsetHeight和offsetWidth，获取网页内容高度和宽度(包括滚动条等边线，会随窗口的显示大小改变)。</p>
                    <p><strong>一、值</strong></p>
                    <p>offsetHeight = clientHeight + 滚动条 + 边框。</p>
                    <p><strong>二、浏览器兼容性</strong></p>
                    <figure class="highlight dart">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">var</span> w= <span class="built_in">document</span>.documentElement.offsetWidth</span><br><span class="line">    || <span class="built_in">document</span>.body.offsetWidth;</span><br><span class="line"><span class="keyword">var</span> h= <span class="built_in">document</span>.documentElement.offsetHeight</span><br><span class="line">    || <span class="built_in">document</span>.body.offsetHeight;</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <h2 id="网页卷去的距离与偏移量"><a href="#网页卷去的距离与偏移量" class="headerlink" title="网页卷去的距离与偏移量"></a>网页卷去的距离与偏移量</h2>
                    <p><strong>我们先来看看下面的图：</strong> <a href="http://img.mukewang.com/5347b2b10001e1a307520686.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5347b2b10001e1a307520686.jpg" alt=""></a> <strong>scrollLeft:</strong>设置或获取位于给定对象左边界与窗口中目前可见内容的最左端之间的距离 ，即左边灰色的内容。 <strong>scrollTop:</strong>设置或获取位于对象最顶端与窗口中可见内容的最顶端之间的距离 ，即上边灰色的内容。 <strong>offsetLeft:</strong>获取指定对象相对于版面或由 offsetParent 属性指定的父坐标的计算左侧位置 。 <strong>offsetTop:</strong>获取指定对象相对于版面或由 offsetParent 属性指定的父坐标的计算顶端位置 。 <strong>注意:</strong> <strong>1. 区分大小写</strong> <strong>2. offsetParent：布局中设置postion属性(Relative、Absolute、fixed)的父容器，从最近的父节点开始，一层层向上找，直到HTML的body。</strong></p>
                    <p>来源：<a href="http://www.imooc.com/" target="_blank" rel="noopener">慕课网</a></p>
                    </p>
                  </div>
                </div>
                <div class="post-meta">
                  <span class="post-meta-item">
                    <span class="post-meta-item-icon">
                      <i class="far fa-user"></i>
                    </span>
                    <span class="post-meta-item-text">作者</span>
                    <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                  </span>
                  <span class="post-meta-item">
                    <span class="post-meta-item-icon">
                      <i class="far fa-calendar"></i>
                    </span>
                    <span class="post-meta-item-text">发表于</span>
                    <time title="创建时间：2015-03-08 16:06:48" itemprop="dateCreated datePublished" datetime="2015-03-08T16:06:48+08:00">2015-03-08</time>
                  </span>
                  <span id="/1278.html" class="post-meta-item leancloud_visitors" data-flag-title="JavaScript高级用法四之DOM对象" title="阅读次数">
                    <span class="post-meta-item-icon">
                      <i class="fa fa-eye"></i>
                    </span>
                    <span class="post-meta-item-text">阅读次数：</span>
                    <span class="leancloud-visitors-count"></span>
                  </span>
                  <span class="post-meta-item" title="本文字数">
                    <span class="post-meta-item-icon">
                      <i class="far fa-file-word"></i>
                    </span>
                    <span class="post-meta-item-text">本文字数：</span>
                    <span>8.2k</span>
                  </span>
                  <span class="post-meta-item" title="阅读时长">
                    <span class="post-meta-item-icon">
                      <i class="far fa-clock"></i>
                    </span>
                    <span class="post-meta-item-text">阅读时长 &asymp;</span>
                    <span>7 分钟</span>
                  </span>
                </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1263.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> JavaScript <i class="label-arrow"></i>
                  </a>
                  <a href="/1263.html" class="post-title-link" itemprop="url">JavaScript高级用法三之浏览器对象</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>本篇的主要内容来自慕课网，内置对象，主要内容如下</p>
                  <ul>
                    <li>1 window对象</li>
                    <li>2 JavaScript 计时器</li>
                    <li>3 计时器setInterval()</li>
                    <li>4 取消计时器clearInterval()</li>
                    <li>5 计时器setTimeout()</li>
                    <li>6 取消计时器clearTimeout()</li>
                    <li>7 History 对象</li>
                    <li>8 返回前一个浏览的页面</li>
                    <li>9 返回下一个浏览的页面</li>
                    <li>10 返回浏览历史中的其他页面</li>
                    <li>11 Location对象</li>
                    <li>12 Navigator对象</li>
                    <li>13 userAgent</li>
                    <li>14 screen对象</li>
                    <li>15 屏幕分辨率的高和宽</li>
                    <li>16 屏幕可用高和宽度</li>
                  </ul>
                  <h2 id="window对象"><a href="#window对象" class="headerlink" title="window对象"></a>window对象</h2>
                  <p>window对象是BOM的核心，window对象指当前的浏览器窗口。 <strong>window对象方法:</strong> <strong><a href="http://img.mukewang.com/535483720001a54506670563.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/535483720001a54506670563.jpg" alt=""></a></strong></p>
                  <h2 id="JavaScript-计时器"><a href="#JavaScript-计时器" class="headerlink" title="JavaScript 计时器"></a>JavaScript 计时器</h2>
                  <p>在JavaScript中，我们可以在设定的时间间隔之后来执行代码，而不是在函数被调用后立即执行。 <strong>计时器类型：</strong> 一次性计时器：仅在指定的延迟时间之后触发一次。 间隔性触发计时器：每隔一定的时间间隔就触发一次。 <strong>计时器方法：</strong> <a href="http://img.mukewang.com/534b35410001d7bc04090143.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/534b35410001d7bc04090143.jpg" alt=""></a></p>
                  <h2 id="计时器setInterval"><a href="#计时器setInterval" class="headerlink" title="计时器setInterval()"></a>计时器setInterval()</h2>
                  <p>在执行时,从载入页面后每隔指定的时间执行代码。 <strong>语法:</strong></p>
                  <figure class="highlight jboss-cli">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">set</span>Interval<span class="params">(代码,交互时间)</span>;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong> 1. 代码：要调用的函数或要执行的代码串。 2. 交互时间：周期性执行或调用表达式之间的时间间隔，以毫秒计（1s=1000ms）。 <strong>返回值:</strong> 一个可以传递给 clearInterval() 从而取消对”代码”的周期性执行的值。 <strong>调用函数格式(</strong>假设有一个clock()函数<strong>):</strong></p>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="function"><span class="title">setInterval</span><span class="params">(<span class="string">"clock()"</span>,<span class="number">1000</span>)</span></span></span><br><span class="line">或</span><br><span class="line"><span class="function"><span class="title">setInterval</span><span class="params">(clock,<span class="number">1000</span>)</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们设置一个计时器，每隔100毫秒调用clock()函数，并将时间显示出来，<strong>代码如下:</strong></p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>计时器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> int=setInterval(clock, <span class="number">100</span>)</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">clock</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> time=<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">"clock"</span>).value = time;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"clock"</span> <span class="attr">size</span>=<span class="string">"50"</span>  /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="取消计时器clearInterval"><a href="#取消计时器clearInterval" class="headerlink" title="取消计时器clearInterval()"></a>取消计时器clearInterval()</h2>
                  <p>clearInterval() 方法可取消由 setInterval() 设置的交互时间。</p>
                  <p><strong>语法：</strong></p>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="function"><span class="title">clearInterval</span><span class="params">(id_of_setInterval)</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明:</strong> id_of_setInterval：由 setInterval() 返回的 ID 值。 每隔 100 毫秒调用 clock() 函数,并显示时间。当点击按钮时，停止时间,代码如下:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>计时器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">   <span class="function"><span class="keyword">function</span> <span class="title">clock</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> time=<span class="keyword">new</span> <span class="built_in">Date</span>();                     </span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.getElementById(<span class="string">"clock"</span>).value = time;</span></span><br><span class="line">   &#125;</span><br><span class="line"><span class="actionscript"><span class="comment">// 每隔100毫秒调用clock函数，并将返回值赋值给i</span></span></span><br><span class="line"><span class="actionscript">     <span class="keyword">var</span> i=setInterval(<span class="string">"clock()"</span>,<span class="number">100</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"clock"</span> <span class="attr">size</span>=<span class="string">"50"</span>  /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Stop"</span> <span class="attr">onclick</span>=<span class="string">"clearInterval(i)"</span>  /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="计时器setTimeout"><a href="#计时器setTimeout" class="headerlink" title="计时器setTimeout()"></a>计时器setTimeout()</h2>
                  <p>setTimeout()计时器，在载入后延迟指定时间后,去执行一次表达式,仅执行一次。</p>
                  <p><strong>语法:</strong></p>
                  <figure class="highlight arduino">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">setTimeout</span>(代码,延迟时间);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong> 1. 要调用的函数或要执行的代码串。 2. 延时时间：在执行代码前需等待的时间，以毫秒为单位（1s=1000ms)。 当我们打开网页3秒后，在弹出一个提示框，<strong>代码如下:</strong></p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  setTimeout(<span class="string">"alert('Hello!')"</span>, <span class="number">3000</span> );</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>当按钮start被点击时，setTimeout()调用函数，在5秒后弹出一个提示框。</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">tinfo</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> t=setTimeout(<span class="string">"alert('Hello!')"</span>,<span class="number">5000</span>);</span></span><br><span class="line"> &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"start"</span> <span class="attr">onClick</span>=<span class="string">"tinfo()"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>要创建一个运行于无穷循环中的计数器，我们需要编写一个函数来调用其自身。在下面的代码，当按钮被点击后，输入域便从0开始计数。</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> num=<span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">numCount</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript"> <span class="built_in">document</span>.getElementById(<span class="string">'txt'</span>).value=num;</span></span><br><span class="line"> num=num+1;</span><br><span class="line"><span class="actionscript"> setTimeout(<span class="string">"numCount()"</span>,<span class="number">1000</span>);</span></span><br><span class="line"> &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"txt"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Start"</span> <span class="attr">onClick</span>=<span class="string">"numCount()"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="取消计时器clearTimeout"><a href="#取消计时器clearTimeout" class="headerlink" title="取消计时器clearTimeout()"></a>取消计时器clearTimeout()</h2>
                  <p>setTimeout()和clearTimeout()一起使用，停止计时器。</p>
                  <p><strong>语法:</strong></p>
                  <figure class="highlight stylus">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="function"><span class="title">clearTimeout</span><span class="params">(id_of_setTimeout)</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明:</strong> <strong>id_of_setTimeout：</strong>由 setTimeout() 返回的 ID 值。该值标识要取消的延迟执行代码块。 下面的例子和上节的无穷循环的例子相似。唯一不同是，现在我们添加了一个 “Stop” 按钮来停止这个计数器：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> num=<span class="number">0</span>,i;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">timedCount</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">'txt'</span>).value=num;</span></span><br><span class="line">    num=num+1;</span><br><span class="line">    i=setTimeout(timedCount,1000);</span><br><span class="line">  &#125;</span><br><span class="line">    setTimeout(timedCount,1000);</span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">stopCount</span><span class="params">()</span></span>&#123;</span></span><br><span class="line">    clearTimeout(i);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"txt"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Stop"</span> <span class="attr">onClick</span>=<span class="string">"stopCount()"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="History-对象"><a href="#History-对象" class="headerlink" title="History 对象"></a>History 对象</h2>
                  <p>history对象记录了用户曾经浏览过的页面(URL)，并可以实现浏览器前进与后退相似导航的功能。 <strong>注意:从**</strong>窗口<strong>被打开的那一刻开始记录，每个浏览器窗口、每个标签页乃至每个框架，都有自己的history对象与特定的window对象关联。 </strong>语法：**</p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span>.<span class="selector-attr">[属性|方法]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：</strong>window可以省略。 <strong>History 对象属性</strong> <a href="http://img.mukewang.com/53548c030001759e05840068.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53548c030001759e05840068.jpg" alt=""></a> <strong>History 对象方法</strong> <strong><a href="http://img.mukewang.com/53548c200001228206210123.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53548c200001228206210123.jpg" alt=""></a></strong> 使用length属性，当前窗口的浏览历史总长度，<strong>代码如下：</strong></p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> HL = <span class="built_in">window</span>.history.length;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(HL);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="返回前一个浏览的页面"><a href="#返回前一个浏览的页面" class="headerlink" title="返回前一个浏览的页面"></a>返回前一个浏览的页面</h2>
                  <p>back()方法，加载 history 列表中的前一个 URL。 <strong>语法：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span><span class="selector-class">.back</span>();</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>比如，返回前一个浏览的页面，<strong>代码如下：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span><span class="selector-class">.back</span>();</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：等同于点击浏览器的倒退按钮。</strong> back()相当于go(-1),<strong>代码如下:</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span><span class="selector-class">.go</span>(<span class="selector-tag">-1</span>);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="返回下一个浏览的页面"><a href="#返回下一个浏览的页面" class="headerlink" title="返回下一个浏览的页面"></a>返回下一个浏览的页面</h2>
                  <p>forward()方法，加载 history 列表中的下一个 URL。 如果倒退之后，再想回到倒退之前浏览的页面，则可以使用forward()方法,<strong>代码如下:</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span><span class="selector-class">.forward</span>();</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：等价点击前进按钮。</strong> forward()相当于go(1),<strong>代码如下:</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span><span class="selector-class">.go</span>(1);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="返回浏览历史中的其他页面"><a href="#返回浏览历史中的其他页面" class="headerlink" title="返回浏览历史中的其他页面"></a>返回浏览历史中的其他页面</h2>
                  <p>go()方法，根据当前所处的页面，加载 history 列表中的某个具体的页面。 <strong>语法：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span><span class="selector-class">.go</span>(<span class="selector-tag">number</span>);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数：</strong> <a href="http://img.mukewang.com/5354947e00011a9a06490153.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5354947e00011a9a06490153.jpg" alt=""></a> 浏览器中，返回当前页面之前浏览过的第二个历史页面，<strong>代码如下：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span><span class="selector-class">.go</span>(<span class="selector-tag">-2</span>);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：和在浏览器中单击两次后退按钮操作一样。</strong> 同理，返回当前页面之后浏览过的第三个历史页面，<strong>代码如下：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">window</span><span class="selector-class">.history</span><span class="selector-class">.go</span>(3);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="Location对象"><a href="#Location对象" class="headerlink" title="Location对象"></a>Location对象</h2>
                  <p>location用于获取或设置窗体的URL，并且可以用于解析URL。 <strong>语法:</strong></p>
                  <figure class="highlight 1c">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">location.[属性<span class="string">|方法]</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>location对象属性图示:</strong> <a href="http://img.mukewang.com/53605c5a0001b26909900216.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53605c5a0001b26909900216.jpg" alt=""></a> <strong>location 对象属性：</strong> <strong><a href="http://img.mukewang.com/5354b1d00001c4ec06220271.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5354b1d00001c4ec06220271.jpg" alt=""></a></strong> <strong>location 对象方法:</strong> <strong><a href="http://img.mukewang.com/5354b1eb00016a2405170126.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5354b1eb00016a2405170126.jpg" alt=""></a></strong></p>
                  <h2 id="Navigator对象"><a href="#Navigator对象" class="headerlink" title="Navigator对象"></a>Navigator对象</h2>
                  <p>Navigator 对象包含有关浏览器的信息，通常用于检测浏览器与操作系统的版本。 <strong>对象属性:</strong> <a href="http://img.mukewang.com/5354cff70001428b06880190.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5354cff70001428b06880190.jpg" alt=""></a> 查看浏览器的名称和版本，<strong>代码如下:</strong></p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> browser=navigator.appName;</span></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> b_version=navigator.appVersion;</span></span><br><span class="line"><span class="javascript">   <span class="built_in">document</span>.write(<span class="string">"Browser name"</span>+browser);</span></span><br><span class="line"><span class="javascript">   <span class="built_in">document</span>.write(<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">   <span class="built_in">document</span>.write(<span class="string">"Browser version"</span>+b_version);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="userAgent"><a href="#userAgent" class="headerlink" title="userAgent"></a>userAgent</h2>
                  <p>返回用户代理头的字符串表示(就是包括浏览器版本信息等的字符串) <strong>语法</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">navigator</span><span class="selector-class">.userAgent</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>几种浏览的user_agent.，像360的兼容模式用的是IE、极速模式用的是chrom的内核。 <a href="http://img.mukewang.com/535a3a4a0001e03f06870189.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/535a3a4a0001e03f06870189.jpg" alt=""></a> 使用userAgent判断使用的是什么浏览器(假设使用的是IE8浏览器),<strong>代码如下:</strong></p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">function validB()&#123; </span><br><span class="line">  var u_agent = navigator.userAgent; </span><br><span class="line">  var <span class="attribute">B_name</span>=<span class="string">"Failed to identify the browser"</span>; </span><br><span class="line">  <span class="keyword">if</span>(u_agent.indexOf(<span class="string">"Firefox"</span>)&gt;-1)&#123; </span><br><span class="line">      <span class="attribute">B_name</span>=<span class="string">"Firefox"</span>; </span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(u_agent.indexOf(<span class="string">"Chrome"</span>)&gt;-1)&#123; </span><br><span class="line">      <span class="attribute">B_name</span>=<span class="string">"Chrome"</span>; </span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(u_agent.indexOf(<span class="string">"MSIE"</span>)&gt;-1&amp;&amp;u_agent.indexOf(<span class="string">"Trident"</span>)&gt;-1)&#123; </span><br><span class="line">      <span class="attribute">B_name</span>=<span class="string">"IE(8-10)"</span>;  </span><br><span class="line">  &#125;</span><br><span class="line">    document.write(<span class="string">"B_name:"</span>+B_name+<span class="string">"&lt;br&gt;"</span>);</span><br><span class="line">    document.write(<span class="string">"u_agent:"</span>+u_agent+<span class="string">"&lt;br&gt;"</span>); </span><br><span class="line">&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果:</strong> <a href="http://img.mukewang.com/535dea1e00017b0b06880265.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/535dea1e00017b0b06880265.jpg" alt=""></a></p>
                  <h2 id="screen对象"><a href="#screen对象" class="headerlink" title="screen对象"></a>screen对象</h2>
                  <p>screen对象用于获取用户的屏幕信息。 <strong>语法：</strong></p>
                  <figure class="highlight coffeescript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">window</span>.screen.属性</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>对象属性:</strong> <strong><a href="http://img.mukewang.com/5354d2810001a47706210213.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5354d2810001a47706210213.jpg" alt=""></a></strong></p>
                  <h2 id="屏幕分辨率的高和宽"><a href="#屏幕分辨率的高和宽" class="headerlink" title="屏幕分辨率的高和宽"></a>屏幕分辨率的高和宽</h2>
                  <p>window.screen 对象包含有关用户屏幕的信息。 1. screen.height 返回屏幕分辨率的高 2. screen.width 返回屏幕分辨率的宽 <strong>注意:</strong> 1.单位以像素计。 2. window.screen 对象在编写时可以不使用 window 这个前缀。 我们来获取屏幕的高和宽，代码如下:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write( <span class="string">"屏幕宽度："</span>+screen.width+<span class="string">"px&lt;br /&gt;"</span> );</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write( <span class="string">"屏幕高度："</span>+screen.height+<span class="string">"px&lt;br /&gt;"</span> );</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="屏幕可用高和宽度"><a href="#屏幕可用高和宽度" class="headerlink" title="屏幕可用高和宽度"></a>屏幕可用高和宽度</h2>
                  <p>1. screen.availWidth 属性返回访问者屏幕的宽度，以像素计，减去界面特性，比如任务栏。 2. screen.availHeight 属性返回访问者屏幕的高度，以像素计，减去界面特性，比如任务栏。 <strong>注意:</strong> 不同系统的任务栏默认高度不一样，及任务栏的位置可在屏幕上下左右任何位置，所以有可能可用宽度和高度不一样。 我们来获取屏幕的可用高和宽度，<strong>代码如下：</strong></p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(<span class="string">"可用宽度："</span> + screen.availWidth);</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.write(<span class="string">"可用高度："</span> + screen.availHeight);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意:根据屏幕的不同显示值不同。</strong></p>
                  <p>来源：<a href="http://www.imooc.com/" target="_blank" rel="noopener">慕课网</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-07 22:41:25" itemprop="dateCreated datePublished" datetime="2015-03-07T22:41:25+08:00">2015-03-07</time>
                </span>
                <span id="/1263.html" class="post-meta-item leancloud_visitors" data-flag-title="JavaScript高级用法三之浏览器对象" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>6.4k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>6 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1257.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> JavaScript <i class="label-arrow"></i>
                  </a>
                  <a href="/1257.html" class="post-title-link" itemprop="url">JavaScript高级用法二之内置对象</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>本篇的主要内容来自慕课网，内置对象，主要内容如下</p>
                  <ul>
                    <li>1 什么是对象</li>
                    <li>2 Date 日期对象</li>
                    <li>3 返回/设置年份方法</li>
                    <li>4 返回星期方法</li>
                    <li>5 返回/设置时间方法</li>
                    <li>6 String 字符串对象</li>
                    <li>7 返回指定位置的字符</li>
                    <li>8 返回指定的字符串首次出现的位置</li>
                    <li>9 字符串分割split()</li>
                    <li>10 提取字符串substring()</li>
                    <li>11 提取指定数目的字符substr()</li>
                    <li>12 Math对象</li>
                    <li>13 向上取整ceil()</li>
                    <li>14 向下取整floor()</li>
                    <li>15 四舍五入round()</li>
                    <li>16 随机数 random()</li>
                    <li>17 Array 数组对象</li>
                    <li>18 数组连接concat()</li>
                    <li>19 指定分隔符连接数组元素join()</li>
                    <li>20 颠倒数组元素顺序reverse()</li>
                    <li>21 选定元素slice()</li>
                    <li>22 数组排序sort()</li>
                  </ul>
                  <h2 id="什么是对象"><a href="#什么是对象" class="headerlink" title="什么是对象"></a>什么是对象</h2>
                  <p>JavaScript 中的所有事物都是对象，如:字符串、数值、数组、函数等，每个对象带有<strong>属性</strong>和<strong>方法</strong>。 <strong>对象的属性：</strong>反映该对象某些特定的性质的，如：字符串的长度、图像的长宽等； <strong>对象的方法：</strong>能够在对象上执行的动作。例如，表单的“提交”(Submit)，时间的“获取”(getYear)等； JavaScript 提供多个内建对象，比如 String、Date、Array 等等，使用对象前先定义，如下使用数组对象：</p>
                  <figure class="highlight haxe">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">  <span class="keyword">var</span> objectName =<span class="keyword">new</span> <span class="type">Array</span>();<span class="comment">//使用new关键字定义对象</span></span><br><span class="line">**或者**</span><br><span class="line">  <span class="keyword">var</span> objectName =[];</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>访问对象属性的语法:</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">objectName</span><span class="selector-class">.propertyName</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>如使用 Array 对象的 length 属性来获得数组的长度：</p>
                  <figure class="highlight haxe">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span> myarray=<span class="keyword">new</span> <span class="type">Array</span>(<span class="number">6</span>);<span class="comment">//定义数组对象</span></span><br><span class="line"><span class="keyword">var</span> myl=myarray.length;<span class="comment">//访问数组长度length属性</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>以上代码执行后，myl的值将是：6</strong> <strong>访问对象的方法：</strong></p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">objectName.<span class="keyword">method</span><span class="constructor">Name()</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>如使用string 对象的 toUpperCase() 方法来将文本转换为大写：</p>
                  <figure class="highlight actionscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span> mystr=<span class="string">"Hello world!"</span>;<span class="comment">//创建一个字符串</span></span><br><span class="line"><span class="keyword">var</span> request=mystr.toUpperCase(); <span class="comment">//使用字符串对象方法</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>以上代码执行后，request的值是<strong>：HELLO WORLD!</strong></p>
                  <h2 id="Date-日期对象"><a href="#Date-日期对象" class="headerlink" title="Date 日期对象"></a>Date 日期对象</h2>
                  <p>日期对象可以储存任意一个日期，并且可以精确到毫秒数（1/1000 秒）。 定义一个时间对象 :</p>
                  <figure class="highlight arcade">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span> Udate=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意**</strong>:**使用关键字new，Date()的首字母必须大写。</p>
                  <p>使 Udate 成为日期对象，并且已有初始值：<strong>当前时间(当前电脑系统时间)</strong>。</p>
                  <p>如果要自定义初始值，可以用以下方法：</p>
                  <figure class="highlight arcade">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2012</span>, <span class="number">10</span>, <span class="number">1</span>);  <span class="comment">//2012年10月1日</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'Oct 1, 2012'</span>); <span class="comment">//2012年10月1日</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们最好使用下面介绍的“方法”来严格定义时间。</p>
                  <p><strong>访问方法语法：</strong>“&lt;日期对象&gt;.&lt;方法&gt;”</p>
                  <p>Date对象中处理时间和日期的常用方法：</p>
                  <p><a href="http://img.mukewang.com/53d1c6ed000151aa04190327.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53d1c6ed000151aa04190327.jpg" alt=""></a></p>
                  <h2 id="返回-设置年份方法"><a href="#返回-设置年份方法" class="headerlink" title="返回/设置年份方法"></a>返回/设置年份方法</h2>
                  <p><strong><code>get/setFullYear()</code></strong> 返回/设置年份，用四位数表示。</p>
                  <figure class="highlight javascript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span> mydate=<span class="keyword">new</span> <span class="built_in">Date</span>();<span class="comment">//当前时间2014年3月6日</span></span><br><span class="line"><span class="built_in">document</span>.write(mydate+<span class="string">"&lt;br&gt;"</span>);<span class="comment">//输出当前时间</span></span><br><span class="line"><span class="built_in">document</span>.write(mydate.getFullYear()+<span class="string">"&lt;br&gt;"</span>);<span class="comment">//输出当前年份</span></span><br><span class="line">mydate.setFullYear(<span class="number">81</span>); <span class="comment">//设置年份</span></span><br><span class="line"><span class="built_in">document</span>.write(mydate+<span class="string">"&lt;br&gt;"</span>); <span class="comment">//输出年份被设定为 0081年。</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意:</strong>不同浏览器， mydate.setFullYear(81)结果不同，年份被设定为 0081或81两种情况。 <strong>结果:</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">Thu Mar <span class="number">06</span> <span class="number">2014</span> <span class="number">10</span>:<span class="number">57</span>:<span class="number">47</span> GMT+<span class="number">0800</span></span><br><span class="line"><span class="number">2014</span></span><br><span class="line">Thu Mar <span class="number">06</span> <span class="number">0081</span> <span class="number">10</span>:<span class="number">57</span>:<span class="number">47</span> GMT+<span class="number">0800</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意:</strong> 1.结果格式依次为：星期、月、日、年、时、分、秒、时区。(火狐浏览器) 2. 不同浏览器，时间格式有差异。</p>
                  <h2 id="返回星期方法"><a href="#返回星期方法" class="headerlink" title="返回星期方法"></a>返回星期方法</h2>
                  <p><strong>getDay()</strong> 返回星期，返回的是0-6的数字，0 表示星期天。如果要返回相对应“星期”，通过数组完成，代码如下:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mydate=<span class="keyword">new</span> <span class="built_in">Date</span>();<span class="comment">//定义日期对象</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> weekday=[<span class="string">"星期日"</span>,<span class="string">"星期一"</span>,<span class="string">"星期二"</span>,<span class="string">"星期三"</span>,<span class="string">"星期四"</span>,<span class="string">"星期五"</span>,<span class="string">"星期六"</span>];</span></span><br><span class="line"><span class="actionscript"><span class="comment">//定义数组对象,给每个数组项赋值</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> mynum=mydate.getDay();<span class="comment">//返回值存储在变量mynum中</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mydate.getDay());<span class="comment">//输出getDay()获取值</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">"今天是："</span>+ weekday[mynum]);<span class="comment">//输出星期几</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>注意：以上代码是在2014年3月7日，星期五运行。</p>
                  <p><strong>结果:</strong></p>
                  <p>5</p>
                  <p>今天是：星期五</p>
                  <h2 id="返回-设置时间方法"><a href="#返回-设置时间方法" class="headerlink" title="返回/设置时间方法"></a>返回/设置时间方法</h2>
                  <p><strong>get/setTime()</strong> 返回/设置时间，单位毫秒数，计算从 1970 年 1 月 1 日零时到日期对象所指的日期的毫秒数。</p>
                  <p>如果将目前日期对象的时间推迟1小时，代码如下:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mydate=<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">"当前时间："</span>+mydate+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line">  mydate.setTime(mydate.getTime() + 60 * 60 * 1000);</span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">"推迟一小时时间："</span> + mydate);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>结果:</strong></p>
                  <p>当前时间：Thu Mar 6 11:46:27 UTC+0800 2014</p>
                  <p>推迟一小时时间：Thu Mar 6 12:46:27 UTC+0800 2014</p>
                  <p><strong>注意:</strong>1. 一小时 60 分，一分 60 秒，一秒 1000 毫秒</p>
                  <pre><code>  2. 时间推迟 1 小时,就是: “x.setTime(x.getTime() + 60 * 60 * 1000);”
</code></pre>
                  <h2 id="String-字符串对象"><a href="#String-字符串对象" class="headerlink" title="String 字符串对象"></a>String 字符串对象</h2>
                  <p>在之前的学习中已经使用字符串对象了，定义字符串的方法就是直接赋值。比如：</p>
                  <figure class="highlight actionscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span> mystr = <span class="string">"I love JavaScript!"</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>定义mystr字符串后，我们就可以访问它的属性和方法。</p>
                  <p><strong>访问字符串对象的属性length:</strong></p>
                  <p>stringObject.length; 返回该字符串的长度。</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">var <span class="attribute">mystr</span>=<span class="string">"Hello World!"</span>;</span><br><span class="line">var <span class="attribute">myl</span>=mystr.`length`;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>以上代码执行后，myl 的值将是：12 <strong>访问字符串对象的方法：</strong> 使用 String 对象的 toUpperCase() 方法来将字符串小写字母转换为大写：</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">var <span class="attribute">mystr</span>=<span class="string">"Hello world!"</span>;</span><br><span class="line">var <span class="attribute">mynum</span>=mystr.toUpperCase();</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight erlang-repl">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">以上代码执行后，mynum 的值是：HELLO WORLD!</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="返回指定位置的字符"><a href="#返回指定位置的字符" class="headerlink" title="返回指定位置的字符"></a>返回指定位置的字符</h2>
                  <p>charAt() 方法可返回指定位置的字符。返回的字符是长度为 1 的字符串。</p>
                  <p><strong>语法:</strong></p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">stringObject.<span class="built_in">char</span><span class="constructor">At(<span class="params">index</span>)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong></p>
                  <p><a href="http://img.mukewang.com/53251a310001cf1e03370092.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53251a310001cf1e03370092.jpg" alt=""></a> <strong>注意**</strong>：**1.字符串中第一个字符的下标是 0。最后一个字符的下标为字符串长度减一（string.length-1）。</p>
                  <p>2.如果参数 index 不在 0 与 string.length-1 之间，该方法将返回一个空字符串。</p>
                  <p><strong>如:</strong>在字符串 “I love JavaScript!” 中，返回位置2的字符：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> mystr=<span class="string">"I love JavaScript!"</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mystr.charAt(<span class="number">2</span>));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：</strong>一个空格也算一个字符。</p>
                  <p>以上代码的运行结果：</p>
                  <figure class="highlight ebnf">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attribute">l</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="返回指定的字符串首次出现的位置"><a href="#返回指定的字符串首次出现的位置" class="headerlink" title="返回指定的字符串首次出现的位置"></a>返回指定的字符串首次出现的位置</h2>
                  <p>indexOf() 方法可返回某个指定的字符串值在字符串中首次出现的位置。</p>
                  <p><strong>语法</strong></p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">stringObject.index<span class="constructor">Of(<span class="params">substring</span>, <span class="params">startpos</span>)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong></p>
                  <p><a href="http://img.mukewang.com/53853d4200019feb04920149.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53853d4200019feb04920149.jpg" alt=""></a> <strong>说明：</strong></p>
                  <p>1.该方法将从头到尾地检索字符串 stringObject，看它是否含有子串 substring。</p>
                  <p>2.可选参数，从stringObject的startpos位置开始查找substring，如果没有此参数将从stringObject的开始位置查找。</p>
                  <p>3.如果找到一个 substring，则返回 substring 的第一次出现的位置。stringObject 中的字符位置是从 0 开始的。</p>
                  <p><strong>注意：</strong>1.indexOf() 方法区分大小写。</p>
                  <p>2.如果要检索的字符串值没有出现，则该方法返回 -1。</p>
                  <p>例如: 对 “I love JavaScript!” 字符串内进行不同的检索：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> str=<span class="string">"I love JavaScript!"</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(str.indexOf(<span class="string">"I"</span>) + <span class="string">"&lt;br /&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(str.indexOf(<span class="string">"v"</span>) + <span class="string">"&lt;br /&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(str.indexOf(<span class="string">"v"</span>,<span class="number">8</span>));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>以上代码的输出：</p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">9</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="字符串分割split"><a href="#字符串分割split" class="headerlink" title="字符串分割split()"></a>字符串分割split()</h2>
                  <p><strong>知识讲解：</strong> split() 方法将字符串分割为字符串数组，并返回此数组。</p>
                  <h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a><strong>语法：</strong></h3>
                  <figure class="highlight maxima">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">stringObject.<span class="built_in">split</span>(separator,<span class="built_in">limit</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明:"></a><strong>参数说明:</strong></h3>
                  <p><strong><a href="http://img.mukewang.com/532bee4800014c0404230108.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/532bee4800014c0404230108.jpg" alt=""></a></strong> <strong>注意：</strong>如果把空字符串 (“”) 用作 separator，那么 stringObject 中的每个字符之间都会被分割。 <strong>我们将按照不同的方式来分割字符串：</strong> 使用指定符号分割字符串，代码如下:</p>
                  <figure class="highlight dart">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span> mystr = <span class="string">"www.imooc.com"</span>;</span><br><span class="line"><span class="built_in">document</span>.write(mystr.split(<span class="string">"."</span>)+<span class="string">"&lt;br&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.write(mystr.split(<span class="string">"."</span>, <span class="number">2</span>)+<span class="string">"&lt;br&gt;"</span>);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果:</strong></p>
                  <figure class="highlight autohotkey">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">www,</span>imooc,com</span><br><span class="line"><span class="built_in">www,</span>imooc</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>将字符串分割为字符，代码如下：</p>
                  <figure class="highlight applescript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">document.<span class="built_in">write</span>(mystr.split(<span class="string">""</span>)+<span class="string">"&lt;br&gt;"</span>);</span><br><span class="line">document.<span class="built_in">write</span>(mystr.split(<span class="string">""</span>, <span class="number">5</span>));</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果:</p>
                  <figure class="highlight autohotkey">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">w,</span>w,w,.,i,m,o,o,c,.,c,o,m</span><br><span class="line"><span class="built_in">w,</span>w,w,.,i</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="提取字符串substring"><a href="#提取字符串substring" class="headerlink" title="提取字符串substring()"></a>提取字符串substring()</h2>
                  <p>substring() 方法用于提取字符串中介于两个指定下标之间的字符。 <strong>语法:</strong></p>
                  <figure class="highlight pf">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">stringObject.substring(starP<span class="keyword">os</span>,stopP<span class="keyword">os</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明:</strong> <img src="http://img.mukewang.com/532bf1bb000151af04450082.jpg" alt=""> <strong>注意：</strong> 1. 返回的内容是从 start开始(包含start位置的字符)到 stop-1 处的所有字符，其长度为 stop 减start。 2. 如果参数 start 与 stop 相等，那么该方法返回的就是一个空串（即长度为 0 的字符串）。 3. 如果 start 比 stop 大，那么该方法在提取子串之前会先交换这两个参数。 使用 substring() 从字符串中提取字符串，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> mystr=<span class="string">"I love JavaScript"</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mystr.substring(<span class="number">7</span>));</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mystr.substring(<span class="number">2</span>,<span class="number">6</span>));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果**</strong>:**</p>
                  <figure class="highlight ebnf">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attribute">JavaScript</span></span><br><span class="line"><span class="attribute">love</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="提取指定数目的字符substr"><a href="#提取指定数目的字符substr" class="headerlink" title="提取指定数目的字符substr()"></a>提取指定数目的字符substr()</h2>
                  <p>substr() 方法从字符串中提取从 startPos位置开始的指定数目的字符串。 <strong>语法:</strong></p>
                  <figure class="highlight sas">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">stringObject<span class="meta">.substr(</span>startPos,<span class="meta">length</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明:</strong> <a href="http://img.mukewang.com/532bf2e00001105305100098.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/532bf2e00001105305100098.jpg" alt=""></a> <strong>注意：</strong>如果参数startPos是负数，从字符串的尾部开始算起的位置。也就是说，-1 指字符串中最后一个字符，-2 指倒数第二个字符，以此类推。 如果startPos为负数且绝对值大于字符串长度，startPos为0。 使用 substr() 从字符串中提取一些字符，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> mystr=<span class="string">"I love JavaScript!"</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mystr.substr(<span class="number">7</span>));</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mystr.substr(<span class="number">2</span>,<span class="number">4</span>));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight erlang-repl">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">JavaScript!</span><br><span class="line">love</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="Math对象"><a href="#Math对象" class="headerlink" title="Math对象"></a>Math对象</h2>
                  <p>Math对象，提供对数据的数学计算。 使用 Math 的属性和方法，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mypi=<span class="built_in">Math</span>.PI; </span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> myabs=<span class="built_in">Math</span>.abs(<span class="number">-15</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mypi);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myabs);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果**</strong>:**</p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">3.141592653589793</span></span><br><span class="line"><span class="number">15</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：</strong>Math 对象是一个固有的对象，无需创建它，直接把 Math 作为对象使用就可以调用其所有属性和方法。这是它与Date,String对象的区别。 Math 对象属性 <a href="http://img.mukewang.com/532fe7cf0001e7b505170269.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/532fe7cf0001e7b505170269.jpg" alt=""></a> Math 对象方法 <a href="http://img.mukewang.com/532fe841000174db05160622.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/532fe841000174db05160622.jpg" alt=""></a> 以上方法不做全部讲解，只讲解部分方法。</p>
                  <h2 id="向上取整ceil"><a href="#向上取整ceil" class="headerlink" title="向上取整ceil()"></a>向上取整ceil()</h2>
                  <p>ceil() 方法可对一个数进行向上取整。 <strong>语法:</strong></p>
                  <figure class="highlight gml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">Math.<span class="built_in">ceil</span>(<span class="symbol">x</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明:</strong> <a href="http://img.mukewang.com/532fe8e00001e4e605230063.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/532fe8e00001e4e605230063.jpg" alt=""></a> <strong>注意：</strong>它返回的是大于或等于x，并且与x最接近的整数。 我们将把 ceil() 方法运用到不同的数字上，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.ceil(<span class="number">0.8</span>) + <span class="string">"&lt;br /&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.ceil(<span class="number">6.3</span>) + <span class="string">"&lt;br /&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.ceil(<span class="number">5</span>) + <span class="string">"&lt;br /&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.ceil(<span class="number">3.5</span>) + <span class="string">"&lt;br /&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.ceil(<span class="number">-5.1</span>) + <span class="string">"&lt;br /&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.ceil(<span class="number">-5.9</span>))</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">-5</span></span><br><span class="line"><span class="number">-5</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="向下取整floor"><a href="#向下取整floor" class="headerlink" title="向下取整floor()"></a>向下取整floor()</h2>
                  <p>floor() 方法可对一个数进行向下取整。 <strong>语法:</strong></p>
                  <figure class="highlight gml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">Math.<span class="built_in">floor</span>(<span class="symbol">x</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong> <img src="http://img.mukewang.com/532fea54000194c604380058.jpg" alt=""> <strong>注意：</strong>返回的是小于或等于x，并且与x最接近的整数。 我们将在不同的数字上使用 floor() 方法，代码如下:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.floor(<span class="number">0.8</span>)+ <span class="string">"&lt;br&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.floor(<span class="number">6.3</span>)+ <span class="string">"&lt;br&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.floor(<span class="number">5</span>)+ <span class="string">"&lt;br&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.floor(<span class="number">3.5</span>)+ <span class="string">"&lt;br&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.floor(<span class="number">-5.1</span>)+ <span class="string">"&lt;br&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.floor(<span class="number">-5.9</span>))</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">-6</span></span><br><span class="line"><span class="number">-6</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="四舍五入round"><a href="#四舍五入round" class="headerlink" title="四舍五入round()"></a>四舍五入round()</h2>
                  <p>round() 方法可把一个数字四舍五入为最接近的整数。 <strong>语法:</strong></p>
                  <figure class="highlight gml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">Math.<span class="built_in">round</span>(<span class="symbol">x</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong> <img src="http://img.mukewang.com/532feb70000180ab03210059.jpg" alt=""> <strong>注意：</strong> 1. 返回与 x 最接近的整数。 2. 对于 0.5，该方法将进行上舍入。(5.5 将舍入为 6) 3. 如果 x 与两侧整数同等接近，则结果接近 +∞方向的数字值 。(如 -5.5 将舍入为 -5; -5.52 将舍入为 -6),如下图: <a href="http://img.mukewang.com/53fc4cc8000169a907530196.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53fc4cc8000169a907530196.jpg" alt=""></a> 把不同的数舍入为最接近的整数,代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">`Math.round(1.6)`</span>+ <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">`Math.round(2.5)`</span>+ <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">`Math.round(0.49)`</span>+ <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">`Math.round(-6.4)`</span>+ <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">`Math.round(-6.6)`</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">-6</span></span><br><span class="line"><span class="number">-7</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="随机数-random"><a href="#随机数-random" class="headerlink" title="随机数 random()"></a>随机数 random()</h2>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">random() 方法可返回介于 <span class="number">0</span> ~ <span class="number">1</span>（大于或等于 <span class="number">0</span> 但小于 <span class="number">1</span> )之间的一个随机数。</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>语法：</strong></p>
                  <figure class="highlight reasonml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">Math</span>.</span></span>random<span class="literal">()</span>;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：</strong>返回一个大于或等于 0 但小于 1 的符号为正的数字值。 我们取得介于 0 到 1 之间的一个随机数，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="built_in">Math</span>.random());</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">0.190305486195328</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意**</strong>:**因为是随机数，所以每次运行结果不一样，但是0 ~ 1的数值。</p>
                  <p>获得0 ~ 10之间的随机数，代码如下:</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write((<span class="built_in">Math</span>.random())*<span class="number">10</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">8.72153625893887</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="Array-数组对象"><a href="#Array-数组对象" class="headerlink" title="Array 数组对象"></a>Array 数组对象</h2>
                  <p>数组对象是一个对象的集合，里边的对象可以是不同类型的。数组的每一个成员对象都有一个“下标”，用来表示它在数组中的位置，是从零开始的 <strong>数组定义的方法：</strong> 1. 定义了一个空数组:</p>
                  <figure class="highlight haxe">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span>  数组名= <span class="keyword">new</span> <span class="type">Array</span>();</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>2. 定义时指定有n个空元素的数组：</p>
                  <figure class="highlight haxe">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">var</span> 数组名 =<span class="keyword">new</span> <span class="type">Array</span>(n);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>3.定义数组的时候，直接初始化数据：</p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">var  数组名 = [&lt;元素<span class="number">1</span>&gt;, &lt;元素<span class="number">2</span>&gt;, &lt;元素<span class="number">3</span>&gt;...];</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们定义myArray数组，并赋值，<strong>代码如下：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">var myArray = [<span class="number">2</span>, <span class="number">8</span>, <span class="number">6</span>];</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>说明：</strong>定义了一个数组 myArray，里边的元素是：myArray[0] = 2; myArray[1] = 8; myArray[2] = 6。 <strong>数组元素使用：</strong></p>
                  <figure class="highlight abnf">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">数组名[下标] = 值<span class="comment">;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意</strong>: 数组的下标用方括号括起来，从0开始。</p>
                  <p><strong>数组属性：</strong></p>
                  <p>length 用法：&lt;数组对象&gt;.length；返回：数组的长度，即数组里有多少个元素。它等于数组里最后一个元素的下标加一。 <strong>数组方法：</strong> <a href="http://img.mukewang.com/533295ab0001dead05190599.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/533295ab0001dead05190599.jpg" alt=""></a></p>
                  <h2 id="数组连接concat"><a href="#数组连接concat" class="headerlink" title="数组连接concat()"></a>数组连接concat()</h2>
                  <p>concat() 方法用于连接两个或多个数组。此方法返回一个新数组，不改变原来的数组。 <strong>语法</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">array</span>Object.concat(<span class="built_in">array</span>1,<span class="built_in">array</span>2,...,<span class="built_in">array</span>N)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong></p>
                  <p><strong><img src="http://img.mukewang.com/5332968d0001d39b05010137.jpg" alt=""></strong></p>
                  <p><strong>注意:</strong> 该方法不会改变现有的数组，而仅仅会返回被连接数组的一个副本。</p>
                  <p>我们创建一个数组，将把 concat() 中的参数连接到数组 myarr 中，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mya = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>);</span></span><br><span class="line"><span class="actionscript">  mya[<span class="number">0</span>] = <span class="string">"1"</span>;</span></span><br><span class="line"><span class="actionscript">  mya[<span class="number">1</span>] = <span class="string">"2"</span>;</span></span><br><span class="line"><span class="actionscript">  mya[<span class="number">2</span>] = <span class="string">"3"</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mya.concat(<span class="number">4</span>,<span class="number">5</span>)+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mya); </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span></span><br><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们创建了三个数组，然后使用 concat() 把它们连接起来，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mya1= <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"hello!"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mya2= <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"I"</span>,<span class="string">"love"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> mya3= <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"JavaScript"</span>,<span class="string">"!"</span>);</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> mya4=mya1.concat(mya2,mya3);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(mya4);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight erlang-repl">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">hello!,I,love,JavaScript,!</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="指定分隔符连接数组元素join"><a href="#指定分隔符连接数组元素join" class="headerlink" title="指定分隔符连接数组元素join()"></a>指定分隔符连接数组元素join()</h2>
                  <p>join()方法用于把数组中的所有元素放入一个字符串。元素是通过指定的分隔符进行分隔的。 <strong>语法：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">array</span>Object.join(分隔符)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明:</strong></p>
                  <p><img src="http://img.mukewang.com/533297ff0001516905150059.jpg" alt=""> 注意：返回一个字符串，该字符串把数组中的各个元素串起来，用&lt;分隔符&gt;置于元素与元素之间。这个方法不影响数组原本的内容。 我们使用join（）方法，将数组的所有元素放入一个字符串中，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> myarr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>);</span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">0</span>] = <span class="string">"I"</span>;</span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">1</span>] = <span class="string">"love"</span>;</span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">2</span>] = <span class="string">"JavaScript"</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr.join());</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight autohotkey">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">I,</span>love,JavaScript</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我们将使用分隔符来分隔数组中的元素，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> myarr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>)</span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">0</span>] = <span class="string">"I"</span>;</span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">1</span>] = <span class="string">"love"</span>;</span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">2</span>] = <span class="string">"JavaScript"</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr.join(<span class="string">"."</span>));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">I</span><span class="selector-class">.love</span><span class="selector-class">.JavaScript</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="颠倒数组元素顺序reverse"><a href="#颠倒数组元素顺序reverse" class="headerlink" title="颠倒数组元素顺序reverse()"></a>颠倒数组元素顺序reverse()</h2>
                  <p>reverse() 方法用于颠倒数组中元素的顺序。</p>
                  <p><strong>语法：</strong></p>
                  <figure class="highlight ada">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">arrayObject.<span class="keyword">reverse</span>()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意：</strong>该方法会改变原来的数组，而不会创建新的数组。 定义数组myarr并赋值，然后颠倒其元素的顺序：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> myarr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>)</span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">0</span>] = <span class="string">"1"</span></span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">1</span>] = <span class="string">"2"</span></span></span><br><span class="line"><span class="actionscript">  myarr[<span class="number">2</span>] = <span class="string">"3"</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr + <span class="string">"&lt;br /&gt;"</span>)</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(my<span class="string">`arr.reverse()`</span>)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line"><span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="选定元素slice"><a href="#选定元素slice" class="headerlink" title="选定元素slice()"></a>选定元素slice()</h2>
                  <p>slice() 方法可从已有的数组中返回选定的元素。 <strong>语法</strong></p>
                  <figure class="highlight pgsql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">arrayObject.<span class="keyword">slice</span>(<span class="keyword">start</span>,<span class="keyword">end</span>)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong> <a href="http://img.mukewang.com/533299680001637b05160145.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/533299680001637b05160145.jpg" alt=""></a> 1.返回一个新的数组，包含从 start 到 end （不包括该元素）的 arrayObject 中的元素。 2. 该方法并不会修改数组，而是返回一个子数组。 <strong>注意：</strong> 1. 可使用负值从数组的尾部选取元素。 2.如果 end 未被规定，那么 slice() 方法会选取从 start 到数组结尾的所有元素。 3. String.slice() 与 Array.slice() 相似。 我们将创建一个新数组，然后从其中选取的元素，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> myarr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr + <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr.slice(<span class="number">2</span>,<span class="number">4</span>) + <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span></span><br><span class="line"><span class="number">3</span>,<span class="number">4</span></span><br><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="数组排序sort"><a href="#数组排序sort" class="headerlink" title="数组排序sort()"></a>数组排序sort()</h2>
                  <p><strong>sort()</strong>方法使数组中的元素按照一定的顺序排列。</p>
                  <p><strong>语法:</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">array</span>Object.sort(方法函数)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>参数说明：</strong> <img src="http://img.mukewang.com/53329a2a000127f705170060.jpg" alt=""></p>
                  <p>1.如果不指定&lt;方法函数&gt;，则按unicode码顺序排列。</p>
                  <p>2.如果指定&lt;方法函数&gt;，则按&lt;方法函数&gt;所指定的排序方法排序。</p>
                  <figure class="highlight abnf">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">myArray.sort(sortMethod)<span class="comment">;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>使用sort()将数组进行排序，代码如下：</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> myarr1 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"Hello"</span>,<span class="string">"John"</span>,<span class="string">"love"</span>,<span class="string">"JavaScript"</span>); </span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> myarr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"80"</span>,<span class="string">"16"</span>,<span class="string">"50"</span>,<span class="string">"6"</span>,<span class="string">"100"</span>,<span class="string">"1"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr1.sort()+<span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr2.sort());</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">Hello,JavaScript,John,love</span><br><span class="line"><span class="number">1</span>,<span class="number">100</span>,<span class="number">16</span>,<span class="number">50</span>,<span class="number">6</span>,<span class="number">80</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>注意:上面的代码没有按照数值的大小对数字进行排序。</strong> <strong>如要实现这一点，就必须使用一个排序函数，代码如下：</strong></p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">sortNum</span><span class="params">(a,b)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">return</span> a - b;</span></span><br><span class="line"><span class="actionscript"> <span class="comment">//升序，如降序，把“a - b”该成“b - a”</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> myarr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"80"</span>,<span class="string">"16"</span>,<span class="string">"50"</span>,<span class="string">"6"</span>,<span class="string">"100"</span>,<span class="string">"1"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr + <span class="string">"&lt;br&gt;"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(myarr.sort(sortNum));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>运行结果：</strong></p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="number">80</span>,<span class="number">16</span>,<span class="number">50</span>,<span class="number">6</span>,<span class="number">100</span>,<span class="number">1</span></span><br><span class="line"><span class="number">1</span>,<span class="number">6</span>,<span class="number">16</span>,<span class="number">50</span>,<span class="number">80</span>,<span class="number">100</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>来源：<a href="http://www.imooc.com/" target="_blank" rel="noopener">慕课网</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-07 22:32:16" itemprop="dateCreated datePublished" datetime="2015-03-07T22:32:16+08:00">2015-03-07</time>
                </span>
                <span id="/1257.html" class="post-meta-item leancloud_visitors" data-flag-title="JavaScript高级用法二之内置对象" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>10k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>9 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1253.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> JavaScript <i class="label-arrow"></i>
                  </a>
                  <a href="/1253.html" class="post-title-link" itemprop="url">JavaScript高级用法一之事件响应与网页交互</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2>
                  <p>本篇的主要内容来自慕课网，事件响应与网页交互，主要内容如下</p>
                  <ul>
                    <li>1 什么是事件</li>
                    <li>2 鼠标单击事件( onclick ）</li>
                    <li>3 鼠标经过事件（onmouseover）</li>
                    <li>4 鼠标移开事件（onmouseout）</li>
                    <li>5 光标聚焦事件（onfocus）</li>
                    <li>6 失焦事件（onblur）</li>
                    <li>7 内容选中事件（onselect）</li>
                    <li>8 文本框内容改变事件（onchange）</li>
                    <li>9 加载事件（onload）</li>
                    <li>10 卸载事件（onunload）</li>
                  </ul>
                  <h2 id="什么是事件"><a href="#什么是事件" class="headerlink" title="什么是事件"></a>什么是事件</h2>
                  <p>JavaScript 创建动态页面。事件是可以被 JavaScript 侦测到的行为。 网页中的每个元素都可以产生某些可以触发 JavaScript 函数或程序的事件。</p>
                  <p>比如说，当用户单击按钮或者提交表单数据时，就发生一个鼠标单击（onclick）事件，需要浏览器做出处理，返回给用户一个结果。</p>
                  <p><strong>主要事件表:</strong></p>
                  <p><a href="http://img.mukewang.com/53e198540001b66404860353.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53e198540001b66404860353.jpg" alt=""></a></p>
                  <h2 id="鼠标单击事件-onclick-）"><a href="#鼠标单击事件-onclick-）" class="headerlink" title="鼠标单击事件( onclick ）"></a>鼠标单击事件( onclick ）</h2>
                  <p>onclick是鼠标单击事件，当在网页上单击鼠标时，就会发生该事件。同时onclick事件调用的程序块就会被执行，通常与按钮一起使用。 比如，我们单击按钮时，触发 onclick 事件，并调用两个数和的函数add2()。代码如下：</p>
                  <figure class="highlight xquery">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">   </span><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span></span><br><span class="line"><span class="xml">      function add2()</span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">        var numa,numb<span class="built_in">,sum</span>;</span></span><br><span class="line"><span class="xquery">        numa=<span class="number">6</span>;</span></span><br><span class="line"><span class="xquery">        numb=<span class="number">8</span>;</span></span><br><span class="line"><span class="xquery">       <span class="built_in"> sum</span>=numa+numb;</span></span><br><span class="line"><span class="xquery">       <span class="built_in"> document</span>.write(<span class="string">"两数和为:"</span><span class="built_in">+sum</span>);  &#125;</span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">   </span><span class="xml"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"button"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点击提交"</span> <span class="attr">onclick</span>=<span class="string">"add2()"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="鼠标经过事件（onmouseover）"><a href="#鼠标经过事件（onmouseover）" class="headerlink" title="鼠标经过事件（onmouseover）"></a>鼠标经过事件（onmouseover）</h2>
                  <p>鼠标经过事件，当鼠标移到一个对象上时，该对象就触发onmouseover事件，并执行onmouseover事件调用的程序。 现实鼠标经过”确定”按钮时，触发onmouseover事件，调用函数info()，弹出消息框，代码如下: <a href="http://img.mukewang.com/53e196e500013f1807700354.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53e196e500013f1807700354.jpg" alt=""></a> <strong>运行结果:</strong> <img src="http://img.mukewang.com/53e196fd00017d8704870416.jpg" alt=""></p>
                  <h2 id="鼠标移开事件（onmouseout）"><a href="#鼠标移开事件（onmouseout）" class="headerlink" title="鼠标移开事件（onmouseout）"></a>鼠标移开事件（onmouseout）</h2>
                  <p>鼠标移开事件，当鼠标移开当前对象时，执行onmouseout调用的程序。</p>
                  <p>当把鼠标移动到”登录”按钮上，然后再移开时，触发onmouseout事件，调用函数message()，代码如下:</p>
                  <p><a href="http://img.mukewang.com/53e195580001a0bc07730356.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53e195580001a0bc07730356.jpg" alt=""></a></p>
                  <p><strong>运行结果:</strong> <a href="http://img.mukewang.com/53e195bf00010d1804760385.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53e195bf00010d1804760385.jpg" alt=""></a></p>
                  <h2 id="光标聚焦事件（onfocus）"><a href="#光标聚焦事件（onfocus）" class="headerlink" title="光标聚焦事件（onfocus）"></a>光标聚焦事件（onfocus）</h2>
                  <p>当网页中的对象获得聚点时，执行onfocus调用的程序就会被执行。 如下代码, 当将光标移到文本框内时，即焦点在文本框内，触发onfocus 事件，并调用函数message()。 <a href="http://img.mukewang.com/53e19337000113d108390338.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53e19337000113d108390338.jpg" alt=""></a> <strong>运行结果：</strong> <a href="http://img.mukewang.com/5312c5660001821a04300326.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5312c5660001821a04300326.jpg" alt=""></a></p>
                  <h2 id="失焦事件（onblur）"><a href="#失焦事件（onblur）" class="headerlink" title="失焦事件（onblur）"></a>失焦事件（onblur）</h2>
                  <p>onblur事件与onfocus是相对事件，当光标离开当前获得聚焦对象的时候，触发onblur事件，同时执行被调用的程序。 如下代码, 网页中有用户和密码两个文本框。当前光标在用户文本框内时（即焦点在文本框），在光标离开该文本框后（即失焦时），触发onblur事件，并调用函数message()。 <a href="http://img.mukewang.com/53e191d00001dfe508560326.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53e191d00001dfe508560326.jpg" alt=""></a> <strong>运行结果：</strong> <strong><a href="http://img.mukewang.com/5312da710001968704410319.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5312da710001968704410319.jpg" alt=""></a></strong> </p>
                  <h2 id="内容选中事件（onselect）"><a href="#内容选中事件（onselect）" class="headerlink" title="内容选中事件（onselect）"></a>内容选中事件（onselect）</h2>
                  <p>选中事件，当文本框或者文本域中的文字被选中时，触发onselect事件，同时调用的程序就会被执行。 如下代码,当选中用户文本框内的文字时，触发onselect 事件，并调用函数message()。 <a href="http://img.mukewang.com/53e190b70001ffa908560325.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/53e190b70001ffa908560325.jpg" alt=""></a> <strong>运行结果：</strong> <strong><a href="http://img.mukewang.com/5312d7ba00013fff03950319.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5312d7ba00013fff03950319.jpg" alt=""></a></strong></p>
                  <h2 id="文本框内容改变事件（onchange）"><a href="#文本框内容改变事件（onchange）" class="headerlink" title="文本框内容改变事件（onchange）"></a>文本框内容改变事件（onchange）</h2>
                  <p>通过改变文本框的内容来触发onchange事件，同时执行被调用的程序。 如下代码,当用户将文本框内的文字改变后，弹出对话框“您改变了文本内容！”。 <a href="http://img.mukewang.com/5312d59c00011cd311490444.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5312d59c00011cd311490444.jpg" alt=""></a> <strong>运行结果：</strong> <strong><a href="http://img.mukewang.com/5312d5c600012c3703960319.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5312d5c600012c3703960319.jpg" alt=""></a></strong></p>
                  <h2 id="加载事件（onload）"><a href="#加载事件（onload）" class="headerlink" title="加载事件（onload）"></a>加载事件（onload）</h2>
                  <p>事件会在页面加载完成后立即发生，同时执行被调用的程序。 注意：1. 加载页面时，触发onload事件，事件写在

                    <body>标签内。 2. 此节的加载页面，可理解为打开一个新页面时。 如下代码,当加载一个新页面时，弹出对话框“加载中，请稍等…”。 <a href="http://img.mukewang.com/5312e3c10001bd9908920372.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5312e3c10001bd9908920372.jpg" alt=""></a> <strong>运行结果：</strong> <strong><a href="http://img.mukewang.com/5312e3eb0001e8a103930318.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5312e3eb0001e8a103930318.jpg" alt=""></a></strong>
                  </p>
                  <h2 id="卸载事件（onunload）"><a href="#卸载事件（onunload）" class="headerlink" title="卸载事件（onunload）"></a>卸载事件（onunload）</h2>
                  <p>当用户退出页面时（页面关闭、页面刷新等），触发onUnload事件，同时执行被调用的程序。</p>
                  <p><strong>注意：不同浏览器对onunload事件支持不同。</strong></p>
                  <p>如下代码,当退出页面时，弹出对话框“您确定离开该网页吗？”。</p>
                  <p><a href="http://img.mukewang.com/5312ee6b0001f89408950418.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/5312ee6b0001f89408950418.jpg" alt=""></a></p>
                  <p><strong>运行结果：（IE浏览器）</strong></p>
                  <p><a href="http://img.mukewang.com/546470c90001583205460464.jpg" target="_blank" rel="noopener"><img src="http://img.mukewang.com/546470c90001583205460464.jpg" alt=""></a></p>
                  <p>来源：<a href="http://www.imooc.com" target="_blank" rel="noopener">慕课网</a></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-07 22:23:24" itemprop="dateCreated datePublished" datetime="2015-03-07T22:23:24+08:00">2015-03-07</time>
                </span>
                <span id="/1253.html" class="post-meta-item leancloud_visitors" data-flag-title="JavaScript高级用法一之事件响应与网页交互" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>1.8k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>2 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1250.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 个人随笔 <i class="label-arrow"></i>
                  </a>
                  <a href="/1250.html" class="post-title-link" itemprop="url">珍惜自己年轻的时光吧</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>话说书桌比较乱的人比较有创造力？很不幸我的桌面我好像就是这么一个人呐，哈哈哈我开玩笑的~ 一直以来养成了一个定期清理书桌的习惯，在不到那个清理的时间，我会随意摆放自己想要摆放的东西，有时候，我的桌面比较乱也是正常的。这不，今天周六了嘛，整理一下东西吧。三下五除二，桌面回归了它正常的模样。又心想干脆连橱柜一起整理了吧，不差那回事。 橱柜的东西比较多，应该是放假前的时候堆成那个样子了吧，各种衣服窝在一起，随后我找出自己的大皮箱，一点点地整理衣服。整理的时候发现，有多少衣服是我曾经穿过一个冬季或夏季，甚至只穿过一次之后，就将它束之高阁，打入冷宫，再也不去理会。仔细回想起来，这还是我大一的时候的衣服吧，一件件牛仔裤，一件件曾经以为很时尚很Fashion的衬衫、卫衣，现在我却一概不去理会。 上学期，为了参加一个比赛，爸妈给我买了第一套正装，还有领带，皮鞋，还有那亮闪闪的皮带。穿过一次之后，就觉得这样的行头的确不错。比赛回来，我便买了一件比较成熟的衬衫，还有一条黑色长裤，穿上，把衬衫那么一扎，皮带扎在最外面，顿时觉得太有范。后来，不知不觉，我似乎是穿这样的衣服上瘾了么？过年，又入手了双皮鞋，一件酒红色外套。这下，彻底就和之前的打扮相比，像是变了个人。 下午整理衣服，每每整理到一件，我都会回忆起曾经穿着这一身衣服做了什么，去了哪些地方。曾经的生活，现在想想，是那么地美好和自由。虽说现在生活也不差，但似乎觉得，自己失去了什么；也或者，将来的日子，我又会失去什么。是啊，现在都大三了，也不小了，将来的生活也再不会那么无忧无虑，什么事也不用操心。等将来的日子，为了工作，为了应酬，为了会议，自己可能会多么奔波劳累也说不定，那时候，想回归现在的生活，已经是不可能的事了吧！ 至少，现在的我，还算年轻，我还有资本去做自己想做的事。等以后自己独立了，天天西装革履，衬衣领带，再想找回曾经的样子，肯定是已经做不到了。 最后，我换了身行头，刮了刮胡子，再换回这几年的装扮，让自己年轻一把~ 珍惜年轻时候的时光吧~ </p>
                  <p>崔庆才</p>
                  <p>2015/3/7</p>
                  <p>随笔</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-07 15:54:24" itemprop="dateCreated datePublished" datetime="2015-03-07T15:54:24+08:00">2015-03-07</time>
                </span>
                <span id="/1250.html" class="post-meta-item leancloud_visitors" data-flag-title="珍惜自己年轻的时光吧" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>857</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1229.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> PHP <i class="label-arrow"></i>
                  </a>
                  <a href="/1229.html" class="post-title-link" itemprop="url">PHP高级特性二之文件处理</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>PHP中的文件处理也是一个相当重要的模块，这一篇的主要内容就是PHP中文件系统的简介。</p>
                  <h2 id="文件系统用途"><a href="#文件系统用途" class="headerlink" title="文件系统用途"></a>文件系统用途</h2>
                  <p>1. 项目处理都离不开文件处理 2. 可以用文件长时间保存数据 3. 建立缓存，在服务器中进行文件操作</p>
                  <h2 id="文件系统函数用法详述"><a href="#文件系统函数用法详述" class="headerlink" title="文件系统函数用法详述"></a>文件系统函数用法详述</h2>
                  <h3 id="1-基本的判断函数"><a href="#1-基本的判断函数" class="headerlink" title="1.基本的判断函数"></a>1.基本的判断函数</h3>
                  <blockquote>
                    <p><a href="http://php.net/manual/zh/function.is-dir.php" target="_blank" rel="noopener">is_dir</a> — 判断给定文件名是否是一个目录 <a href="http://php.net/manual/zh/function.is-file.php" target="_blank" rel="noopener">is_file</a> — 判断给定文件名是否为一个文件 <a href="http://php.net/manual/zh/function.is-executable.php" target="_blank" rel="noopener">is_executable</a> — 判断给定文件名是否可执行 <a href="http://php.net/manual/zh/function.is-link.php" target="_blank" rel="noopener">is_link</a> — 判断给定文件名是否为一个符号连接 <a href="http://php.net/manual/zh/function.is-readable.php" target="_blank" rel="noopener">is_readable</a> — 判断给定文件名是否可读 <a href="http://php.net/manual/zh/function.is-uploaded-file.php" target="_blank" rel="noopener">is_uploaded_file</a> — 判断文件是否是通过 HTTP POST 上传的 <a href="http://php.net/manual/zh/function.is-writable.php" target="_blank" rel="noopener">is_writable</a> — 判断给定的文件名是否可写 <a href="http://php.net/manual/zh/function.is-writeable.php" target="_blank" rel="noopener">is_writeable</a> — is_writable 的别名</p>
                  </blockquote>
                  <h3 id="2-文件相关信息获取"><a href="#2-文件相关信息获取" class="headerlink" title="2.文件相关信息获取"></a>2.文件相关信息获取</h3>
                  <blockquote>
                    <p><a href="http://php.net/manual/zh/function.file-exists.php" target="_blank" rel="noopener">file_exists</a> — 检查文件或目录是否存在 <a href="http://php.net/manual/zh/function.fileatime.php" target="_blank" rel="noopener">fileatime</a> — 取得文件的上次访问时间 <a href="http://php.net/manual/zh/function.filectime.php" target="_blank" rel="noopener">filectime</a> — 取得文件的 inode 修改时间 <a href="http://php.net/manual/zh/function.filegroup.php" target="_blank" rel="noopener">filegroup</a> — 取得文件的组 <a href="http://php.net/manual/zh/function.fileinode.php" target="_blank" rel="noopener">fileinode</a> — 取得文件的 inode <a href="http://php.net/manual/zh/function.filemtime.php" target="_blank" rel="noopener">filemtime</a> — 取得文件修改时间 <a href="http://php.net/manual/zh/function.fileowner.php" target="_blank" rel="noopener">fileowner</a> — 取得文件的所有者 <a href="http://php.net/manual/zh/function.fileperms.php" target="_blank" rel="noopener">fileperms</a> — 取得文件的权限 <a href="http://php.net/manual/zh/function.filesize.php" target="_blank" rel="noopener">filesize</a> — 取得文件大小 <a href="http://php.net/manual/zh/function.filetype.php" target="_blank" rel="noopener">filetype</a> — 取得文件类型</p>
                  </blockquote>
                  <p>下面我们写一个例子，传入文件名，打印它的详细信息。</p>
                  <figure class="highlight php">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">getFileInfo</span><span class="params">($filename)</span></span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(!file_exists($filename))&#123;</span><br><span class="line">           <span class="keyword">echo</span> <span class="string">'文件'</span>.($filename).<span class="string">'不存在'</span>;</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(is_file($filename))&#123;</span><br><span class="line">           <span class="keyword">echo</span> $filename.<span class="string">'是一个文件'</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(is_dir($filename))&#123;</span><br><span class="line">           <span class="keyword">echo</span> $filename.<span class="string">'是一个目录'</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(is_executable($filename))&#123;</span><br><span class="line">           <span class="keyword">echo</span> $filename.<span class="string">'是可执行文件'</span>;</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           <span class="keyword">echo</span> $filename.<span class="string">'不是可执行文件'</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(is_readable($filename))&#123;</span><br><span class="line">           <span class="keyword">echo</span> $filename.<span class="string">'是可读的'</span>;</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           <span class="keyword">echo</span> $filename.<span class="string">'不是可读的'</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(is_writable($filename))&#123;</span><br><span class="line">           <span class="keyword">echo</span> $filename.<span class="string">'是可写入的'</span>;</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           <span class="keyword">echo</span> $filename.<span class="string">'不是可写入的'</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'文件'</span>.$filename.<span class="string">'的大小是'</span>.getFileSize(filesize($filename)).<span class="string">''</span>;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'文件'</span>.$filename.<span class="string">'的类型是'</span>.filetype($filename).<span class="string">''</span>;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'文件'</span>.$filename.<span class="string">'的所有者是'</span>.fileowner($filename).<span class="string">''</span>;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'文件'</span>.$filename.<span class="string">'的最后访问时间为'</span>.getTime(fileatime($filename)).<span class="string">''</span>;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'文件'</span>.$filename.<span class="string">'的inode是'</span>.fileinode($filename).<span class="string">''</span>;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'文件'</span>.$filename.<span class="string">'的修改时间是'</span>.getTime(filemtime($filename)).<span class="string">''</span>;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'文件'</span>.$filename.<span class="string">'的权限是'</span>.fileperms($filename).<span class="string">''</span>;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">getTime</span><span class="params">($time)</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> date(<span class="string">'Y-m-d H:i:s'</span>,$time);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">getFileSize</span><span class="params">($size)</span></span>&#123;</span><br><span class="line">       $dw = <span class="string">'B'</span>;</span><br><span class="line">       <span class="keyword">if</span>($size&gt;=pow(<span class="number">2</span>,<span class="number">40</span>))&#123;</span><br><span class="line">           $size=round($size/pow(<span class="number">2</span>,<span class="number">40</span>),<span class="number">2</span>);</span><br><span class="line">           $dw = <span class="string">'PB'</span>;</span><br><span class="line">       &#125;<span class="keyword">else</span> <span class="keyword">if</span>($size&gt;=pow(<span class="number">2</span>,<span class="number">30</span>))&#123;</span><br><span class="line">           $size=round($size/pow(<span class="number">2</span>,<span class="number">30</span>),<span class="number">2</span>);</span><br><span class="line">           $dw = <span class="string">'TB'</span>;</span><br><span class="line">       &#125;<span class="keyword">else</span> <span class="keyword">if</span>($size&gt;=pow(<span class="number">2</span>,<span class="number">20</span>))&#123;</span><br><span class="line">           $size=round($size/pow(<span class="number">2</span>,<span class="number">20</span>),<span class="number">2</span>);</span><br><span class="line">           $dw = <span class="string">'GB'</span>;</span><br><span class="line">       &#125;<span class="keyword">else</span> <span class="keyword">if</span>($size&gt;=pow(<span class="number">2</span>,<span class="number">10</span>))&#123;</span><br><span class="line">           $size=round($size/pow(<span class="number">2</span>,<span class="number">10</span>),<span class="number">2</span>);</span><br><span class="line">           $dw = <span class="string">'MB'</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> $size.$dw;</span><br><span class="line">   &#125;</span><br><span class="line">   getFileInfo(<span class="string">'1.php'</span>);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果</p>
                  <blockquote>
                    <p>1.php是一个文件 1.php不是可执行文件 1.php是可读的 1.php不是可写入的 文件1.php的大小是2MB 文件1.php的类型是file 文件1.php的所有者是1000 文件1.php的最后访问时间为2015-03-04 12:58:33 文件1.php的inode是536185 文件1.php的修改时间是2015-03-04 12:58:32 文件1.php的权限是33204</p>
                  </blockquote>
                  <h3 id="3-文件路径相关函数"><a href="#3-文件路径相关函数" class="headerlink" title="3.文件路径相关函数"></a>3.文件路径相关函数</h3>
                  <p><strong>相对路径：相对于当前目录的上级和下级目录</strong></p>
                  <blockquote>
                    <p>. 当前目录 .. 上一级目录</p>
                  </blockquote>
                  <p><strong>路径分隔符号</strong></p>
                  <blockquote>
                    <p>linux/Unix “/“ windows “\“ 不管是什么操作系统PHP的目录分割符号都支技 / (Linux)</p>
                  </blockquote>
                  <p><strong>绝对路径：可以指的操作系统的根，也可以指的是存放网站的文档根目录</strong></p>
                  <blockquote>
                    <p>如果是在服务器中执行（通过PHP文件处理函数执行）路径 则 “根”指的就是操作系统的根 如果程序是下载的客户端，再访问服务器中的文件时，只有通过Apache访问，“根”也就指的是文档根目录</p>
                  </blockquote>
                  <p>三个相关函数</p>
                  <blockquote>
                    <p><a href="http://php.net/manual/zh/function.basename.php" target="_blank" rel="noopener">basename</a> — 返回路径中的文件名部分 <a href="http://php.net/manual/zh/function.dirname.php" target="_blank" rel="noopener">dirname</a> — 返回路径中的目录部分 <a href="http://php.net/manual/zh/function.pathinfo.php" target="_blank" rel="noopener">pathinfo</a> — 返回文件路径的信息</p>
                  </blockquote>
                  <p>例如下面的例子</p>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">   <span class="variable">$url1</span>=<span class="string">"./aaa/bbb/index.php"</span>;</span><br><span class="line"><span class="variable">$url2</span>=<span class="string">"../www/yyy/login.rar"</span>;</span><br><span class="line"><span class="variable">$url3</span>=<span class="string">"c:/appserv/www/demo.html"</span>;</span><br><span class="line"><span class="variable">$url4</span>=<span class="string">"http://localhost/yyy/www.gif"</span>;</span><br><span class="line"><span class="built_in">echo</span> basename(<span class="variable">$url1</span>);</span><br><span class="line"><span class="built_in">echo</span> basename(<span class="variable">$url2</span>);</span><br><span class="line"><span class="built_in">echo</span> basename(<span class="variable">$url3</span>);</span><br><span class="line"><span class="built_in">echo</span> basename(<span class="variable">$url4</span>);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果</p>
                  <blockquote>
                    <p>index.php login.rar demo.html www.gif</p>
                  </blockquote>
                  <p>可以看出，basename这个函数返回的是文件的名，也就是最后一个项目。 下面我们看一下dirname的用法</p>
                  <figure class="highlight mel">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">   $url1=<span class="string">"./aaa/bbb/index.php"</span>;</span><br><span class="line">$url2=<span class="string">"../www/yyy/login.rar"</span>;</span><br><span class="line">$url3=<span class="string">"c:/appserv/www/demo.html"</span>;</span><br><span class="line">$url4=<span class="string">"http://localhost/yyy/www.gif"</span>;</span><br><span class="line">echo <span class="keyword">dirname</span>(<span class="keyword">dirname</span>($url1));</span><br><span class="line">echo <span class="keyword">dirname</span>($url2);</span><br><span class="line">echo <span class="keyword">dirname</span>($url3);</span><br><span class="line">echo <span class="keyword">dirname</span>($url4);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果</p>
                  <blockquote>
                    <p>./aaa ../www/yyy c:/appserv/www <a href="http://localhost/yyy" target="_blank" rel="noopener">http://localhost/yyy</a></p>
                  </blockquote>
                  <p>可以发现，dirname这个函数可以多层嵌套使用，返回的就是它所在的路径，即除了最后一项之外所有的项。 另外 pathinfo的以上所有信息都可以获取到，另外还包括了文件名和扩展名 比如下面的结果</p>
                  <blockquote>
                    <p>Array ( [dirname] =&gt; ../www/yyy [basename] =&gt; login.rar [extension] =&gt; rar [filename] =&gt; login )</p>
                  </blockquote>
                  <h3 id="4-文件的创建删除修改"><a href="#4-文件的创建删除修改" class="headerlink" title="4. 文件的创建删除修改"></a>4. 文件的创建删除修改</h3>
                  <blockquote>
                    <p><a href="http://php.net/manual/zh/function.touch.php" target="_blank" rel="noopener">touch</a> — 创建一个文件 <a href="http://php.net/manual/zh/function.unlink.php" target="_blank" rel="noopener">unlink</a> — 删除文件 <a href="http://php.net/manual/zh/function.rename.php" target="_blank" rel="noopener">rename</a> — 重命名一个文件或目录 <a href="http://php.net/manual/zh/function.copy.php" target="_blank" rel="noopener">copy</a> — 拷贝文件</p>
                  </blockquote>
                  <p>例如下面的例子</p>
                  <figure class="highlight less">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">touch</span>(<span class="string">"./php.apahce"</span>); <span class="comment">//创建文件</span></span><br><span class="line"><span class="selector-tag">unlink</span>(<span class="string">"C:/AppServ/www/xsphp/apache.php"</span>);  <span class="comment">//删除文件</span></span><br><span class="line"><span class="selector-tag">rename</span>(<span class="string">"./test.txt"</span>, <span class="string">"d:/test2.txt"</span>);    <span class="comment">//重命名文件</span></span><br><span class="line"><span class="selector-tag">copy</span>(<span class="string">"cache.txt"</span>, <span class="string">"./cache5.txt"</span>);   <span class="comment">//复制文件</span></span><br><span class="line"><span class="selector-tag">chmod</span>(<span class="string">"a.txt"</span>,<span class="number">755</span>);   <span class="comment">//设置文件权限</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>权限相关内容</p>
                  <blockquote>
                    <p>rwx 表这个文件的拥有者 r读 w写 x执行 rwx 表这个文件的拥有者所在的组 r读 w写 x执行 rwx 其它用户对这个为文件的权限 r读 w写 x执行</p>
                  </blockquote>
                  <h2 id="文件读写"><a href="#文件读写" class="headerlink" title="文件读写"></a>文件读写</h2>
                  <h3 id="1-file-get-contents-string"><a href="#1-file-get-contents-string" class="headerlink" title="1. file_get_contents(string)"></a>1. file_get_contents(string)</h3>
                  <p>传入文件名，直接得到文件中的文本信息，返回的内容即为文件中的文本。 例如</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"> $str = file_get_contents(<span class="string">"1.txt"</span>);</span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> $str;</span></span><br><span class="line"><span class="php"> <span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>则直接打开了 1.txt 文件中的内容，并返回文件中的文本信息。 如果文件不存在，那么会提示</p>
                  <blockquote>
                    <p><strong>Warning</strong>: file_get_contents(2.txt): failed to open stream: No such file or directory</p>
                  </blockquote>
                  <p>同样，文件还可以是远程文件，例如，参数传入 <a href="http://www.qq.com" target="_blank" rel="noopener">http://www.qq.com</a> 即可以呈现腾讯网的首页内容。 缺点：不能读取指定部分的内容，一次性全部读取。</p>
                  <h3 id="2-file-put-contents-filename-content"><a href="#2-file-put-contents-filename-content" class="headerlink" title="2. file_put_contents(filename,content)"></a>2. file_put_contents(filename,content)</h3>
                  <p>写入文件，filename是写入文件的文件名，content是写入内容，返回值是成功写入的字符长度。</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> file_put_contents(<span class="string">"2.txt"</span>,<span class="string">'abcd'</span>);</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>2.txt 文件如果不存在，那么则会创建这个文件并写入 abcd 这个字符串，返回 4 ，为字符串的长度。 如果文件存在，则会将文件清空，然后写入字符串，返回写入长度。 缺点：不能以追加的方式写入文件。</p>
                  <h3 id="3-file-filename"><a href="#3-file-filename" class="headerlink" title="3.file(filename)"></a>3.file(filename)</h3>
                  <p>file是直接打开某一个文件，返回的结果是一个数组，每一行是数组的一个元素。也就是说，获取行数只需要输出数组的大小即可。例如</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"> $str = file(<span class="string">"1.txt"</span>);</span></span><br><span class="line"><span class="php"> var_dump($str);</span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> count($str);</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>即可得到数组形式的行内容，而且输出了行数。 缺点：不能读取指定部分的内容。</p>
                  <h3 id="4-fopen-filename-mode"><a href="#4-fopen-filename-mode" class="headerlink" title="4.fopen(filename,mode)"></a>4.fopen(filename,mode)</h3>
                  <p>filename是文件名，可以是路径加名，也可以是远程服务器文件。 mode是打开文件的方式</p>
                  <blockquote>
                    <p>r，以只读模式打开文件 r+，除了读，还可以写入。 w， 以只写的方式打开，如果文件不存在，则创建这个文件,并写放内容，如果文件存在，并原来有内容，则会清除原文件中所有内容，再写入（打开已有的重要文件） w+，除了可以写用fwrite, 还可以读fread a，以只写的方式打开，如果文件不存在，则创建这个文件，并写放内容，如果文件存在，并原来有内容，则不清除原有文件内容，再原有文件内容的最后写入新内容，（追加） a+，除了可以写用fwrite, 还可以读fread b，以二进制模式打开文件（图，电影） t，以文本模式打开文件</p>
                  </blockquote>
                  <p>注意：</p>
                  <blockquote>
                    <p>r+具有读写属性，从文件头开始写，保留原文件中没有被覆盖的内容； w+具有读写属性，写的时候如果文件存在，会被清空，从头开始写。</p>
                  </blockquote>
                  <p>返回的是一个文件资源</p>
                  <h3 id="5-fwrite-file-content"><a href="#5-fwrite-file-content" class="headerlink" title="5.fwrite(file,content)"></a>5.fwrite(file,content)</h3>
                  <p>文件写入功能，file是文件资源，用fopen函数获取来的，content是写入内容。同 fputs 函数。 例如</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"> $file = fopen(<span class="string">"1.txt"</span>,<span class="string">"r+"</span>);</span></span><br><span class="line"><span class="php"> $result = fwrite($file,<span class="string">"xx"</span>);</span></span><br><span class="line"><span class="php"> <span class="keyword">if</span>($result)&#123;</span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> <span class="string">"Success"</span>;</span></span><br><span class="line"><span class="php"> &#125;<span class="keyword">else</span></span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> <span class="string">"Failed"</span>;</span></span><br><span class="line"><span class="php"> &#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>则从头开始写入资源，即把前两个字符设为 xx</p>
                  <h3 id="6-fread-file-size"><a href="#6-fread-file-size" class="headerlink" title="6. fread(file,size)"></a>6. fread(file,size)</h3>
                  <p>读取文件指定部分的长度，file是文件资源，由fopen返回的对象，size是读取字符的长度。 例如</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"> $file = fopen(<span class="string">"1.txt"</span>,<span class="string">"r"</span>);</span></span><br><span class="line"><span class="php"> $content = fread($file,filesize(<span class="string">"1.txt"</span>));</span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> $content;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>不过，上述的 filesize 方法只能获取本地文件大小，对于远程文件的读取就要换一种方法了。 例如</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"> $file = fopen(<span class="string">"http://www.qq.com"</span>,<span class="string">"r"</span>);</span></span><br><span class="line"><span class="php"> $str = <span class="string">""</span>;</span></span><br><span class="line"><span class="php"> <span class="keyword">while</span>(!feof($file))&#123;  <span class="comment">//判断时候到了文件结尾</span></span></span><br><span class="line"><span class="php"> $str.=fread($file,<span class="number">1024</span>);</span></span><br><span class="line"><span class="php"> &#125;</span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> $str;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="7-fgets-file"><a href="#7-fgets-file" class="headerlink" title="7.fgets(file)"></a>7.fgets(file)</h3>
                  <p>file是文件资源，每次读取一行。例如我们读取出腾讯首页一共有多少行。</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"> <span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"> $file = fopen(<span class="string">"http://www.qq.com"</span>,<span class="string">"r"</span>);</span></span><br><span class="line"><span class="php"> $str = <span class="string">""</span>;</span></span><br><span class="line"><span class="php"> $count = <span class="number">0</span>;</span></span><br><span class="line"><span class="php"> <span class="keyword">while</span>(!feof($file))&#123;</span></span><br><span class="line"><span class="php"> $str .= fgets($file);</span></span><br><span class="line"><span class="php"> $count ++;</span></span><br><span class="line"><span class="php"> &#125;</span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> $count;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>会输出结果 8893，我们可以查看源文件，看看它一共有多少行，验证一下即可。</p>
                  <h3 id="7-fgetc-file"><a href="#7-fgetc-file" class="headerlink" title="7.fgetc(file)"></a>7.fgetc(file)</h3>
                  <p>与fgets方法很相似，file是文件资源，每次读取个字符。例如我们读取出腾讯首页一共有多少个字符。</p>
                  <figure class="highlight xml">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"> $file = fopen(<span class="string">"http://www.qq.com"</span>,<span class="string">"r"</span>);</span></span><br><span class="line"><span class="php"> $str = <span class="string">""</span>;</span></span><br><span class="line"><span class="php"> $count = <span class="number">0</span>;</span></span><br><span class="line"><span class="php"> <span class="keyword">while</span>(!feof($file))&#123;</span></span><br><span class="line"><span class="php"> $str .= fgetc($file);</span></span><br><span class="line"><span class="php"> $count ++;</span></span><br><span class="line"><span class="php"> &#125;</span></span><br><span class="line"><span class="php"> <span class="keyword">echo</span> $count;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>上述代码便会输出所有的字符数量。</p>
                  <h3 id="8-ftell-file"><a href="#8-ftell-file" class="headerlink" title="8.ftell(file)"></a>8.ftell(file)</h3>
                  <p>ftell 是返回当前读文件的指针位置，file 是文件资源，是由 fopen 返回的对象。</p>
                  <h3 id="9-fseek-file-offset-whence"><a href="#9-fseek-file-offset-whence" class="headerlink" title="9.fseek(file,offset,whence)"></a>9.fseek(file,offset,whence)</h3>
                  <p><strong>file</strong> 文件系统指针，是典型地由 fopen() 创建的 resource(资源)。 <strong>offset</strong> 偏移量。 要移动到文件尾之前的位置，需要给 offset 传递一个负值，并设置 whence 为 SEEK_END。 <strong>whence</strong></p>
                  <blockquote>
                    <p>SEEK_SET - 设定位置等于 offset 字节。 SEEK_CUR - 设定位置为当前位置加上 offset。 SEEK_END - 设定位置为文件尾加上 offset。</p>
                  </blockquote>
                  <h3 id="10-rewind-file"><a href="#10-rewind-file" class="headerlink" title="10.rewind($file)"></a>10.rewind($file)</h3>
                  <p>回到文件头部，file是文件资源 例如</p>
                  <figure class="highlight gams">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;?php </span><br><span class="line"> <span class="symbol">$</span><span class="keyword">file</span> = fopen(<span class="string">"1.txt"</span>,<span class="string">"r"</span>);</span><br><span class="line"> echo ftell(<span class="symbol">$</span><span class="keyword">file</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出读取前的指针位置</span></span><br><span class="line"> echo fread(<span class="symbol">$</span><span class="keyword">file</span>,<span class="number">10</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//读取10个字符，指针移动10个单位</span></span><br><span class="line"> echo ftell(<span class="symbol">$</span><span class="keyword">file</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出读取完之后当前指针位置</span></span><br><span class="line"> fseek(<span class="symbol">$</span><span class="keyword">file</span>,<span class="number">20</span>,SEEK_CUR); <span class="comment">//当前指针前移20单位</span></span><br><span class="line"> echo ftell(<span class="symbol">$</span><span class="keyword">file</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出移动之后指针的位置</span></span><br><span class="line"> echo fread(<span class="symbol">$</span><span class="keyword">file</span>,<span class="number">10</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出读取的10个字符</span></span><br><span class="line"> echo ftell(<span class="symbol">$</span><span class="keyword">file</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出读完10个字符之后指针的位置</span></span><br><span class="line"> fseek(<span class="symbol">$</span><span class="keyword">file</span>,<span class="number">-20</span>,SEEK_END); <span class="comment">//指针移动到文件末尾前20个字符</span></span><br><span class="line"> echo ftell(<span class="symbol">$</span><span class="keyword">file</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出移动之后指针的位置</span></span><br><span class="line"> echo fread(<span class="symbol">$</span><span class="keyword">file</span>,<span class="number">10</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出文件末尾20个字符</span></span><br><span class="line"> echo ftell(<span class="symbol">$</span><span class="keyword">file</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出读完10个字符之后指针的位置</span></span><br><span class="line"> rewind(<span class="symbol">$</span><span class="keyword">file</span>); <span class="comment">//回到文件头部</span></span><br><span class="line"> echo ftell(<span class="symbol">$</span><span class="keyword">file</span>).<span class="string">"&lt;br&gt;"</span>; <span class="comment">//输出移动之后指针的位置</span></span><br><span class="line">?&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果：</p>
                  <blockquote>
                    <p>0 cuiqingcai 10 30 uiqingcai. 40 374 i.comcuiqi 384 0</p>
                  </blockquote>
                  <h3 id="11-flock-file-operation-wouldblock"><a href="#11-flock-file-operation-wouldblock" class="headerlink" title="11.flock(file,operation[,wouldblock])"></a>11.flock(file,operation[,wouldblock])</h3>
                  <p><strong>file</strong> 文件资源指针，是典型地由 fopen() 创建的 resource(资源)。 <strong>operation</strong> operation 可以是以下值之一：</p>
                  <blockquote>
                    <p>LOCK_SH取得共享锁定（读取的程序）。 LOCK_EX 取得独占锁定（写入的程序。 LOCK_UN 释放锁定（无论共享或独占）。</p>
                  </blockquote>
                  <p>如果不希望 flock() 在锁定时堵塞，则是 LOCK_NB（Windows 上还不支持）。 <strong>wouldblock</strong> 如果锁定会堵塞的话（EWOULDBLOCK 错误码情况下），可选的第三个参数会被设置为 TRUE。（Windows 上不支持） 例如</p>
                  <figure class="highlight gams">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;?php </span><br><span class="line"> <span class="symbol">$</span><span class="keyword">file</span> = fopen(<span class="string">"1.txt"</span>,<span class="string">"a"</span>);</span><br><span class="line"> <span class="keyword">if</span>(flock(<span class="symbol">$</span><span class="keyword">file</span>,LOCK_EX))&#123;</span><br><span class="line"> fwrite(<span class="symbol">$</span><span class="keyword">file</span>,<span class="string">"xxx"</span>);</span><br><span class="line"> flock(<span class="symbol">$</span><span class="keyword">file</span>,LOCK_UN);</span><br><span class="line"> &#125;</span><br><span class="line">?&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-03-03 23:54:39" itemprop="dateCreated datePublished" datetime="2015-03-03T23:54:39+08:00">2015-03-03</time>
                </span>
                <span id="/1229.html" class="post-meta-item leancloud_visitors" data-flag-title="PHP高级特性二之文件处理" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>7.2k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>7 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1186.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> PHP <i class="label-arrow"></i>
                  </a>
                  <a href="/1186.html" class="post-title-link" itemprop="url">PHP高级特性一之正则表达式用法</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>在PHP中，我们进行字符串处理时，能用字符串处理函数时我们当然要使用简单的字符串处理函数，但字符串处理函数的能力是有限的，所以我们就需要利用一个更强大的工具，那就是正则表达式。</p>
                  <h2 id="简述正则表达式"><a href="#简述正则表达式" class="headerlink" title="简述正则表达式"></a>简述正则表达式</h2>
                  <h3 id="正则表达式是什么？"><a href="#正则表达式是什么？" class="headerlink" title="正则表达式是什么？"></a>正则表达式是什么？</h3>
                  <blockquote>
                    <p>正则表达式就是描述字符串排列模式的一种自定义语法规则。正则表达式就是通过构建具有特定规则的模式，和输入字符串信息进行比较，然后进行分割、匹配、查找、替换等等的相关操作。正则表达式不是PHP中独有的，多种语言均可以使用正则表达式，在这里我们介绍正则在PHP中的用法。</p>
                  </blockquote>
                  <h3 id="使用场合"><a href="#使用场合" class="headerlink" title="使用场合"></a>使用场合</h3>
                  <blockquote>
                    <p>1. PHP中，如果可以用字符串处理函数完成的任务，我们就不要使用正则表达式。 2. 有一些复杂的操作，例如格式检验等等，只能用正则表达式完成。 3. 正则表达式也是一个字符串，但是它是具有特殊意义的字符串。 4. 它具有一些编写规则，也是一种模式，也可以把它看做一种编程语言。 5. 只有把正则表达式运用到某个函数中使用，才能发挥出正则表达式的作用，否则，它便是一个简单的字符串。</p>
                  </blockquote>
                  <h3 id="小例子"><a href="#小例子" class="headerlink" title="小例子"></a>小例子</h3>
                  <p>图片的匹配例子</p>
                  <figure class="highlight taggerscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">"/<span class="symbol">\&lt;</span>img<span class="symbol">\s</span>*src=<span class="symbol">\"</span>.*?<span class="symbol">\"</span><span class="symbol">\/</span><span class="symbol">\&gt;</span>/iu"</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>这就是匹配HTML中的一个图片标签，例如可以匹配</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&lt;img <span class="attribute">src</span>=<span class="string">"a.jpg"</span>/&gt;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="PHP中的正则表达式函数库"><a href="#PHP中的正则表达式函数库" class="headerlink" title="PHP中的正则表达式函数库"></a>PHP中的正则表达式函数库</h2>
                  <p>在PHP中，有两套正则表达式函数库。</p>
                  <blockquote>
                    <p>1.POSIX 扩展的正则表达式函数（ereg<em>）。 2.Perl 兼容的正则表达式函数（preg</em>）。</p>
                  </blockquote>
                  <p>Perl 兼容的函数库是后加的函数库，功能更加强大，另外JavaScript 和 Perl 语言里面也会兼容这种模式，所以推荐学习 Perl 语言兼容的函数库。 在学习时，我们就需要学习下面两点</p>
                  <blockquote>
                    <p>1. 正则表达式的语法 2. PHP中正则表达式的处理函数</p>
                  </blockquote>
                  <h2 id="正则表达式的语法"><a href="#正则表达式的语法" class="headerlink" title="正则表达式的语法"></a>正则表达式的语法</h2>
                  <p>任何正则表达式都是由定界符号、原子、元字符、模式修正符号四部分来组成的。下面我们以上面的例子依次来介绍这四部分内容。</p>
                  <figure class="highlight taggerscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">"/<span class="symbol">\&lt;</span>img<span class="symbol">\s</span>*src=<span class="symbol">\"</span>.*?<span class="symbol">\"</span><span class="symbol">\/</span><span class="symbol">\&gt;</span>/iu"</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="1-定界符号"><a href="#1-定界符号" class="headerlink" title="1. 定界符号"></a>1. 定界符号</h3>
                  <p>除了字母，数字和反斜杠 \ 以外的所有字符均可以为定界符。上面的例子中，开头和末尾的两个斜线 / 便作为定界符，我们还可以利用其它字符来定义，例如 | |，{ }，# #等等，不过我们一般是使用斜线 / 作为定界符。</p>
                  <h3 id="2-原子"><a href="#2-原子" class="headerlink" title="2. 原子"></a>2. 原子</h3>
                  <p>上面的例子中，img \s 均为原子。原子是正则表达式的最基本的组成单位，而且必须至少包含一个原子，正则表达式中可以单独使用的字符，就是原子。 使用时注意事项总结如下 <strong>1）原子包括所有打印字符和非打印字符，打印字符就是我们可以在屏幕上看到的字符例如abc等等，非打印字符就是我们看不到的字符，例如空格，回车等等。</strong> <strong>2）\. \* \+ \? \&lt; \( \&lt; \&gt;，所有有意义的字符，如果想作为原子使用，必须统统使用 \ 转义字符转义。</strong> <strong>3）转义字符 \ 可以将有意义的字符转为有意义的字符，例如 <em> 是元字符，代表匹配一个字符零到多次，但是 \</em> 就代表了 * 这个字符。</strong> <strong>4）另外转义字符还可以将没有意义的字符转成有意义的字符，例如 \d 可以表示任意一个十进制数字。总结如下：</strong></p>
                  <blockquote>
                    <p>\d：表示任意一个十进制的数字。 \D：表示任意一个除数字以外的字符。 \s：表示任意一个空白字符，如空格、回车、\t、\n \S：表示任意一个非空白 \w：表示任意一个字，包括 a-z，A-Z，0-9，下划线_ \W：表示任意一个非字，\w 之外的任意一个字符</p>
                  </blockquote>
                  <p><strong>5）自定义原子表，定义一个中括号，表示匹配中括号中的任何一个内容，注意是任何一个。例如</strong></p>
                  <blockquote>
                    <p>正则表达式 “/[123]/“ 和字符串 “abc2”可以匹配成功。 正则表达式 “/[a-z]/“ 和字符串 “x3”可以匹配成功。 正则表达式 “/[1-3a-z]/“ 和字符串 “x”可以匹配成功。</p>
                  </blockquote>
                  <p><strong>在这里<sup><a href="#fn_" id="reffn_"></a></sup>中括号里面写入^代表取反，表示除了原子表中的原子，但是^必须写在[]的第一个字符上。例如</strong></p>
                  <blockquote>
                    <p><sup><a href="#fn_a-z" id="reffn_a-z">a-z</a></sup>代表除了a-z的所有字符 <sup><a href="#fn_\\n\\t" id="reffn_\\n\\t">\\n\\t</a></sup>代表除了换行和制表的所有字符</p>
                  </blockquote>
                  <h3 id="3-元字符"><a href="#3-元字符" class="headerlink" title="3. 元字符"></a>3. 元字符</h3>
                  <p>上面的例子中，<em> ？均为元字符。元字符就是用来修饰原子的字符，不可以单独出现。 例如 </em> 代表匹配前面的原子零到多次，但如果想匹配 <em>，则必须要加转义号 \</em> 来表示 ，特殊地，. 点也可以表示原子 元字符总结分类如下 <strong>1）* 表示其前面的原子可以出现 0 至多次</strong> <strong>2）+ 表示前面的原子可以出现 1 至多次，即至少一个原子</strong> <strong>3）？ 表示前面的原子可以出现 0 次或 1 次</strong> <strong>4）{ } 用于自己定义前面原子出现的次数，另外分为以下几种</strong></p>
                  <blockquote>
                    <p>{m}，m表示一个整数，则前面的数字必须出现m次 {m，n}，m，n表示两个整数，m&lt;n，表示前面出现的原子最少出现 m 次，最多出现 n 次。 {m,} m表示一个整数，表示最少出现 m 次，最多无限 所以 * 可以表示为 {0,}，+ 可以表示为{1,}，? 表示为 {0,1}</p>
                  </blockquote>
                  <p><strong>5）. 默认情况下，表示除换行符外任意一个字符，和 * 组合表示可以匹配任意字符串，和 + 组合表示至少一个字符串</strong> <strong>6）^ 直接在一个正则表达式的第一个字符出现，表示字符串必须以这个正则表达式开始，例如</strong></p>
                  <blockquote>
                    <p>^okay，表示字符串必须以 okay 开头</p>
                  </blockquote>
                  <p><strong>7）$ 直接在一个正则表达式的最后一个字符出现，则表示字符串必须以这个正则表达式结尾，例如</strong></p>
                  <blockquote>
                    <p>okay$，表示字符串必须以 okay 结尾。 注意：^okay$只是匹配一个okay字符，若要匹配 okay 开头okay结尾，则正则表达式可以写为 ^okay.*okay$</p>
                  </blockquote>
                  <p><strong>8）| 表示或的关系，它的优先级是最低的，最后考虑它的功能</strong> <strong>9）\b 表示一个边界，例如</strong></p>
                  <blockquote>
                    <p>字符串 this is island，那么 \bis\b 则可以匹配，它匹配的是中间的 is，is两边是有边界的。</p>
                  </blockquote>
                  <p><strong>10）\B 表示一个非边界，例如</strong></p>
                  <blockquote>
                    <p>\Bis\b，则匹配第一个is，\bis\B则匹配第三个 is</p>
                  </blockquote>
                  <p><strong>11）（） 括号，重点，作用总结如下</strong></p>
                  <blockquote>
                    <p><strong>（1）将括号里面的元素作为一个大原子使用</strong> 即作为一个整体使用，例如 (abc)+，可以匹配abcabc…. <strong>（2）改变优先级</strong> 加上括号可以提高其优先级别。 <strong>（3）作为子模式使用</strong> 正则表达式中添加括号相当于添加了子模式。全部匹配作为一个大模式，放到数组的第一个元素中，每个()是一个子模式按顺序放到数组的其它元素中去。 在下面所说的 preg_match 方法中，结果会被赋值到 $arr 变量中，先匹配外层模式，再匹配内层模式。</p>
                    <figure class="highlight tex">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="formula">$pattern="/(<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>(<span class="tag">\<span class="name">W</span></span>)<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span><span class="tag">\<span class="name">W</span></span><span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span>)<span class="tag">\<span class="name">s</span></span>+(<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span>(<span class="tag">\<span class="name">W</span></span>)<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span><span class="tag">\<span class="name">W</span></span><span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span>)<span class="tag">\<span class="name">s</span></span>+(?:am|pm)/"; //正则表达式模式</span></span><br><span class="line"><span class="formula">$</span>string="today is 2010/09/15 15:35:28 pm..."; //需要和上面模式字符串进行匹配的变量字符串</span><br><span class="line">if(preg_match(<span class="formula">$pattern, $</span>string, <span class="formula">$arr))&#123;</span></span><br><span class="line"><span class="formula">print_r($</span>arr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>结果</p>
                    <figure class="highlight angelscript">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="number">2010</span>/<span class="number">09</span>/<span class="number">15</span> <span class="number">15</span>:<span class="number">35</span>:<span class="number">28</span> pm</span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="number">2010</span>/<span class="number">09</span>/<span class="number">15</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; /</span><br><span class="line">    [<span class="number">3</span>] =&gt; <span class="number">15</span>:<span class="number">35</span>:<span class="number">28</span></span><br><span class="line">    [<span class="number">4</span>] =&gt; :</span><br><span class="line">)</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p><strong>（4）取消子模式</strong> 就将它作为大原子或者改变优先级使用。 只要在模式前面加一个 ?: 就可以取消子模式，例如</p>
                    <figure class="highlight coq">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">(?:am|<span class="type">pm</span>) //即不把（am|<span class="type">pm</span>）作为一个子模式，直接将 am|<span class="type">pm</span> 看做一个整体来使用。</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p><strong>（5）反向引用</strong> 可以在模式中直接将子模式取出来，再作为正则表达式模式的一部分， 如果是在正则表达式像替换函数preg_replace函数中， 可以将子模式取出， 在被替换的字符串中使用 \1 取第一个子模式、 \2取第二个子模式， …. \5 (注意是单引号还是双引号引起来的正则) “\\1” 在双引号引起来的正则，它是可以解释转义字符的，所以 \1 必须要写成 \\1 ‘\1’ 在单引号引起来的正则中，则不会出现这种情况，\1 仍然可以写成 \1 例如</p>
                    <figure class="highlight tex">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="formula">$pattern="/<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>(<span class="tag">\<span class="name">W</span></span>)<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span><span class="tag">\<span class="name">\</span></span>1<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span><span class="tag">\<span class="name">s</span></span>+<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span>(<span class="tag">\<span class="name">W</span></span>)<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span><span class="tag">\<span class="name">\</span></span>2<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span><span class="tag">\<span class="name">s</span></span>+(?:am|pm)/"; //正则表达式模式</span></span><br><span class="line"><span class="formula">$</span>string="today is 2010/09/15 15:35:28 pm..."; //需要和上面模式字符串进行匹配的变量字符串</span><br><span class="line">if(preg_match(<span class="formula">$pattern, $</span>string, <span class="formula">$arr))&#123;</span></span><br><span class="line"><span class="formula"> echo "正则表达式 &lt;b&gt;&#123;$</span>pattern&#125; &lt;/b&gt;和字符串 &lt;b&gt;&#123;<span class="formula">$string&#125;&lt;/b&gt; 匹配成功&lt;br&gt;";</span></span><br><span class="line"><span class="formula"> print_r($</span>arr);</span><br><span class="line"> echo '&lt;/pre&gt;';</span><br><span class="line"> &#125;</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>在上面的例子中，因为(\W)已经匹配了第一个斜杠/，它已经作为第一个子模式保存起来了，我们想继续使用这个匹配，我们就可以用 \\1 来表示，如果是单引号引起来的正则，则直接用 \1 来表示就可以了，后面的 \\2 和它是同样的原理。</p>
                  </blockquote>
                  <h3 id="4-模式修正符号"><a href="#4-模式修正符号" class="headerlink" title="4. 模式修正符号"></a>4. 模式修正符号</h3>
                  <p>上面的例子中，最后 / 后面的 i u 即为模式修正符号。</p>
                  <blockquote>
                    <p><strong>1）就是几个字母</strong> <strong>2）可以一次使用一个，每一个都具有一定的意义，也可以连续使用多个符号</strong> <strong>3）放在最后面，是对整个正则表达式调优用的，也可以说是对正则表达式功能的扩展。</strong> 归类如下： <strong>i</strong>：表示在和模式进行匹配时不区分大小写 <strong>m</strong>：将每一行字符视为新的一行，也就是换行符后任何一行都可以当做一个整体字符串，主要的影响就在于 ^ 号和 $ 号。 例如：</p>
                    <figure class="highlight lasso">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">$pattern = <span class="string">'/^abc/m'</span></span><br><span class="line">$string =<span class="string">'cde</span></span><br><span class="line"><span class="string"> abcd</span></span><br><span class="line"><span class="string"> efg'</span></span><br><span class="line"><span class="comment">//可以匹配成功，因为加入m之后，第二行的abcd也当做一行了，也算是以abc开头</span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p> <strong>s</strong>：如果没有使用这个模式修正符号，那么 “.” 是不能当做换行符的，加入s，将字符串视为单行，那么 “.” 也就可以表示换行符了。 <strong>x</strong>：模式中的空白忽略不计，注意是模式中的。</p>
                    <figure class="highlight arcade">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="symbol">$patter</span>n = <span class="string">'/a b c/x'</span></span><br><span class="line"><span class="symbol">$stri</span>ng =<span class="string">'abc'</span></span><br><span class="line"><span class="comment">//可以匹配成功，因为加入x之后，a b c直接当做abc来看</span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p><strong>e</strong>：正则表达式必须使用在 preg_replace 函数中使用 <strong>A</strong>：必须以正则表达式开头，也就相当于前面加了 ^ <strong>Z</strong>：必须以正则表达式结尾，相当于后面加了 $ <strong>U</strong>：取消贪婪模式，或者 .*? 也可以取消贪婪模式，不过两个同时使用时会导致相反的结果，相当于负负得正的影响，同时出现则会又开启了贪婪模式 。</p>
                  </blockquote>
                  <p>综上所述，正则表达式的组成为 /原子和元字符/模式修正符号，其中 / 为定界符号，不过有一些语言是不需要这个定界符的，例如 Python 等。</p>
                  <h3 id="5-元字符的优先级（了解）"><a href="#5-元字符的优先级（了解）" class="headerlink" title="5.元字符的优先级（了解）"></a>5.元字符的优先级（了解）</h3>
                  <p>1）\ 转义符最高 2）()，(?:)，{ }，括号其次 3）* + ？ {} 4）^ $ \b 5）|</p>
                  <h3 id="6-常用的正则表达式"><a href="#6-常用的正则表达式" class="headerlink" title="6.常用的正则表达式"></a>6.常用的正则表达式</h3>
                  <p><strong>1）校验数字的表达式</strong></p>
                  <blockquote>
                    <p>1 数字：^[0-9]<em>$ 2 n位的数字：^\d{n}$ 3 至少n位的数字：^\d{n,}$ 4 m-n位的数字：^\d{m,n}$ 5 零和非零开头的数字：^(0|[1-9][0-9]</em>)$ 6 非零开头的最多带两位小数的数字：^([1-9][0-9]<em>)+(.[0-9]{1,2})?$ 7 带1-2位小数的正数或负数：^(\-)?\d+(\.\d{1,2})?$ 8 正数、负数、和小数：^(\-|\+)?\d+(\.\d+)?$ 9 有两位小数的正实数：^[0-9]+(.[0-9]{2})?$ 10 有1~3位小数的正实数：^[0-9]+(.[0-9]{1,3})?$ 11 非零的正整数：^[1-9]\d</em>$ 或 ^([1-9][0-9]<em>){1,3}$ 或 ^\+?[1-9][0-9]</em>$ 12 非零的负整数：^\-[1-9][]0-9”<em>$ 或 ^-[1-9]\d</em>$ 13 非负整数：^\d+$ 或 ^[1-9]\d<em>|0$ 14 非正整数：^-[1-9]\d</em>|0$ 或 ^((-\d+)|(0+))$ 15 非负浮点数：^\d+(\.\d+)?$ 或 ^[1-9]\d<em>\.\d</em>|0\.\d<em>[1-9]\d</em>|0?\.0+|0$ 16 非正浮点数：^((-\d+(\.\d+)?)|(0+(\.0+)?))$ 或 ^(-([1-9]\d<em>\.\d</em>|0\.\d<em>[1-9]\d</em>))|0?\.0+|0$ 17 正浮点数：^[1-9]\d<em>\.\d</em>|0\.\d<em>[1-9]\d</em>$ 或 ^(([0-9]+\.[0-9]<em>[1-9][0-9]</em>)|([0-9]<em>[1-9][0-9]</em>\.[0-9]+)|([0-9]<em>[1-9][0-9]</em>))$ 18 负浮点数：^-([1-9]\d<em>\.\d</em>|0\.\d<em>[1-9]\d</em>)$ 或 ^(-(([0-9]+\.[0-9]<em>[1-9][0-9]</em>)|([0-9]<em>[1-9][0-9]</em>\.[0-9]+)|([0-9]<em>[1-9][0-9]</em>)))$ 19 浮点数：^(-?\d+)(\.\d+)?$ 或 ^-?([1-9]\d<em>\.\d</em>|0\.\d<em>[1-9]\d</em>|0?\.0+|0)$</p>
                  </blockquote>
                  <p><strong>2）校验字符的表达式</strong></p>
                  <blockquote>
                    <p>1 汉字：^[\u4e00-\u9fa5]{0,}$ 2 英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$ 3 长度为3-20的所有字符：^.{3,20}$ 4 由26个英文字母组成的字符串：^[A-Za-z]+$ 5 由26个大写英文字母组成的字符串：^[A-Z]+$ 6 由26个小写英文字母组成的字符串：^[a-z]+$ 7 由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$ 8 由数字、26个英文字母或者下划线组成的字符串：^\w+$ 或 ^\w{3,20}$ 9 中文、英文、数字包括下划线：^[\u4E00-\u9FA5A-Za-z0-9_]+$ 10 中文、英文、数字但不包括下划线等符号：^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$ 11 可以输入含有^%&amp;’,;=?$\“等字符：<sup><a href="#fn_%&',;=?$\\x22" id="reffn_%&',;=?$\\x22">%&',;=?$\\x22</a></sup>+ 12 禁止输入含有~的字符：<sup><a href="#fn_~\\x22" id="reffn_~\\x22">~\\x22</a></sup>+</p>
                  </blockquote>
                  <p><strong>3）特殊需求表达式</strong></p>
                  <blockquote>
                    <p>1 Email地址：^\w+([-+.]\w+)<em>@\w+([-.]\w+)</em>\.\w+([-.]\w+)<em>$ 2 域名：[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.? 3 InternetURL：[a-zA-z]+://<sup><a href="#fn_\\s" id="reffn_\\s">\\s</a></sup></em> 或 ^<a href="http://([\\w-]+\\.)+[\\w-]+(/[\\w-./?%&amp;=]*)?$">http://([\\w-]+\\.)+[\\w-]+(/[\\w-./?%&amp;=]*)?$</a> 4 手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$ 5 电话号码(“XXX-XXXXXXX”、”XXXX-XXXXXXXX”、”XXX-XXXXXXX”、”XXX-XXXXXXXX”、”XXXXXXX”和”XXXXXXXX)：^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$ 6 国内电话号码(0511-4405222、021-87888822)：\d{3}-\d{8}|\d{4}-\d{7} 7 身份证号(15位、18位数字)：^\d{15}|\d{18}$ 8 短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$ 9 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 10 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$ 11 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.<em>\d)(?=.</em>[a-z])(?=.<em>[A-Z]).{8,10}$ 12 日期格式：^\d{4}-\d{1,2}-\d{1,2} 13 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$ 14 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$ 15 钱的输入格式： 16 1.有四种钱的表示形式我们可以接受:”10000.00” 和 “10,000.00”, 和没有 “分” 的 “10000” 和 “10,000”：^[1-9][0-9]</em>$ 17 2.这表示任意一个不以0开头的数字,但是,这也意味着一个字符”0”不通过,所以我们采用下面的形式：^(0|[1-9][0-9]<em>)$ 18 3.一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]</em>)$ 19 4.这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$ 20 5.必须说明的是,小数点后面至少应该有1位数,所以”10.”是不通过的,但是 “10” 和 “10.2” 是通过的：^[0-9]+(.[0-9]{2})?$ 21 6.这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]{1,2})?$ 22 7.这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]{1,3}(,[0-9]{3})<em>(.[0-9]{1,2})?$ 23 8.1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})</em>)(.[0-9]{1,2})?$ 24 备注：这就是最终结果了,别忘了”+”可以用”<em>“替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里 25 xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$ 26 中文字符的正则表达式：[\u4e00-\u9fa5] 27 双字节字符：<sup><a href="#fn_\\x00-\\xff" id="reffn_\\x00-\\xff">\\x00-\\xff</a></sup> (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1)) 28 空白行的正则表达式：\n\s</em>\r (可以用来删除空白行) 29 HTML标记的正则表达式：&lt;(\S<em>?)<sup><a href="#fn_>" id="reffn_>">></a></sup></em>&gt;.<em>?&lt;/\1&gt;|&lt;.</em>? /&gt; (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力) 30 首尾空白字符的正则表达式：^\s<em>|\s</em>$或(^\s<em>)|(\s</em>$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式) 31 腾讯QQ号：[1-9][0-9]{4,} (腾讯QQ号从10000开始) 32 中国邮政编码：[1-9]\d{5}(?!\d) (中国邮政编码为6位数字) 33 IP地址：\d+\.\d+\.\d+\.\d+ (提取IP地址时有用)</p>
                  </blockquote>
                  <h2 id="PHP正则表达式处理函数"><a href="#PHP正则表达式处理函数" class="headerlink" title="PHP正则表达式处理函数"></a>PHP正则表达式处理函数</h2>
                  <h3 id="1-int-preg-match-string-pattern-string-subject-array-matches-int-flags"><a href="#1-int-preg-match-string-pattern-string-subject-array-matches-int-flags" class="headerlink" title="1. int preg_match ( string pattern, string subject [, array matches [, int flags]] )"></a>1. int preg_match ( string pattern, string subject [, array matches [, int flags]] )</h3>
                  <p>用法：</p>
                  <blockquote>
                    <p>1）在 subject 字符串中搜索与 pattern 给出的正则表达式相匹配的内容。 2）如果提供了 matches，则其会被搜索的结果所填充。$matches[0] 将包含与整个模式匹配的文本，$matches[1] 将包含与第一个捕获的括号中的子模式所匹配的文本，以此类推。 3）flags 参数自 PHP 4.3.0 起可用，flags 可以是下列标记： PREG_OFFSET_CAPTURE 如果设定本标记，对每个出现的匹配结果也同时返回其附属的字符串偏移量。注意这改变了返回的数组的值，使其中的每个单元也是一个数组，其中第一项为匹配字符串，第二项为其偏移量。</p>
                  </blockquote>
                  <p>例如下面的例子，匹配一个URL</p>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="variable">$str</span>=<span class="string">"这是一个正则表https://www.baidu.com达式的匹配函数"</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$url</span>=<span class="string">"/(https?|ftps?):\/\/((www|mail|news)\.([^\.\/]+)\.(com|org|net))/i"</span>;</span><br><span class="line"><span class="keyword">if</span>(preg_match(<span class="variable">$url</span>, <span class="variable">$str</span>, <span class="variable">$arr</span>))&#123;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"字符串中有正确的URL信息&lt;br&gt;"</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'&lt;pre&gt;'</span>;</span><br><span class="line">print_r(<span class="variable">$arr</span>);</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'&lt;/pre&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"主机："</span>.<span class="variable">$arr</span>[2].<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"字符串中不包括URL"</span>;</span><br><span class="line">&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="2-int-preg-match-all-string-pattern-string-subject-array-matches-int-flags"><a href="#2-int-preg-match-all-string-pattern-string-subject-array-matches-int-flags" class="headerlink" title="2. int preg_match_all ( string pattern, string subject [, array matches [, int flags]] )"></a>2. int preg_match_all ( string pattern, string subject [, array matches [, int flags]] )</h3>
                  <p>与 preg_match_all 用法完全一致，不过它匹配的是所有的信息。 例如下面的例子，匹配的是所有符合正则表达式的内容</p>
                  <figure class="highlight stata">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="variable">$str</span>="这是一个正则表https:<span class="comment">//www.baidu.com达式的匹配函数</span></span><br><span class="line">这是一个正则表http:<span class="comment">//www.baidu1.com达式的匹配函数</span></span><br><span class="line">这是一个正则表https:<span class="comment">//mail.baidu2.com达式的匹配函数</span></span><br><span class="line">这是一个正则表https:<span class="comment">//news.baidu3.com达式的匹配函数</span></span><br><span class="line">这是一个正则表https:<span class="comment">//www.baidu4.org达式的匹配函数</span></span><br><span class="line">这是一个正则表https:<span class="comment">//www.baidu5.net达式的匹配函数</span></span><br><span class="line">这是一个正则表ftps:<span class="comment">//www.baidu6.com达式的匹配函数</span></span><br><span class="line">这是一个正则表ftp:<span class="comment">//www.google7.com达式的匹配函数</span></span><br><span class="line">这是一个正则表https:<span class="comment">//www.baidu7.net达式的匹配函数</span></span><br><span class="line">";</span><br><span class="line"><span class="variable">$url</span>=<span class="string">"/(https?|ftps?):\/\/((www|mail|news)\.([^\.\/]+)\.(com|org|net))/i"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(preg_match_all(<span class="variable">$url</span>, <span class="variable">$str</span>, <span class="variable">$arr</span>))&#123;</span><br><span class="line">echo <span class="string">"字符串中有正确的URL信息&lt;br&gt;"</span>;</span><br><span class="line">echo '&lt;pre&gt;';</span><br><span class="line">print_r(<span class="variable">$arr</span>);</span><br><span class="line">echo '&lt;/pre&gt;';</span><br><span class="line"></span><br><span class="line">echo <span class="string">"主机："</span>.<span class="variable">$arr</span>[2].<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">echo <span class="string">"字符串中不包括URL"</span>;</span><br><span class="line">&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>上面的输出结果 $arr 的结果没有将一次次匹配的结果分开，也就是所有的子模式都写入一个数组中，没有将结果分成单独的一个数组。 结果中 第零个数组包含了所有的全模式，第一个数组包含了所有的第一个子模式。 可以通过修改上面的代码，实现结果的分开显示。</p>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">if</span>(preg_match_all(<span class="variable">$url</span>, <span class="variable">$str</span>, <span class="variable">$arr</span>,PREG_SET_ORDER))&#123;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"字符串中有正确的URL信息&lt;br&gt;"</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'&lt;pre&gt;'</span>;</span><br><span class="line">print_r(<span class="variable">$arr</span>);</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'&lt;/pre&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"主机："</span>.<span class="variable">$arr</span>[2].<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"字符串中不包括URL"</span>;</span><br><span class="line">&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>在上面的 preg_match_all 方法中，第四个参数传入 PREG_SET_ORDER，即可实现每一个全模式和子模式的分开展示。 其实，默认模式的参数即为 PREG_PATTERN_ORDER，传入该参数即相当于不传入参数。</p>
                  <h3 id="3-mixed-preg-replace-mixed-pattern-mixed-replacement-mixed-subject-int-limit"><a href="#3-mixed-preg-replace-mixed-pattern-mixed-replacement-mixed-subject-int-limit" class="headerlink" title="3.mixed preg_replace(mixed pattern,mixed replacement,mixed subject [,int limit])"></a>3.mixed preg_replace(mixed pattern,mixed replacement,mixed subject [,int limit])</h3>
                  <p>替换函数，pattern是正则表达式，replacement是替换成的内容，也就是把匹配到符合正则表达式的内容替换为 replacement，subject是查找的字符串，即替换的是这个字符串里面的内容。</p>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="variable">$str</span>=<span class="string">" 字符串中php的替换函数，系统提供的 字符串中的替换函数，系统提供的 字符串中的替换函数，系统提供的 字符串中的替换函数，系统提供的 字lamp符串中的替换函数，系统php提供的 字符串中的替换函数"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span>.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> preg_replace(<span class="string">"/[a-zA-z]+/"</span>,<span class="string">''</span>,<span class="variable">$str</span>);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>执行该程序就会将str字符串中的字母替换为空。 另外，可以指定替换的次数，也就是第四个参数</p>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="variable">$str</span>=<span class="string">" 字符串中php的替换函数，系统提供的 字符串中的替换函数，系统提供的 字符串中的替换函数，系统提供的 字符串中的替换函数，系统提供的 字lamp符串中的替换函数，系统php提供的 字符串中的替换函数"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span>.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> preg_replace(<span class="string">"/[a-zA-z]+/"</span>,<span class="string">''</span>,<span class="variable">$str</span>,3);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>这样，就可以实现只替换三次。 另外，可以实现多对多数组的替换，这是一个比较常用的方法，例如</p>
                  <figure class="highlight markdown">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">$str=" 字符串中php的替换函数，系统提供的 字符串中的替换函数，系统提供的 字符串中的替换函数，系统提供的 字符串中的替换函数，系统提供的 字lamp符串中的替换函数，[b]系统php提供的 字符串中[/b]的替换函数，系统提供php的 字符串中的替换函数，系统提供的 字符串中的替换函数，系统提供的 字符<span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>apache<span class="xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span>串中的替换函数，系统提供的 [u]mysql字符串中的替换函[/u]数，系统Apache提供的 字符串中的MySQL替换函数，系php统提供的 [i]字符串中的替换函数[/i]，系统提供的[size=7] 字符串中的php替换[/size]函数，系统提供的[color=Magenta] 字linux符串中的替[/color]换mysql函数，系统提供的php 字符串中的替换函数，系统提供的 字符串中的替换函数，系统php提供的 字符串中的替换函数，系统提供的 字[align=center]符串[b]系统php提供的 字符串中[/b]中的替换函数[/align]，系[b]系统php提供的 字符串中[/b]统提php供的 字符串中的替换函数，系统提供的";</span><br><span class="line"></span><br><span class="line">echo $str."<span class="xml"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span>";</span><br><span class="line"></span><br><span class="line">$ubbcodes=array(</span><br><span class="line">'/[<span class="string">b</span>](<span class="link">.*?</span>)[<span class="string">\/b</span>]/i',</span><br><span class="line">'/[<span class="string">u</span>](<span class="link">.*?</span>)[<span class="string">\/u</span>]/i',</span><br><span class="line">'/[<span class="string">i</span>](<span class="link">.*?</span>)[<span class="string">\/i</span>]/i',</span><br><span class="line">'/[<span class="string">color=(.*?)</span>](<span class="link">.*?</span>)[<span class="string">\/color</span>]/',</span><br><span class="line">'/[<span class="string">size=(.*?)</span>](<span class="link">.*?</span>)[<span class="string">\/size</span>]/',</span><br><span class="line">'/[<span class="string">align=(.*?)</span>](<span class="link">.*?</span>)[<span class="string">\/align</span>]/'</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">$htmls=array(</span><br><span class="line">'<span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>\1<span class="xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span>',</span><br><span class="line">'<span class="xml"><span class="tag">&lt;<span class="name">u</span>&gt;</span></span>\1<span class="xml"><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span>',</span><br><span class="line">'<span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span></span>\1<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span>',</span><br><span class="line">'<span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"\1"</span>&gt;</span></span>\2<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span>',</span><br><span class="line">'<span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">"\1"</span>&gt;</span></span>\2<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span>',</span><br><span class="line">'<span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">"\1"</span>&gt;</span></span>\2<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>'</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">echo preg_replace($ubbcodes,$htmls,$str);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>上面就可以实现中括号标签转化为HTML标签。 好，关于正则表达式函数，掌握这三个就基本够用了，其他的还有正则表达式分割函数，直接用PHP里面的字符串分割即可，不在此叙述了。</p>
                  <h2 id="本篇总结"><a href="#本篇总结" class="headerlink" title="本篇总结"></a>本篇总结</h2>
                  <p><strong>本篇介绍了正则表达式的相关语法以及在PHP中的正则表达式匹配函数，以上所有便是PHP正则表达式的相关内容，希望对大家有帮助~</strong></p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-02-28 19:00:28" itemprop="dateCreated datePublished" datetime="2015-02-28T19:00:28+08:00">2015-02-28</time>
                </span>
                <span id="/1186.html" class="post-meta-item leancloud_visitors" data-flag-title="PHP高级特性一之正则表达式用法" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>11k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>10 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/1076.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Python <i class="label-arrow"></i>
                  </a>
                  <a href="/1076.html" class="post-title-link" itemprop="url">Python爬虫实战五之模拟登录淘宝并获取所有订单</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>经过多次尝试，模拟登录淘宝终于成功了，实在是不容易，淘宝的登录加密和验证太复杂了，煞费苦心，在此写出来和大家一起分享，希望大家支持。</p>
                  <h2 id="温馨提示"><a href="#温馨提示" class="headerlink" title="温馨提示"></a>温馨提示</h2>
                  <p>更新时间，2016-02-01，现在淘宝换成了滑块验证了，比较难解决这个问题，以下的代码没法用了，仅作学习参考研究之用吧。</p>
                  <h2 id="本篇内容"><a href="#本篇内容" class="headerlink" title="本篇内容"></a>本篇内容</h2>
                  <p>1. python模拟登录淘宝网页 2. 获取登录用户的所有订单详情 3. 学会应对出现验证码的情况 4. 体会一下复杂的模拟登录机制</p>
                  <h2 id="探索部分成果"><a href="#探索部分成果" class="headerlink" title="探索部分成果"></a>探索部分成果</h2>
                  <p>1. 淘宝的密码用了AES加密算法，最终将密码转化为256位，在POST时，传输的是256位长度的密码。 2. 淘宝在登录时必须要输入验证码，在经过几次尝试失败后最终获取了验证码图片让用户手动输入来验证。 3. 淘宝另外有复杂且每天在变的 ua 加密算法，在程序中我们需要提前获取某一 ua 码才可进行模拟登录。 4. 在获取最后的登录 st 码时，历经了多次请求和正则表达式提取，且 st 码只可使用一次。</p>
                  <h2 id="整体思路梳理"><a href="#整体思路梳理" class="headerlink" title="整体思路梳理"></a>整体思路梳理</h2>
                  <p>1. 手动到浏览器获取 ua 码以及 加密后的密码，只获取一次即可，一劳永逸。 2. 向登录界面发送登录请求，POST 一系列参数，包括 ua 码以及密码等等，获得响应，提取验证码图像。 3. 用户输入手动验证码，重新加入验证码数据再次用 POST 方式发出请求，获得响应，提取 J_Htoken。 4. 利用 J_Htoken 向 alipay 发出请求，获得响应，提取 st 码。 5. 利用 st 码和用户名，重新发出登录请求，获得响应，提取重定向网址，存储 cookie。 6. 利用 cookie 向其他个人页面如订单页面发出请求，获得响应，提取订单详情。 是不是没看懂？没事，下面我将一点点说明自己模拟登录的过程，希望大家可以理解。</p>
                  <h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2>
                  <p>由于淘宝的 ua 算法和 aes 密码加密算法太复杂了，ua 算法在淘宝每天都是在变化的，不过，这个内容你获取之后一直用即可，经过测试之后没有问题，一劳永逸。 那么 ua 和 aes 密码怎样获取呢？ 我们就从浏览器里面直接获取吧，打开浏览器，找到淘宝的登录界面，按 F12 或者浏览器右键审查元素。 在这里我用的是火狐浏览器，首先记得在浏览器中设置一下显示持续日志，要不然页面跳转了你就看不到之前抓取的信息了。在这里截图如下： <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/20150225013600.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/20150225013600.jpg" alt="20150225013600"></a> 好，那么接下来我们就从浏览器中获取 ua 和 aes 密码 点击网络选项卡，这时都是空的，什么数据也没有截取。这时你就在网页上登录一下试试吧，输入用户名啊，密码啊，有必要时需要输入验证码，点击登录。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225014124.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225014124.jpg" alt="QQ截图20150225014124"></a> 等跳转成功后，你就可以看到好多日志记录了，点击图中的那一行 login.taobo.com，然后查看参数，你就会发现表单数据了，其中就包括 ua 还有下面的 password2，把这俩复制下来，我们之后要用到的。这就是我们需要的 ua 还有 aes 加密后的密码。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225014019.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225014019.jpg" alt="QQ截图20150225014019"></a> 恩，读到这里，你应该获取到了属于自己的 ua 和 password2 两个内容。</p>
                  <h2 id="输入验证码并获取J-HToken"><a href="#输入验证码并获取J-HToken" class="headerlink" title="输入验证码并获取J_HToken"></a>输入验证码并获取J_HToken</h2>
                  <p>经过博主本人亲自验证，有时候，在模拟登录时你并不需要输入验证码，它直接返回的结果就是前面所说的下一步用到的 J_Token，而有时候你则会需要输入验证码，等你手动输入验证码之后，重新请求登录一次。 博主是边写程序边更新文章的，现在写完了是否有必要输入验证码的检验以及在浏览器中呈现验证码。 代码如下</p>
                  <figure class="highlight python">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">__author__ = <span class="string">'CQC'</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> cookielib</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"></span><br><span class="line"><span class="comment">#模拟登录淘宝类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Taobao</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#初始化方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#登录的URL</span></span><br><span class="line">        self.loginURL = <span class="string">"https://login.taobao.com/member/login.jhtml"</span></span><br><span class="line">        <span class="comment">#代理IP地址，防止自己的IP被封禁</span></span><br><span class="line">        self.proxyURL = <span class="string">'http://120.193.146.97:843'</span></span><br><span class="line">        <span class="comment">#登录POST数据时发送的头部信息</span></span><br><span class="line">        self.loginHeaders =  &#123;</span><br><span class="line">            <span class="string">'Host'</span>:<span class="string">'login.taobao.com'</span>,</span><br><span class="line">            <span class="string">'User-Agent'</span> : <span class="string">'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0'</span>,</span><br><span class="line">            <span class="string">'Referer'</span> : <span class="string">'https://login.taobao.com/member/login.jhtml'</span>,</span><br><span class="line">            <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span>,</span><br><span class="line">            <span class="string">'Connection'</span> : <span class="string">'Keep-Alive'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#用户名</span></span><br><span class="line">        self.username = <span class="string">'cqcre'</span></span><br><span class="line">        <span class="comment">#ua字符串，经过淘宝ua算法计算得出，包含了时间戳,浏览器,屏幕分辨率,随机数,鼠标移动,鼠标点击,其实还有键盘输入记录,鼠标移动的记录、点击的记录等等的信息</span></span><br><span class="line">        self.ua = <span class="string">'191UW5TcyMNYQwiAiwTR3tCf0J/QnhEcUpkMmQ=|Um5Ockt0TXdPc011TXVKdyE=|U2xMHDJ+H2QJZwBxX39Rb1d5WXcrSixAJ1kjDVsN|VGhXd1llXGNaYFhkWmJaYl1gV2pIdUtyTXRKfkN4Qn1FeEF6R31TBQ==|VWldfS0TMw8xDjYWKhAwHiUdOA9wCDEVaxgkATdcNU8iDFoM|VmNDbUMV|V2NDbUMV|WGRYeCgGZhtmH2VScVI2UT5fORtmD2gCawwuRSJHZAFsCWMOdVYyVTpbPR99HWAFYVMpUDUFORshHiQdJR0jAT0JPQc/BDoFPgooFDZtVBR5Fn9VOwt2EWhCOVQ4WSJPJFkHXhgoSDVIMRgnHyFqQ3xEezceIRkmahRqFDZLIkUvRiEDaA9qQ3xEezcZORc5bzk=|WWdHFy0TMw8vEy0UIQE0ADgYJBohGjoAOw4uEiwXLAw2DThu9a==|WmBAED5+KnIbdRh1GXgFQSZbGFdrUm1UblZqVGxQa1ZiTGxQcEp1I3U=|W2NDEz19KXENZwJjHkY7Ui9OJQsre09zSWlXY1oMLBExHzERLxsuE0UT|XGZGFjh4LHQdcx5zH34DRyBdHlFtVGtSaFBsUmpWbVBkSmpXd05zTnMlcw==|XWdHFzl5LXUJYwZnGkI/VitKIQ8vEzMKNws3YTc=|XmdaZ0d6WmVFeUB8XGJaYEB4TGxWbk5yTndXa0tyT29Ta0t1QGBeZDI='</span></span><br><span class="line">        <span class="comment">#密码，在这里不能输入真实密码，淘宝对此密码进行了加密处理，256位，此处为加密后的密码</span></span><br><span class="line">        self.password2 = <span class="string">'7511aa68sx629e45de220d29174f1066537a73420ef6dbb5b46f202396703a2d56b0312df8769d886e6ca63d587fdbb99ee73927e8c07d9c88cd02182e1a21edc13fb8e140a4a2a4b5c253bf38484bd0e08199e03eb9bf7b365a5c673c03407d812b91394f0d3c7564042e3f2b11d156aeea37ad6460118914125ab8f8ac466f'</span></span><br><span class="line">        self.post = post = &#123;</span><br><span class="line">            <span class="string">'ua'</span>:self.ua,</span><br><span class="line">            <span class="string">'TPL_checkcode'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'CtrlVersion'</span>: <span class="string">'1,0,0,7'</span>,</span><br><span class="line">            <span class="string">'TPL_password'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'TPL_redirect_url'</span>:<span class="string">'http://i.taobao.com/my_taobao.htm?nekot=udm8087E1424147022443'</span>,</span><br><span class="line">            <span class="string">'TPL_username'</span>:self.username,</span><br><span class="line">            <span class="string">'loginsite'</span>:<span class="string">'0'</span>,</span><br><span class="line">            <span class="string">'newlogin'</span>:<span class="string">'0'</span>,</span><br><span class="line">            <span class="string">'from'</span>:<span class="string">'tb'</span>,</span><br><span class="line">            <span class="string">'fc'</span>:<span class="string">'default'</span>,</span><br><span class="line">            <span class="string">'style'</span>:<span class="string">'default'</span>,</span><br><span class="line">            <span class="string">'css_style'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'tid'</span>:<span class="string">'XOR_1_000000000000000000000000000000_625C4720470A0A050976770A'</span>,</span><br><span class="line">            <span class="string">'support'</span>:<span class="string">'000001'</span>,</span><br><span class="line">            <span class="string">'loginType'</span>:<span class="string">'4'</span>,</span><br><span class="line">            <span class="string">'minititle'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'minipara'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'umto'</span>:<span class="string">'NaN'</span>,</span><br><span class="line">            <span class="string">'pstrong'</span>:<span class="string">'3'</span>,</span><br><span class="line">            <span class="string">'llnick'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'sign'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'need_sign'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'isIgnore'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'full_redirect'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'popid'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'callback'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'guf'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'not_duplite_str'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'need_user_id'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'poy'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'gvfdcname'</span>:<span class="string">'10'</span>,</span><br><span class="line">            <span class="string">'gvfdcre'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'from_encoding '</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'sub'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'TPL_password_2'</span>:self.password2,</span><br><span class="line">            <span class="string">'loginASR'</span>:<span class="string">'1'</span>,</span><br><span class="line">            <span class="string">'loginASRSuc'</span>:<span class="string">'1'</span>,</span><br><span class="line">            <span class="string">'allp'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'oslanguage'</span>:<span class="string">'zh-CN'</span>,</span><br><span class="line">            <span class="string">'sr'</span>:<span class="string">'1366*768'</span>,</span><br><span class="line">            <span class="string">'osVer'</span>:<span class="string">'windows|6.1'</span>,</span><br><span class="line">            <span class="string">'naviVer'</span>:<span class="string">'firefox|35'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#将POST的数据进行编码转换</span></span><br><span class="line">        self.postData = urllib.urlencode(self.post)</span><br><span class="line">        <span class="comment">#设置代理</span></span><br><span class="line">        self.proxy = urllib2.ProxyHandler(&#123;<span class="string">'http'</span>:self.proxyURL&#125;)</span><br><span class="line">        <span class="comment">#设置cookie</span></span><br><span class="line">        self.cookie = cookielib.LWPCookieJar()</span><br><span class="line">        <span class="comment">#设置cookie处理器</span></span><br><span class="line">        self.cookieHandler = urllib2.HTTPCookieProcessor(self.cookie)</span><br><span class="line">        <span class="comment">#设置登录时用到的opener，它的open方法相当于urllib2.urlopen</span></span><br><span class="line">        self.opener = urllib2.build_opener(self.cookieHandler,self.proxy,urllib2.HTTPHandler)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#得到是否需要输入验证码，这次请求的相应有时会不同，有时需要验证有时不需要</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">needIdenCode</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#第一次登录获取验证码尝试，构建request</span></span><br><span class="line">        request = urllib2.Request(self.loginURL,self.postData,self.loginHeaders)</span><br><span class="line">        <span class="comment">#得到第一次登录尝试的相应</span></span><br><span class="line">        response = self.opener.open(request)</span><br><span class="line">        <span class="comment">#获取其中的内容</span></span><br><span class="line">        content = response.read().decode(<span class="string">'gbk'</span>)</span><br><span class="line">        <span class="comment">#获取状态吗</span></span><br><span class="line">        status = response.getcode()</span><br><span class="line">        <span class="comment">#状态码为200，获取成功</span></span><br><span class="line">        <span class="keyword">if</span> status == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"获取请求成功"</span></span><br><span class="line">            <span class="comment">#\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801这六个字是请输入验证码的utf-8编码</span></span><br><span class="line">            pattern = re.compile(<span class="string">u'\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801'</span>,re.S)</span><br><span class="line">            result = re.search(pattern,content)</span><br><span class="line">            <span class="comment">#如果找到该字符，代表需要输入验证码</span></span><br><span class="line">            <span class="keyword">if</span> result:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"此次安全验证异常，您需要输入验证码"</span></span><br><span class="line">                <span class="keyword">return</span> content</span><br><span class="line">            <span class="comment">#否则不需要</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"此次安全验证通过，您这次不需要输入验证码"</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"获取请求失败"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#得到验证码图片</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getIdenCode</span><span class="params">(self,page)</span>:</span></span><br><span class="line">        <span class="comment">#得到验证码的图片</span></span><br><span class="line">        pattern = re.compile(<span class="string">'&lt;img id="J_StandardCode_m.*?data-src="(.*?)"'</span>,re.S)</span><br><span class="line">        <span class="comment">#匹配的结果</span></span><br><span class="line">        matchResult = re.search(pattern,page)</span><br><span class="line">        <span class="comment">#已经匹配得到内容，并且验证码图片链接不为空</span></span><br><span class="line">        <span class="keyword">if</span> matchResult <span class="keyword">and</span> matchResult.group(<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">print</span> matchResult.group(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> matchResult.group(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"没有找到验证码内容"</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#程序运行主干</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#是否需要验证码，是则得到页面内容，不是则返回False</span></span><br><span class="line">        needResult = self.needIdenCode()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> needResult == <span class="literal">False</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"您需要手动输入验证码"</span></span><br><span class="line">            idenCode = self.getIdenCode(needResult)</span><br><span class="line">            <span class="comment">#得到了验证码的链接</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> idenCode == <span class="literal">False</span>:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"验证码获取成功"</span></span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"请在浏览器中输入您看到的验证码"</span></span><br><span class="line">                webbrowser.open_new_tab(idenCode)</span><br><span class="line">            <span class="comment">#验证码链接为空，无效验证码</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"验证码获取失败，请重试"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"不需要输入验证码"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">taobao = Taobao()</span><br><span class="line">taobao.main()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>恩，请把里面的 ua 和 password2 还有用户名换成自己的进行尝试，用我的可能会产生错误的。 运行结果 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225015508.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225015508.jpg" alt="QQ截图20150225015508"></a> 然后会蹦出浏览器，显示了验证码的内容，这个需要你来手动输入。 在这里有小伙伴向我反映有这么个错误 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ图片20150227181617.png" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ图片20150227181617.png" alt="QQ图片20150227181617"></a> 经过查证，竟然是版本问题，博主本人用的是 2.7.7，而小伙伴用的是 2.7.9。后来换成 2.7.7 就好了…，我也是醉了，希望有相同错误的小伙伴，可以尝试换一下版本… 好啦，运行时会弹出浏览器，如图 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225015717.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225015717.jpg" alt="QQ截图20150225015717"></a> 那么，我们现在需要手动输入验证码，重新向登录界面发出登录请求，之前的post数据内容加入验证码这一项，重新请求一次，如果请求成功，则会返回下一步我们需要的 J_HToken，如果验证码输入错误，则会返回验证码输入错误的选项。好，下面，我已经写到了获取J_HToken的进度，代码如下，现在运行程序，会蹦出浏览器，然后提示你输入验证码，用户手动输入之后，则会返回一个页面，我们提取出 J_Htoken即可。 注意，到现在为止，你还没有登录成功，只是获取到了J_HToken的值。 目前写到的代码如下</p>
                  <figure class="highlight python">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">__author__ = <span class="string">'CQC'</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> cookielib</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"></span><br><span class="line"><span class="comment">#模拟登录淘宝类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Taobao</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#初始化方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#登录的URL</span></span><br><span class="line">        self.loginURL = <span class="string">"https://login.taobao.com/member/login.jhtml"</span></span><br><span class="line">        <span class="comment">#代理IP地址，防止自己的IP被封禁</span></span><br><span class="line">        self.proxyURL = <span class="string">'http://120.193.146.97:843'</span></span><br><span class="line">        <span class="comment">#登录POST数据时发送的头部信息</span></span><br><span class="line">        self.loginHeaders =  &#123;</span><br><span class="line">            <span class="string">'Host'</span>:<span class="string">'login.taobao.com'</span>,</span><br><span class="line">            <span class="string">'User-Agent'</span> : <span class="string">'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0'</span>,</span><br><span class="line">            <span class="string">'Referer'</span> : <span class="string">'https://login.taobao.com/member/login.jhtml'</span>,</span><br><span class="line">            <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span>,</span><br><span class="line">            <span class="string">'Connection'</span> : <span class="string">'Keep-Alive'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#用户名</span></span><br><span class="line">        self.username = <span class="string">'cqcre'</span></span><br><span class="line">        <span class="comment">#ua字符串，经过淘宝ua算法计算得出，包含了时间戳,浏览器,屏幕分辨率,随机数,鼠标移动,鼠标点击,其实还有键盘输入记录,鼠标移动的记录、点击的记录等等的信息</span></span><br><span class="line">        self.ua = <span class="string">'191UW5TcyMNYQwiAiwTR3tCf0J/QnhEcUpkMmQ=|Um5Ockt0TXdPc011TXVKdyE=|U2xMHDJ+H2QJZwBxX39Rb1d5WXcrSixAJ1kjDVsN|VGhXd1llXGNaYFhkWmJaYl1gV2pIdUtyTXRKfkN4Qn1FeEF6R31TBQ==|VWldfS0TMw8xDjYWKhAwHiUdOA9wCDEVaxgkATdcNU8iDFoM|VmNDbUMV|V2NDbUMV|WGRYeCgGZhtmH2VScVI2UT5fORtmD2gCawwuRSJHZAFsCWMOdVYyVTpbPR99HWAFYVMpUDUFORshHiQdJR0jAT0JPQc/BDoFPgooFDZtVBR5Fn9VOwt2EWhCOVQ4WSJPJFkHXhgoSDVIMRgnHyFqQ3xEezceIRkmahRqFDZLIkUvRiEDaA9qQ3xEezcZORc5bzk=|WWdHFy0TMw8vEy0UIQE0ADgYJBohGjoAOw4uEiwXLAw2DThuOA==|WmBAED5+KnIbdRh1GXgFQSZbGFdrUm1UblZqVGxQa1ZiTGxQcEp1I3U=|W2NDEz19KXENZwJjHkY7Ui9OJQsre09zSWlXY1oMLBExHzERLxsuE0UT|XGZGFjh4LHQdcx5zH34DRyBdHlFtVGtSaFBsUmpWbVBkSmpXd05zTnMlcw==|XWdHFzl5LXUJYwZnGkI/VitKIQ8vEzMKNws3YTc=|XmdaZ0d6WmVFeUB8XGJaYEB4TGxWbk5yTndXa0tyT29Ta0t1QGBeZDI='</span></span><br><span class="line">        <span class="comment">#密码，在这里不能输入真实密码，淘宝对此密码进行了加密处理，256位，此处为加密后的密码</span></span><br><span class="line">        self.password2 = <span class="string">'7511aa6854629e45de220d29174f1066537a73420ef6dbb5b46f202396703a2d56b0312df8769d886e6ca63d587fdbb99ee73927e8c07d9c88cd02182e1a21edc13fb8e0a4a2a4b5c253bf38484bd0e08199e03eb9bf7b365a5c673c03407d812b91394f0d3c7564042e3f2b11d156aeea37ad6460118914125ab8f8ac466f'</span></span><br><span class="line">        self.post = post = &#123;</span><br><span class="line">            <span class="string">'ua'</span>:self.ua,</span><br><span class="line">            <span class="string">'TPL_checkcode'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'CtrlVersion'</span>: <span class="string">'1,0,0,7'</span>,</span><br><span class="line">            <span class="string">'TPL_password'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'TPL_redirect_url'</span>:<span class="string">'http://i.taobao.com/my_taobao.htm?nekot=udm8087E1424147022443'</span>,</span><br><span class="line">            <span class="string">'TPL_username'</span>:self.username,</span><br><span class="line">            <span class="string">'loginsite'</span>:<span class="string">'0'</span>,</span><br><span class="line">            <span class="string">'newlogin'</span>:<span class="string">'0'</span>,</span><br><span class="line">            <span class="string">'from'</span>:<span class="string">'tb'</span>,</span><br><span class="line">            <span class="string">'fc'</span>:<span class="string">'default'</span>,</span><br><span class="line">            <span class="string">'style'</span>:<span class="string">'default'</span>,</span><br><span class="line">            <span class="string">'css_style'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'tid'</span>:<span class="string">'XOR_1_000000000000000000000000000000_625C4720470A0A050976770A'</span>,</span><br><span class="line">            <span class="string">'support'</span>:<span class="string">'000001'</span>,</span><br><span class="line">            <span class="string">'loginType'</span>:<span class="string">'4'</span>,</span><br><span class="line">            <span class="string">'minititle'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'minipara'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'umto'</span>:<span class="string">'NaN'</span>,</span><br><span class="line">            <span class="string">'pstrong'</span>:<span class="string">'3'</span>,</span><br><span class="line">            <span class="string">'llnick'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'sign'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'need_sign'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'isIgnore'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'full_redirect'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'popid'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'callback'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'guf'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'not_duplite_str'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'need_user_id'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'poy'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'gvfdcname'</span>:<span class="string">'10'</span>,</span><br><span class="line">            <span class="string">'gvfdcre'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'from_encoding '</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'sub'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'TPL_password_2'</span>:self.password2,</span><br><span class="line">            <span class="string">'loginASR'</span>:<span class="string">'1'</span>,</span><br><span class="line">            <span class="string">'loginASRSuc'</span>:<span class="string">'1'</span>,</span><br><span class="line">            <span class="string">'allp'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'oslanguage'</span>:<span class="string">'zh-CN'</span>,</span><br><span class="line">            <span class="string">'sr'</span>:<span class="string">'1366*768'</span>,</span><br><span class="line">            <span class="string">'osVer'</span>:<span class="string">'windows|6.1'</span>,</span><br><span class="line">            <span class="string">'naviVer'</span>:<span class="string">'firefox|35'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#将POST的数据进行编码转换</span></span><br><span class="line">        self.postData = urllib.urlencode(self.post)</span><br><span class="line">        <span class="comment">#设置代理</span></span><br><span class="line">        self.proxy = urllib2.ProxyHandler(&#123;<span class="string">'http'</span>:self.proxyURL&#125;)</span><br><span class="line">        <span class="comment">#设置cookie</span></span><br><span class="line">        self.cookie = cookielib.LWPCookieJar()</span><br><span class="line">        <span class="comment">#设置cookie处理器</span></span><br><span class="line">        self.cookieHandler = urllib2.HTTPCookieProcessor(self.cookie)</span><br><span class="line">        <span class="comment">#设置登录时用到的opener，它的open方法相当于urllib2.urlopen</span></span><br><span class="line">        self.opener = urllib2.build_opener(self.cookieHandler,self.proxy,urllib2.HTTPHandler)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#得到是否需要输入验证码，这次请求的相应有时会不同，有时需要验证有时不需要</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">needCheckCode</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#第一次登录获取验证码尝试，构建request</span></span><br><span class="line">        request = urllib2.Request(self.loginURL,self.postData,self.loginHeaders)</span><br><span class="line">        <span class="comment">#得到第一次登录尝试的相应</span></span><br><span class="line">        response = self.opener.open(request)</span><br><span class="line">        <span class="comment">#获取其中的内容</span></span><br><span class="line">        content = response.read().decode(<span class="string">'gbk'</span>)</span><br><span class="line">        <span class="comment">#获取状态吗</span></span><br><span class="line">        status = response.getcode()</span><br><span class="line">        <span class="comment">#状态码为200，获取成功</span></span><br><span class="line">        <span class="keyword">if</span> status == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"获取请求成功"</span></span><br><span class="line">            <span class="comment">#\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801这六个字是请输入验证码的utf-8编码</span></span><br><span class="line">            pattern = re.compile(<span class="string">u'\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801'</span>,re.S)</span><br><span class="line">            result = re.search(pattern,content)</span><br><span class="line">            <span class="keyword">print</span> content</span><br><span class="line">            <span class="comment">#如果找到该字符，代表需要输入验证码</span></span><br><span class="line">            <span class="keyword">if</span> result:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"此次安全验证异常，您需要输入验证码"</span></span><br><span class="line">                <span class="keyword">return</span> content</span><br><span class="line">            <span class="comment">#否则不需要</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment">#返回结果直接带有J_HToken字样，表明直接验证通过</span></span><br><span class="line">                tokenPattern = re.compile(<span class="string">'id="J_HToken"'</span>)</span><br><span class="line">                tokenMatch = re.search(tokenPattern,content)</span><br><span class="line">                <span class="keyword">if</span> tokenMatch:</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"此次安全验证通过，您这次不需要输入验证码"</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"获取请求失败"</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#得到验证码图片</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getCheckCode</span><span class="params">(self,page)</span>:</span></span><br><span class="line">        <span class="comment">#得到验证码的图片</span></span><br><span class="line">        pattern = re.compile(<span class="string">'&lt;img id="J_StandardCode_m.*?data-src="(.*?)"'</span>,re.S)</span><br><span class="line">        <span class="comment">#匹配的结果</span></span><br><span class="line">        matchResult = re.search(pattern,page)</span><br><span class="line">        <span class="comment">#已经匹配得到内容，并且验证码图片链接不为空</span></span><br><span class="line">        <span class="keyword">if</span> matchResult <span class="keyword">and</span> matchResult.group(<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">print</span> matchResult.group(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> matchResult.group(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"没有找到验证码内容"</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#输入验证码，重新请求，如果验证成功，则返回J_HToken</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loginWithCheckCode</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#提示用户输入验证码</span></span><br><span class="line">        checkcode = raw_input(<span class="string">'请输入验证码:'</span>)</span><br><span class="line">        <span class="comment">#将验证码重新添加到post的数据中</span></span><br><span class="line">        self.post[<span class="string">'TPL_checkcode'</span>] = checkcode</span><br><span class="line">        <span class="comment">#对post数据重新进行编码</span></span><br><span class="line">        self.postData = urllib.urlencode(self.post)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment">#再次构建请求，加入验证码之后的第二次登录尝试</span></span><br><span class="line">            request = urllib2.Request(self.loginURL,self.postData,self.loginHeaders)</span><br><span class="line">            <span class="comment">#得到第一次登录尝试的相应</span></span><br><span class="line">            response = self.opener.open(request)</span><br><span class="line">            <span class="comment">#获取其中的内容</span></span><br><span class="line">            content = response.read().decode(<span class="string">'gbk'</span>)</span><br><span class="line">            <span class="comment">#检测验证码错误的正则表达式，\u9a8c\u8bc1\u7801\u9519\u8bef 是验证码错误五个字的编码</span></span><br><span class="line">            pattern = re.compile(<span class="string">u'\u9a8c\u8bc1\u7801\u9519\u8bef'</span>,re.S)</span><br><span class="line">            result = re.search(pattern,content)</span><br><span class="line">            <span class="comment">#如果返回页面包括了，验证码错误五个字</span></span><br><span class="line">            <span class="keyword">if</span> result:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"验证码输入错误"</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment">#返回结果直接带有J_HToken字样，说明验证码输入成功，成功跳转到了获取HToken的界面</span></span><br><span class="line">                tokenPattern = re.compile(<span class="string">'id="J_HToken" value="(.*?)"'</span>)</span><br><span class="line">                tokenMatch = re.search(tokenPattern,content)</span><br><span class="line">                <span class="comment">#如果匹配成功，找到了J_HToken</span></span><br><span class="line">                <span class="keyword">if</span> tokenMatch:</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"验证码输入正确"</span></span><br><span class="line">                    <span class="keyword">print</span> tokenMatch.group(<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">return</span> tokenMatch.group(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment">#匹配失败，J_Token获取失败</span></span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"J_Token获取失败"</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">except</span> urllib2.HTTPError, e:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"连接服务器出错，错误原因"</span>,e.reason</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#程序运行主干</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#是否需要验证码，是则得到页面内容，不是则返回False</span></span><br><span class="line">        needResult = self.needCheckCode()</span><br><span class="line">        <span class="comment">#请求获取失败，得到的结果是None</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> needResult ==<span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> needResult == <span class="literal">False</span>:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"您需要手动输入验证码"</span></span><br><span class="line">                idenCode = self.getCheckCode(needResult)</span><br><span class="line">                <span class="comment">#得到了验证码的链接</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> idenCode == <span class="literal">False</span>:</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"验证码获取成功"</span></span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"请在浏览器中输入您看到的验证码"</span></span><br><span class="line">                    webbrowser.open_new_tab(idenCode)</span><br><span class="line">                    J_HToken = self.loginWithCheckCode()</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">"J_HToken"</span>,J_HToken</span><br><span class="line">                <span class="comment">#验证码链接为空，无效验证码</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"验证码获取失败，请重试"</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"不需要输入验证码"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"请求登录页面失败，无法确认是否需要验证码"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">taobao = Taobao()</span><br><span class="line">taobao.main()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>现在的运行结果是这样的，我们已经可以得到 J_HToken 了，离成功又迈进了一步。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225200329.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225200329.jpg" alt="QQ截图20150225200329"></a> 好，到现在为止，我们应该可以获取到J_HToken的值啦。</p>
                  <h2 id="利用J-HToken获取st"><a href="#利用J-HToken获取st" class="headerlink" title="利用J_HToken获取st"></a>利用J_HToken获取st</h2>
                  <p>st也是一个经计算得到的code，可以这么理解，st是淘宝后台利用J_HToken以及其他数据经过计算之后得到的，可以利用st和用户名直接用get方式登录，所以st可以理解为一个秘钥。这个st值只会使用一次，如果第二次用get方式登录则会失效。所以它是一次性使用的。 下面J_HToken计算st的方法如下</p>
                  <figure class="highlight python">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="comment">#通过token获得st</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSTbyToken</span><span class="params">(self,token)</span>:</span></span><br><span class="line">    tokenURL = <span class="string">'https://passport.alipay.com/mini_apply_st.js?site=0&amp;token=%s&amp;callback=stCallback6'</span> % token</span><br><span class="line">    request = urllib2.Request(tokenURL)</span><br><span class="line">    response = urllib2.urlopen(request)</span><br><span class="line">    <span class="comment">#处理st，获得用户淘宝主页的登录地址</span></span><br><span class="line">    pattern = re.compile(<span class="string">'&#123;"st":"(.*?)"&#125;'</span>,re.S)</span><br><span class="line">    result = re.search(pattern,response.read())</span><br><span class="line">    <span class="comment">#如果成功匹配</span></span><br><span class="line">    <span class="keyword">if</span> result:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">u"成功获取st码"</span></span><br><span class="line">        <span class="comment">#获取st的值</span></span><br><span class="line">        st = result.group(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> st</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">u"未匹配到st"</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="直接利用st登录"><a href="#直接利用st登录" class="headerlink" title="直接利用st登录"></a>直接利用st登录</h2>
                  <p>得到st之后，基本上就大功告成啦，一段辛苦终于没有白费，你可以直接构建get方式请求的URL，直接访问这个URL便可以实现登录。</p>
                  <figure class="highlight gcode">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">stURL = <span class="string">'https://login.taobao.com/member/vst.htm?st=%s&amp;TPL_username=%s'</span> <span class="meta">%</span> <span class="comment">(st,username)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>比如</p>
                  <figure class="highlight vim">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"> http<span class="variable">s:</span>//login.taobao.<span class="keyword">com</span>/member/vst.htm?<span class="keyword">st</span>=<span class="number">1</span>uynJELa4hKfsfWU3OjPJCw&amp;TPL_username=cqcre</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>直接访问该链接即可实现登录，不过我这个应该已经失效了吧~ 代码在这先不贴了，剩下的一起贴了~</p>
                  <h2 id="获取已买到的宝贝页面"><a href="#获取已买到的宝贝页面" class="headerlink" title="获取已买到的宝贝页面"></a>获取已买到的宝贝页面</h2>
                  <p>已买到的宝贝的页面地址是</p>
                  <figure class="highlight awk">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">http:<span class="regexp">//</span>buyer.trade.taobao.com<span class="regexp">/trade/i</span>temlist<span class="regexp">/list_bought_items.htm</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>另外还有页码的参数。 重新构建一个带有cookie的opener，将上面的带有st的URL打开，保存它的cookie，然后再利用这个opener打开已买到的宝贝的页面，你就会得到已买到的宝贝页面详情了。</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="comment">#获得已买到的宝贝页面</span></span><br><span class="line">def getGoodsPage(self,pageIndex):</span><br><span class="line">    goodsURL = <span class="string">'http://buyer.trade.taobao.com/trade/itemlist/listBoughtItems.htm?action=itemlist/QueryAction&amp;event_submit_do_query=1&amp;pageNum='</span> + str(pageIndex)</span><br><span class="line">    response = self.newOpener.open(goodsURL)</span><br><span class="line">   <span class="built_in"> page </span>=  response.read().decode(<span class="string">'gbk'</span>)</span><br><span class="line">    return page</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>正则表达式提取信息 这是我的已买到的宝贝界面，审查元素可以看到，每一个宝贝都是tbody标签包围着。 <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225223302.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225223302.jpg" alt="QQ截图20150225223302"></a>我们现在想获取订单时间，订单号，卖家店铺名称，宝贝名称，原价，购买数量，最后付款多少，交易状态这几个量，具体就不再分析啦，正则表达式还不熟悉的同学请参考前面所说的正则表达式的用法，在这里，正则表达式匹配的代码是</p>
                  <figure class="highlight python">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="comment">#u'\u8ba2\u5355\u53f7'是订单号的编码</span></span><br><span class="line">pattern = re.compile(<span class="string">u'dealtime.*?&gt;(.*?)&lt;/span&gt;.*?\u8ba2\u5355\u53f7.*?&lt;em&gt;(.*?)&lt;/em&gt;.*?shopname.*?title="(.*?)".*?baobei-name"&gt;.*?&lt;a.*?&gt;(.*?)&lt;/a&gt;.*?'</span></span><br><span class="line">                     <span class="string">u'price.*?title="(.*?)".*?quantity.*?title="(.*?)".*?amount.*?em.*?&gt;(.*?)&lt;/em&gt;.*?trade-status.*?&lt;a.*?&gt;(.*?)&lt;/a&gt;'</span>,re.S)</span><br><span class="line">result = re.findall(pattern,page)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> result:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'------------------------------------------------------------'</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">"购买日期:"</span>,item[<span class="number">0</span>].strip(), <span class="string">'订单号:'</span>,item[<span class="number">1</span>].strip(),<span class="string">'卖家店铺:'</span>,item[<span class="number">2</span>].strip()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'宝贝名称:'</span>,item[<span class="number">3</span>].strip()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'原价:'</span>,item[<span class="number">4</span>].strip(),<span class="string">'购买数量:'</span>,item[<span class="number">5</span>].strip(),<span class="string">'实际支付:'</span>,item[<span class="number">6</span>].strip(),<span class="string">'交易状态'</span>,item[<span class="number">7</span>].strip()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="最终代码整理"><a href="#最终代码整理" class="headerlink" title="最终代码整理"></a>最终代码整理</h2>
                  <p>恩，你懂得，最重要的东西来了，经过博主2天多的奋战，代码基本就构建完成。写了两个类，其中提取页面信息的方法我单独放到了一个类中，叫 tool.py，类名为 Tool。 先看一下运行结果吧~ <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225234414.jpg" target="_blank" rel="noopener"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150225234414.jpg" alt="QQ截图20150225234414"></a> 最终代码如下</p>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">tool</span><span class="selector-class">.py</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight python">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">__author__ = <span class="string">'CQC'</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment">#处理获得的宝贝页面</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tool</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#初始化</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#获得页码数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getPageNum</span><span class="params">(self,page)</span>:</span></span><br><span class="line">        pattern = re.compile(<span class="string">u'&lt;div class="total"&gt;.*?\u5171(.*?)\u9875'</span>,re.S)</span><br><span class="line">        result = re.search(pattern,page)</span><br><span class="line">        <span class="keyword">if</span> result:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"找到了共多少页"</span></span><br><span class="line">            pageNum = result.group(<span class="number">1</span>).strip()</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'共'</span>,pageNum,<span class="string">'页'</span></span><br><span class="line">            <span class="keyword">return</span> pageNum</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getGoodsInfo</span><span class="params">(self,page)</span>:</span></span><br><span class="line">        <span class="comment">#u'\u8ba2\u5355\u53f7'是订单号的编码</span></span><br><span class="line">        pattern = re.compile(<span class="string">u'dealtime.*?&gt;(.*?)&lt;/span&gt;.*?\u8ba2\u5355\u53f7.*?&lt;em&gt;(.*?)&lt;/em&gt;.*?shopname.*?title="(.*?)".*?baobei-name"&gt;.*?&lt;a.*?&gt;(.*?)&lt;/a&gt;.*?'</span></span><br><span class="line">                             <span class="string">u'price.*?title="(.*?)".*?quantity.*?title="(.*?)".*?amount.*?em.*?&gt;(.*?)&lt;/em&gt;.*?trade-status.*?&lt;a.*?&gt;(.*?)&lt;/a&gt;'</span>,re.S)</span><br><span class="line">        result = re.findall(pattern,page)</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> result:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'------------------------------------------------------------'</span></span><br><span class="line">            <span class="keyword">print</span> <span class="string">"购买日期:"</span>,item[<span class="number">0</span>].strip(), <span class="string">'订单号:'</span>,item[<span class="number">1</span>].strip(),<span class="string">'卖家店铺:'</span>,item[<span class="number">2</span>].strip()</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'宝贝名称:'</span>,item[<span class="number">3</span>].strip()</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'原价:'</span>,item[<span class="number">4</span>].strip(),<span class="string">'购买数量:'</span>,item[<span class="number">5</span>].strip(),<span class="string">'实际支付:'</span>,item[<span class="number">6</span>].strip(),<span class="string">'交易状态'</span>,item[<span class="number">7</span>].strip()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight css">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="selector-tag">taobao</span><span class="selector-class">.py</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <figure class="highlight python">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">__author__ = <span class="string">'CQC'</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> cookielib</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"><span class="keyword">import</span> tool</span><br><span class="line"></span><br><span class="line"><span class="comment">#模拟登录淘宝类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Taobao</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#初始化方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#登录的URL</span></span><br><span class="line">        self.loginURL = <span class="string">"https://login.taobao.com/member/login.jhtml"</span></span><br><span class="line">        <span class="comment">#代理IP地址，防止自己的IP被封禁</span></span><br><span class="line">        self.proxyURL = <span class="string">'http://120.193.146.97:843'</span></span><br><span class="line">        <span class="comment">#登录POST数据时发送的头部信息</span></span><br><span class="line">        self.loginHeaders =  &#123;</span><br><span class="line">            <span class="string">'Host'</span>:<span class="string">'login.taobao.com'</span>,</span><br><span class="line">            <span class="string">'User-Agent'</span> : <span class="string">'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0'</span>,</span><br><span class="line">            <span class="string">'Referer'</span> : <span class="string">'https://login.taobao.com/member/login.jhtml'</span>,</span><br><span class="line">            <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span>,</span><br><span class="line">            <span class="string">'Connection'</span> : <span class="string">'Keep-Alive'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#用户名</span></span><br><span class="line">        self.username = <span class="string">'cqcre'</span></span><br><span class="line">        <span class="comment">#ua字符串，经过淘宝ua算法计算得出，包含了时间戳,浏览器,屏幕分辨率,随机数,鼠标移动,鼠标点击,其实还有键盘输入记录,鼠标移动的记录、点击的记录等等的信息</span></span><br><span class="line">        self.ua = <span class="string">'191UW5TcyMNYQwiAiwTR3tCf0J/QnhEcUpkMmQ=|Um5Ockt0TXdPc011TXVKdyE=|U2xMHDJ+H2QJZwBxX39Rb1d5WXcrSixAJ1kjDVsN|VGhXd1llXGNaYFhkWmJaYl1gV2pIdUtyTXRKfkN4Qn1FeEF6R31TBQ==|VWldfS0TMw8xDjYWKhAwHiUdOA9wCDEVaxgkATdcNU8iDFoM|VmNDbUMV|V2NDbUMV|WGRYeCgGZhtmH2VScVI2UT5fORtmD2gCawwuRSJHZAFsCWMOdVYyVTpbPR99HWAFYVMpUDUFORshHiQdJR0jAT0JPQc/BDoFPgooFDZtVBR5Fn9VOwt2EWhCOVQ4WSJPJFkHXhgoSDVIMRgnHyFqQ3xEezceIRkmahRqFDZLIkUvRiEDaA9qQ3xEezcZORc5bzk=|WWdHFy0TMw8vEy0UIQE0ADgYJBohGjoAOw4uEiwXLAw2DThuOA==|WmBAED5+KnIbdRh1GXgFQSZbGFdrUm1UblZqVGxQa1ZiTGxQcEp1I3U=|W2NDEz19KXENZwJjHkY7Ui9OJQsre09zSWlXY1oMLBExHzERLxsuE0UT|XGZGFjh4LHQdcx5zH34DRyBdHlFtVGtSaFBsUmpWbVBkSmpXd05zTnMlcw==|XWdHFzl5LXUJYwZnGkI/VitKIQ8vEzMKNws3YTc=|XmdaZ0d6WmVFeUB8XGJaYEB4TGxWbk5yTndXa0tyT29Ta0t1QGBeZDI='</span></span><br><span class="line">        <span class="comment">#密码，在这里不能输入真实密码，淘宝对此密码进行了加密处理，256位，此处为加密后的密码</span></span><br><span class="line">        self.password2 = <span class="string">'7511aa6854629e45de220d29174f1066537a73420ef6dbb5b46f202396703a2d56b0312df8769d886e6ca63d587fdbb99ee73927e8c07d9c88cd02182e1a21edc13fb8e140a4a2a4b53bf38484bd0e08199e03eb9bf7b365a5c673c03407d812b91394f0d3c7564042e3f2b11d156aeea37ad6460118914125ab8f8ac466f'</span></span><br><span class="line">        self.post = post = &#123;</span><br><span class="line">            <span class="string">'ua'</span>:self.ua,</span><br><span class="line">            <span class="string">'TPL_checkcode'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'CtrlVersion'</span>: <span class="string">'1,0,0,7'</span>,</span><br><span class="line">            <span class="string">'TPL_password'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'TPL_redirect_url'</span>:<span class="string">'http://i.taobao.com/my_taobao.htm?nekot=udm8087E1424147022443'</span>,</span><br><span class="line">            <span class="string">'TPL_username'</span>:self.username,</span><br><span class="line">            <span class="string">'loginsite'</span>:<span class="string">'0'</span>,</span><br><span class="line">            <span class="string">'newlogin'</span>:<span class="string">'0'</span>,</span><br><span class="line">            <span class="string">'from'</span>:<span class="string">'tb'</span>,</span><br><span class="line">            <span class="string">'fc'</span>:<span class="string">'default'</span>,</span><br><span class="line">            <span class="string">'style'</span>:<span class="string">'default'</span>,</span><br><span class="line">            <span class="string">'css_style'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'tid'</span>:<span class="string">'XOR_1_000000000000000000000000000000_625C4720470A0A050976770A'</span>,</span><br><span class="line">            <span class="string">'support'</span>:<span class="string">'000001'</span>,</span><br><span class="line">            <span class="string">'loginType'</span>:<span class="string">'4'</span>,</span><br><span class="line">            <span class="string">'minititle'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'minipara'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'umto'</span>:<span class="string">'NaN'</span>,</span><br><span class="line">            <span class="string">'pstrong'</span>:<span class="string">'3'</span>,</span><br><span class="line">            <span class="string">'llnick'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'sign'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'need_sign'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'isIgnore'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'full_redirect'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'popid'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'callback'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'guf'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'not_duplite_str'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'need_user_id'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'poy'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'gvfdcname'</span>:<span class="string">'10'</span>,</span><br><span class="line">            <span class="string">'gvfdcre'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'from_encoding '</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'sub'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'TPL_password_2'</span>:self.password2,</span><br><span class="line">            <span class="string">'loginASR'</span>:<span class="string">'1'</span>,</span><br><span class="line">            <span class="string">'loginASRSuc'</span>:<span class="string">'1'</span>,</span><br><span class="line">            <span class="string">'allp'</span>:<span class="string">''</span>,</span><br><span class="line">            <span class="string">'oslanguage'</span>:<span class="string">'zh-CN'</span>,</span><br><span class="line">            <span class="string">'sr'</span>:<span class="string">'1366*768'</span>,</span><br><span class="line">            <span class="string">'osVer'</span>:<span class="string">'windows|6.1'</span>,</span><br><span class="line">            <span class="string">'naviVer'</span>:<span class="string">'firefox|35'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#将POST的数据进行编码转换</span></span><br><span class="line">        self.postData = urllib.urlencode(self.post)</span><br><span class="line">        <span class="comment">#设置代理</span></span><br><span class="line">        self.proxy = urllib2.ProxyHandler(&#123;<span class="string">'http'</span>:self.proxyURL&#125;)</span><br><span class="line">        <span class="comment">#设置cookie</span></span><br><span class="line">        self.cookie = cookielib.LWPCookieJar()</span><br><span class="line">        <span class="comment">#设置cookie处理器</span></span><br><span class="line">        self.cookieHandler = urllib2.HTTPCookieProcessor(self.cookie)</span><br><span class="line">        <span class="comment">#设置登录时用到的opener，它的open方法相当于urllib2.urlopen</span></span><br><span class="line">        self.opener = urllib2.build_opener(self.cookieHandler,self.proxy,urllib2.HTTPHandler)</span><br><span class="line">        <span class="comment">#赋值J_HToken</span></span><br><span class="line">        self.J_HToken = <span class="string">''</span></span><br><span class="line">        <span class="comment">#登录成功时，需要的Cookie</span></span><br><span class="line">        self.newCookie = cookielib.CookieJar()</span><br><span class="line">        <span class="comment">#登陆成功时，需要的一个新的opener</span></span><br><span class="line">        self.newOpener = urllib2.build_opener(urllib2.HTTPCookieProcessor(self.newCookie))</span><br><span class="line">        <span class="comment">#引入工具类</span></span><br><span class="line">        self.tool = tool.Tool()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#得到是否需要输入验证码，这次请求的相应有时会不同，有时需要验证有时不需要</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">needCheckCode</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#第一次登录获取验证码尝试，构建request</span></span><br><span class="line">        request = urllib2.Request(self.loginURL,self.postData,self.loginHeaders)</span><br><span class="line">        <span class="comment">#得到第一次登录尝试的相应</span></span><br><span class="line">        response = self.opener.open(request)</span><br><span class="line">        <span class="comment">#获取其中的内容</span></span><br><span class="line">        content = response.read().decode(<span class="string">'gbk'</span>)</span><br><span class="line">        <span class="comment">#获取状态吗</span></span><br><span class="line">        status = response.getcode()</span><br><span class="line">        <span class="comment">#状态码为200，获取成功</span></span><br><span class="line">        <span class="keyword">if</span> status == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"获取请求成功"</span></span><br><span class="line">            <span class="comment">#\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801这六个字是请输入验证码的utf-8编码</span></span><br><span class="line">            pattern = re.compile(<span class="string">u'\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801'</span>,re.S)</span><br><span class="line">            result = re.search(pattern,content)</span><br><span class="line">            <span class="comment">#如果找到该字符，代表需要输入验证码</span></span><br><span class="line">            <span class="keyword">if</span> result:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"此次安全验证异常，您需要输入验证码"</span></span><br><span class="line">                <span class="keyword">return</span> content</span><br><span class="line">            <span class="comment">#否则不需要</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment">#返回结果直接带有J_HToken字样，表明直接验证通过</span></span><br><span class="line">                tokenPattern = re.compile(<span class="string">'id="J_HToken" value="(.*?)"'</span>)</span><br><span class="line">                tokenMatch = re.search(tokenPattern,content)</span><br><span class="line">                <span class="keyword">if</span> tokenMatch:</span><br><span class="line">                    self.J_HToken = tokenMatch.group(<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"此次安全验证通过，您这次不需要输入验证码"</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"获取请求失败"</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#得到验证码图片</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getCheckCode</span><span class="params">(self,page)</span>:</span></span><br><span class="line">        <span class="comment">#得到验证码的图片</span></span><br><span class="line">        pattern = re.compile(<span class="string">'&lt;img id="J_StandardCode_m.*?data-src="(.*?)"'</span>,re.S)</span><br><span class="line">        <span class="comment">#匹配的结果</span></span><br><span class="line">        matchResult = re.search(pattern,page)</span><br><span class="line">        <span class="comment">#已经匹配得到内容，并且验证码图片链接不为空</span></span><br><span class="line">        <span class="keyword">if</span> matchResult <span class="keyword">and</span> matchResult.group(<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> matchResult.group(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"没有找到验证码内容"</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#输入验证码，重新请求，如果验证成功，则返回J_HToken</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loginWithCheckCode</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#提示用户输入验证码</span></span><br><span class="line">        checkcode = raw_input(<span class="string">'请输入验证码:'</span>)</span><br><span class="line">        <span class="comment">#将验证码重新添加到post的数据中</span></span><br><span class="line">        self.post[<span class="string">'TPL_checkcode'</span>] = checkcode</span><br><span class="line">        <span class="comment">#对post数据重新进行编码</span></span><br><span class="line">        self.postData = urllib.urlencode(self.post)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment">#再次构建请求，加入验证码之后的第二次登录尝试</span></span><br><span class="line">            request = urllib2.Request(self.loginURL,self.postData,self.loginHeaders)</span><br><span class="line">            <span class="comment">#得到第一次登录尝试的相应</span></span><br><span class="line">            response = self.opener.open(request)</span><br><span class="line">            <span class="comment">#获取其中的内容</span></span><br><span class="line">            content = response.read().decode(<span class="string">'gbk'</span>)</span><br><span class="line">            <span class="comment">#检测验证码错误的正则表达式，\u9a8c\u8bc1\u7801\u9519\u8bef 是验证码错误五个字的编码</span></span><br><span class="line">            pattern = re.compile(<span class="string">u'\u9a8c\u8bc1\u7801\u9519\u8bef'</span>,re.S)</span><br><span class="line">            result = re.search(pattern,content)</span><br><span class="line">            <span class="comment">#如果返回页面包括了，验证码错误五个字</span></span><br><span class="line">            <span class="keyword">if</span> result:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"验证码输入错误"</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment">#返回结果直接带有J_HToken字样，说明验证码输入成功，成功跳转到了获取HToken的界面</span></span><br><span class="line">                tokenPattern = re.compile(<span class="string">'id="J_HToken" value="(.*?)"'</span>)</span><br><span class="line">                tokenMatch = re.search(tokenPattern,content)</span><br><span class="line">                <span class="comment">#如果匹配成功，找到了J_HToken</span></span><br><span class="line">                <span class="keyword">if</span> tokenMatch:</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"验证码输入正确"</span></span><br><span class="line">                    self.J_HToken = tokenMatch.group(<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">return</span> tokenMatch.group(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment">#匹配失败，J_Token获取失败</span></span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"J_Token获取失败"</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">except</span> urllib2.HTTPError, e:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"连接服务器出错，错误原因"</span>,e.reason</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#通过token获得st</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getSTbyToken</span><span class="params">(self,token)</span>:</span></span><br><span class="line">        tokenURL = <span class="string">'https://passport.alipay.com/mini_apply_st.js?site=0&amp;token=%s&amp;callback=stCallback6'</span> % token</span><br><span class="line">        request = urllib2.Request(tokenURL)</span><br><span class="line">        response = urllib2.urlopen(request)</span><br><span class="line">        <span class="comment">#处理st，获得用户淘宝主页的登录地址</span></span><br><span class="line">        pattern = re.compile(<span class="string">'&#123;"st":"(.*?)"&#125;'</span>,re.S)</span><br><span class="line">        result = re.search(pattern,response.read())</span><br><span class="line">        <span class="comment">#如果成功匹配</span></span><br><span class="line">        <span class="keyword">if</span> result:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"成功获取st码"</span></span><br><span class="line">            <span class="comment">#获取st的值</span></span><br><span class="line">            st = result.group(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> st</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"未匹配到st"</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#利用st码进行登录,获取重定向网址</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loginByST</span><span class="params">(self,st,username)</span>:</span></span><br><span class="line">        stURL = <span class="string">'https://login.taobao.com/member/vst.htm?st=%s&amp;TPL_username=%s'</span> % (st,username)</span><br><span class="line">        headers = &#123;</span><br><span class="line">            <span class="string">'User-Agent'</span> : <span class="string">'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0'</span>,</span><br><span class="line">            <span class="string">'Host'</span>:<span class="string">'login.taobao.com'</span>,</span><br><span class="line">            <span class="string">'Connection'</span> : <span class="string">'Keep-Alive'</span></span><br><span class="line">        &#125;</span><br><span class="line">        request = urllib2.Request(stURL,headers = headers)</span><br><span class="line">        response = self.newOpener.open(request)</span><br><span class="line">        content =  response.read().decode(<span class="string">'gbk'</span>)</span><br><span class="line">        <span class="comment">#检测结果，看是否登录成功</span></span><br><span class="line">        pattern = re.compile(<span class="string">'top.location = "(.*?)"'</span>,re.S)</span><br><span class="line">        match = re.search(pattern,content)</span><br><span class="line">        <span class="keyword">if</span> match:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"登录网址成功"</span></span><br><span class="line">            location = match.group(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"登录失败"</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#获得已买到的宝贝页面</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getGoodsPage</span><span class="params">(self,pageIndex)</span>:</span></span><br><span class="line">        goodsURL = <span class="string">'http://buyer.trade.taobao.com/trade/itemlist/listBoughtItems.htm?action=itemlist/QueryAction&amp;event_submit_do_query=1'</span> + <span class="string">'&amp;pageNum='</span> + str(pageIndex)</span><br><span class="line">        response = self.newOpener.open(goodsURL)</span><br><span class="line">        page =  response.read().decode(<span class="string">'gbk'</span>)</span><br><span class="line">        <span class="keyword">return</span> page</span><br><span class="line"></span><br><span class="line">    <span class="comment">#获取所有已买到的宝贝信息</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getAllGoods</span><span class="params">(self,pageNum)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">u"获取到的商品列表如下"</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>,int(pageNum)+<span class="number">1</span>):</span><br><span class="line">            page = self.getGoodsPage(x)</span><br><span class="line">            self.tool.getGoodsInfo(page)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#程序运行主干</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#是否需要验证码，是则得到页面内容，不是则返回False</span></span><br><span class="line">        needResult = self.needCheckCode()</span><br><span class="line">        <span class="comment">#请求获取失败，得到的结果是None</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> needResult ==<span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> needResult == <span class="literal">False</span>:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"您需要手动输入验证码"</span></span><br><span class="line">                checkCode = self.getCheckCode(needResult)</span><br><span class="line">                <span class="comment">#得到了验证码的链接</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> checkCode == <span class="literal">False</span>:</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"验证码获取成功"</span></span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"请在浏览器中输入您看到的验证码"</span></span><br><span class="line">                    webbrowser.open_new_tab(checkCode)</span><br><span class="line">                    self.loginWithCheckCode()</span><br><span class="line">                <span class="comment">#验证码链接为空，无效验证码</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">u"验证码获取失败，请重试"</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">u"不需要输入验证码"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"请求登录页面失败，无法确认是否需要验证码"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">#判断token是否正常获取到</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.J_HToken:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"获取Token失败，请重试"</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="comment">#获取st码</span></span><br><span class="line">        st = self.getSTbyToken(self.J_HToken)</span><br><span class="line">        <span class="comment">#利用st进行登录</span></span><br><span class="line">        result = self.loginByST(st,self.username)</span><br><span class="line">        <span class="keyword">if</span> result:</span><br><span class="line">            <span class="comment">#获得所有宝贝的页面</span></span><br><span class="line">            page = self.getGoodsPage(<span class="number">1</span>)</span><br><span class="line">            pageNum = self.tool.getPageNum(page)</span><br><span class="line">            self.getAllGoods(pageNum)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">u"登录失败"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">taobao = Taobao()</span><br><span class="line">taobao.main()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>好啦，运行结果就是上面贴的图片，可以成功获取到自己的商品列表，前提是把你们的 用户名，ua，password2这三个设置好。 以上均为博主亲身所敲，代码写的不好，谨在此贴出和大家一起分享经验~ 小伙伴们试一下吧，希望对大家有帮助~</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2015-02-24 00:20:33" itemprop="dateCreated datePublished" datetime="2015-02-24T00:20:33+08:00">2015-02-24</time>
                </span>
                <span id="/1076.html" class="post-meta-item leancloud_visitors" data-flag-title="Python爬虫实战五之模拟登录淘宝并获取所有订单" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>24k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>22 分钟</span>
                </span>
              </div>
            </article>
            <script>
              document.querySelectorAll('.random').forEach(item => item.src = "https://picsum.photos/id/" + Math.floor(Math.random() * Math.floor(300)) + "/200/133")

            </script>
            <nav class="pagination">
              <a class="extend prev" rel="prev" href="/page/22/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/24/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
            </nav>
          </div>
          <script>
            window.addEventListener('tabs:register', () =>
            {
              let
              {
                activeClass
              } = CONFIG.comments;
              if (CONFIG.comments.storage)
              {
                activeClass = localStorage.getItem('comments_active') || activeClass;
              }
              if (activeClass)
              {
                let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
                if (activeTab)
                {
                  activeTab.click();
                }
              }
            });
            if (CONFIG.comments.storage)
            {
              window.addEventListener('tabs:click', event =>
              {
                if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
                let commentClass = event.target.classList[1];
                localStorage.setItem('comments_active', commentClass);
              });
            }

          </script>
        </div>
        <div class="toggle sidebar-toggle">
          <span class="toggle-line toggle-line-first"></span>
          <span class="toggle-line toggle-line-middle"></span>
          <span class="toggle-line toggle-line-last"></span>
        </div>
        <aside class="sidebar">
          <div class="sidebar-inner">
            <ul class="sidebar-nav motion-element">
              <li class="sidebar-nav-toc"> 文章目录 </li>
              <li class="sidebar-nav-overview"> 站点概览 </li>
            </ul>
            <!--noindex-->
            <div class="post-toc-wrap sidebar-panel">
            </div>
            <!--/noindex-->
            <div class="site-overview-wrap sidebar-panel">
              <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <img class="site-author-image" itemprop="image" alt="崔庆才" src="/images/avatar.png">
                <p class="site-author-name" itemprop="name">崔庆才</p>
                <div class="site-description" itemprop="description">崔庆才的个人站点，记录生活的瞬间，分享学习的心得。</div>
              </div>
              <div class="site-state-wrap motion-element">
                <nav class="site-state">
                  <div class="site-state-item site-state-posts">
                    <a href="/archives/">
                      <span class="site-state-item-count">518</span>
                      <span class="site-state-item-name">日志</span>
                    </a>
                  </div>
                  <div class="site-state-item site-state-categories">
                    <a href="/categories/">
                      <span class="site-state-item-count">21</span>
                      <span class="site-state-item-name">分类</span></a>
                  </div>
                  <div class="site-state-item site-state-tags">
                    <a href="/tags/">
                      <span class="site-state-item-count">121</span>
                      <span class="site-state-item-name">标签</span></a>
                  </div>
                </nav>
              </div>
              <div class="links-of-author motion-element">
                <span class="links-of-author-item">
                  <a href="https://github.com/Germey" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Germey" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
                </span>
                <span class="links-of-author-item">
                  <a href="mailto:cqc@cuiqingcai.com.com" title="邮件 → mailto:cqc@cuiqingcai.com.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>邮件</a>
                </span>
                <span class="links-of-author-item">
                  <a href="https://weibo.com/cuiqingcai" title="微博 → https:&#x2F;&#x2F;weibo.com&#x2F;cuiqingcai" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>微博</a>
                </span>
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/Germey" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;Germey" rel="noopener" target="_blank"><i class="fa fa-magic fa-fw"></i>知乎</a>
                </span>
              </div>
            </div>
            <div style=" width: 100%;" class="sidebar-panel sidebar-panel-image sidebar-panel-active">
              <a href="https://www.abuyun.com/http-proxy/introduce.html" target="_blank" rel="noopener">
                <img src="https://qiniu.cuiqingcai.com/88au8.jpg" style=" width: 100%;">
              </a>
            </div>
            <div style=" width: 100%;" class="sidebar-panel sidebar-panel-image sidebar-panel-active">
              <a href="https://tutorial.lengyue.video/?coupon=12ef4b1a-a3db-11ea-bb37-0242ac130002_cqx_850" target="_blank" rel="noopener">
                <img src="https://qiniu.cuiqingcai.com/bco2a.png" style=" width: 100%;">
              </a>
            </div>
            <div style=" width: 100%;" class="sidebar-panel sidebar-panel-image sidebar-panel-active">
              <a href="https://luminati-china.io/?affiliate=ref_5fbbaaa9647883f5c6f77095" target="_blank" rel="noopener">
                <img src="https://qiniu.cuiqingcai.com/ikkq9.jpg" style=" width: 100%;">
              </a>
            </div>
            <div class="sidebar-panel sidebar-panel-tags sidebar-panel-active">
              <h4 class="name"> 标签云 </h4>
              <div class="content">
                <a href="/tags/2048/" style="font-size: 10px;">2048</a> <a href="/tags/599/" style="font-size: 10px;">599</a> <a href="/tags/Bootstrap/" style="font-size: 11.25px;">Bootstrap</a> <a href="/tags/CDN/" style="font-size: 10px;">CDN</a> <a href="/tags/CQC/" style="font-size: 10px;">CQC</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CSS-%E5%8F%8D%E7%88%AC%E8%99%AB/" style="font-size: 10px;">CSS 反爬虫</a> <a href="/tags/CV/" style="font-size: 10px;">CV</a> <a href="/tags/Django/" style="font-size: 10px;">Django</a> <a href="/tags/Eclipse/" style="font-size: 11.25px;">Eclipse</a> <a href="/tags/FTP/" style="font-size: 10px;">FTP</a> <a href="/tags/GitHub/" style="font-size: 11.25px;">GitHub</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/IT/" style="font-size: 10px;">IT</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/K8s/" style="font-size: 10px;">K8s</a> <a href="/tags/LOGO/" style="font-size: 10px;">LOGO</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MIUI/" style="font-size: 10px;">MIUI</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/PHP/" style="font-size: 11.25px;">PHP</a> <a href="/tags/PS/" style="font-size: 10px;">PS</a> <a href="/tags/Pathlib/" style="font-size: 10px;">Pathlib</a> <a href="/tags/PhantomJS/" style="font-size: 10px;">PhantomJS</a> <a href="/tags/PySpider/" style="font-size: 10px;">PySpider</a> <a href="/tags/Python/" style="font-size: 16.25px;">Python</a> <a href="/tags/Python3/" style="font-size: 12.5px;">Python3</a> <a href="/tags/Pythonic/" style="font-size: 10px;">Pythonic</a> <a href="/tags/QQ/" style="font-size: 10px;">QQ</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SAE/" style="font-size: 10px;">SAE</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/SVG/" style="font-size: 10px;">SVG</a> <a href="/tags/Scrapy/" style="font-size: 10px;">Scrapy</a> <a href="/tags/Scrapy-redis/" style="font-size: 10px;">Scrapy-redis</a> <a href="/tags/Scrapy%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">Scrapy分布式</a> <a href="/tags/Selenium/" style="font-size: 10px;">Selenium</a> <a href="/tags/TKE/" style="font-size: 10px;">TKE</a> <a href="/tags/Ubuntu/" style="font-size: 11.25px;">Ubuntu</a> <a href="/tags/Vue/" style="font-size: 11.25px;">Vue</a> <a href="/tags/Webpack/" style="font-size: 10px;">Webpack</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/tags/Winpcap/" style="font-size: 10px;">Winpcap</a> <a href="/tags/WordPress/" style="font-size: 13.75px;">WordPress</a> <a href="/tags/object-Object/" style="font-size: 10px;">[object Object]</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/ansible/" style="font-size: 10px;">ansible</a> <a href="/tags/cocos2d-x/" style="font-size: 10px;">cocos2d-x</a> <a href="/tags/e6/" style="font-size: 10px;">e6</a> <a href="/tags/fitvids/" style="font-size: 10px;">fitvids</a> <a href="/tags/git/" style="font-size: 11.25px;">git</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/js%E9%80%86%E5%90%91/" style="font-size: 10px;">js逆向</a> <a href="/tags/kubernetes/" style="font-size: 10px;">kubernetes</a> <a href="/tags/log/" style="font-size: 10px;">log</a> <a href="/tags/logging/" style="font-size: 10px;">logging</a> <a href="/tags/matlab/" style="font-size: 11.25px;">matlab</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/pywin32/" style="font-size: 10px;">pywin32</a> <a href="/tags/style/" style="font-size: 10px;">style</a> <a href="/tags/tomcat/" style="font-size: 10px;">tomcat</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/uwsgi/" style="font-size: 10px;">uwsgi</a> <a href="/tags/validate-cert/" style="font-size: 10px;">validate_cert</a> <a href="/tags/vsftpd/" style="font-size: 10px;">vsftpd</a> <a href="/tags/wamp/" style="font-size: 10px;">wamp</a> <a href="/tags/wineQQ/" style="font-size: 10px;">wineQQ</a> <a href="/tags/%E4%B8%83%E7%89%9B/" style="font-size: 11.25px;">七牛</a> <a href="/tags/%E4%B8%8A%E6%B5%B7/" style="font-size: 10px;">上海</a> <a href="/tags/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/" style="font-size: 10px;">个人网站</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size: 10px;">主题</a> <a href="/tags/%E4%BA%91%E5%AD%98%E5%82%A8/" style="font-size: 10px;">云存储</a> <a href="/tags/%E4%BA%AC%E4%B8%9C%E4%BA%91/" style="font-size: 10px;">京东云</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size: 10px;">人工智能</a> <a href="/tags/%E4%BB%A3%E7%90%86/" style="font-size: 10px;">代理</a> <a href="/tags/%E4%BB%A3%E7%A0%81/" style="font-size: 10px;">代码</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 10px;">优化</a> <a href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/" style="font-size: 10px;">位运算</a> <a href="/tags/%E5%88%86%E4%BA%AB/" style="font-size: 10px;">分享</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">分布式</a> <a href="/tags/%E5%88%9B%E4%B8%9A/" style="font-size: 10px;">创业</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 11.25px;">前端</a> <a href="/tags/%E5%8E%9F%E7%94%9FAPP/" style="font-size: 10px;">原生APP</a> <a href="/tags/%E5%8F%8D%E7%88%AC%E8%99%AB/" style="font-size: 12.5px;">反爬虫</a> <a href="/tags/%E5%91%BD%E4%BB%A4/" style="font-size: 10px;">命令</a> <a href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/" style="font-size: 10px;">响应式布局</a> <a href="/tags/%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/" style="font-size: 10px;">域名绑定</a> <a href="/tags/%E5%A4%A7%E4%BC%97%E7%82%B9%E8%AF%84/" style="font-size: 10px;">大众点评</a> <a href="/tags/%E5%AD%97%E4%BD%93%E5%8F%8D%E7%88%AC%E8%99%AB/" style="font-size: 10px;">字体反爬虫</a> <a href="/tags/%E5%AE%9E%E7%94%A8/" style="font-size: 10px;">实用</a> <a href="/tags/%E5%B4%94%E5%BA%86%E6%89%8D/" style="font-size: 18.75px;">崔庆才</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">工具</a> <a href="/tags/%E6%89%8B%E6%9C%BA%E8%AE%BF%E9%97%AE/" style="font-size: 10px;">手机访问</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 10px;">教程</a> <a href="/tags/%E6%97%85%E6%B8%B8/" style="font-size: 10px;">旅游</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 10px;">日志</a> <a href="/tags/%E6%9D%9C%E5%85%B0%E7%89%B9/" style="font-size: 10px;">杜兰特</a> <a href="/tags/%E6%A1%8C%E9%9D%A2/" style="font-size: 10px;">桌面</a> <a href="/tags/%E6%B1%9F%E5%8D%97/" style="font-size: 10px;">江南</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 10px;">游戏</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 15px;">爬虫</a> <a href="/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 10px;">环境变量</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">生活笔记</a> <a href="/tags/%E7%99%BB%E5%BD%95/" style="font-size: 10px;">登录</a> <a href="/tags/%E7%9F%A5%E4%B9%8E/" style="font-size: 10px;">知乎</a> <a href="/tags/%E7%9F%AD%E4%BF%A1/" style="font-size: 10px;">短信</a> <a href="/tags/%E7%BA%B8%E5%BC%A0/" style="font-size: 10px;">纸张</a> <a href="/tags/%E7%BD%91%E7%AB%99/" style="font-size: 10px;">网站</a> <a href="/tags/%E8%82%89%E5%A4%B9%E9%A6%8D/" style="font-size: 10px;">肉夹馍</a> <a href="/tags/%E8%A5%BF%E5%B0%91%E7%88%B7/" style="font-size: 10px;">西少爷</a> <a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 10px;">视频</a> <a href="/tags/%E8%BF%9C%E7%A8%8B/" style="font-size: 10px;">远程</a> <a href="/tags/%E9%80%86%E5%90%91/" style="font-size: 10px;">逆向</a> <a href="/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 10px;">配置</a> <a href="/tags/%E9%87%8D%E8%A3%85/" style="font-size: 10px;">重装</a> <a href="/tags/%E9%9D%99%E8%A7%85/" style="font-size: 17.5px;">静觅</a> <a href="/tags/%E9%A2%A0%E8%A6%86/" style="font-size: 10px;">颠覆</a> <a href="/tags/%E9%A3%9E%E4%BF%A1/" style="font-size: 10px;">飞信</a>
              </div>
              <script>
                const tagsColors = ['#00a67c', '#5cb85c', '#d9534f', '#567e95', '#b37333', '#f4843d', '#15a287']
                const tagsElements = document.querySelectorAll('.sidebar-panel-tags .content a')
                tagsElements.forEach((item) =>
                {
                  item.style.backgroundColor = tagsColors[Math.floor(Math.random() * tagsColors.length)]
                })

              </script>
            </div>
            <div class="sidebar-panel sidebar-panel-categories sidebar-panel-active">
              <h4 class="name"> 分类 </h4>
              <div class="content">
                <ul class="category-list">
                  <li class="category-list-item"><a class="category-list-link" href="/categories/C-C/">C/C++</a><span class="category-list-count">23</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/HTML/">HTML</a><span class="category-list-count">13</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">5</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">26</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">15</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Markdown/">Markdown</a><span class="category-list-count">1</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Net/">Net</a><span class="category-list-count">4</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Other/">Other</a><span class="category-list-count">38</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">27</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Paper/">Paper</a><span class="category-list-count">2</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">256</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/TypeScript/">TypeScript</a><span class="category-list-count">2</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AA%E4%BA%BA%E5%B1%95%E7%A4%BA/">个人展示</a><span class="category-list-count">1</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AA%E4%BA%BA%E6%97%A5%E8%AE%B0/">个人日记</a><span class="category-list-count">6</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AA%E4%BA%BA%E9%9A%8F%E7%AC%94/">个人随笔</a><span class="category-list-count">10</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%9D%82%E8%B0%88/">技术杂谈</a><span class="category-list-count">74</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">未分类</a><span class="category-list-count">1</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E7%AC%94%E8%AE%B0/">生活笔记</a><span class="category-list-count">1</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A6%8F%E5%88%A9%E4%B8%93%E5%8C%BA/">福利专区</a><span class="category-list-count">6</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E8%81%8C%E4%BD%8D%E6%8E%A8%E8%8D%90/">职位推荐</a><span class="category-list-count">2</span></li>
                </ul>
              </div>
            </div>
            <div class="sidebar-panel sidebar-panel-friends sidebar-panel-active">
              <h4 class="name"> 友情链接 </h4>
              <ul class="friends">
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/j2dub.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.findhao.net/" target="_blank" rel="noopener">FindHao</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/ou6mm.jpg">
                  </span>
                  <span class="link">
                    <a href="https://diygod.me/" target="_blank" rel="noopener">DIYgod</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/6apxu.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.51dev.com/" target="_blank" rel="noopener">IT技术社区</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://www.jankl.com/img/titleshu.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.jankl.com/" target="_blank" rel="noopener">liberalist</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/bqlbs.png">
                  </span>
                  <span class="link">
                    <a href="http://www.urselect.com/" target="_blank" rel="noopener">优社电商</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/8s88c.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.yuanrenxue.com/" target="_blank" rel="noopener">猿人学</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/4i7yf.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.lizenghai.com/" target="_blank" rel="noopener">Python量化投资</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/2wgg5.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.yunlifang.cn/" target="_blank" rel="noopener">云立方</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/shwr6.png">
                  </span>
                  <span class="link">
                    <a href="http://lanbing510.info/" target="_blank" rel="noopener">冰蓝</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/blvoh.jpg">
                  </span>
                  <span class="link">
                    <a href="https://lengyue.me/" target="_blank" rel="noopener">冷月</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="http://qianxunclub.com/favicon.png">
                  </span>
                  <span class="link">
                    <a href="http://qianxunclub.com/" target="_blank" rel="noopener">千寻啊千寻</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/0044u.jpg">
                  </span>
                  <span class="link">
                    <a href="http://kodcloud.com/" target="_blank" rel="noopener">可道云</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/ygnpn.jpg">
                  </span>
                  <span class="link">
                    <a href="http://www.kunkundashen.cn/" target="_blank" rel="noopener">坤坤大神</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/22uv1.png">
                  </span>
                  <span class="link">
                    <a href="http://www.cenchong.com/" target="_blank" rel="noopener">岑冲博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/ev9kl.png">
                  </span>
                  <span class="link">
                    <a href="http://www.zxiaoji.com/" target="_blank" rel="noopener">张小鸡</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://www.chrafz.com/favicon.ico">
                  </span>
                  <span class="link">
                    <a href="https://www.chrafz.com/" target="_blank" rel="noopener">张弦先生</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://www.503error.com/favicon.ico">
                  </span>
                  <span class="link">
                    <a href="https://www.503error.com/" target="_blank" rel="noopener">张志明个人博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://seofangfa.com/favicon.ico">
                  </span>
                  <span class="link">
                    <a href="https://seofangfa.com/" target="_blank" rel="noopener">方法SEO</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/x714o.jpg">
                  </span>
                  <span class="link">
                    <a href="http://www.hubwiz.com/" target="_blank" rel="noopener">汇智网</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/lfmj3.png">
                  </span>
                  <span class="link">
                    <a href="http://frankchen.xyz/" target="_blank" rel="noopener">不正经数据科学家</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/129d8.png">
                  </span>
                  <span class="link">
                    <a href="https://www.bysocket.com/" target="_blank" rel="noopener">泥瓦匠BYSocket</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://www.xiongge.club/favicon.ico">
                  </span>
                  <span class="link">
                    <a href="https://www.xiongge.club/" target="_blank" rel="noopener">熊哥club</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/3w4fe.png">
                  </span>
                  <span class="link">
                    <a href="https://zerlong.com/" target="_blank" rel="noopener">知语</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/262r1.jpg">
                  </span>
                  <span class="link">
                    <a href="http://www.ysir308.com/" target="_blank" rel="noopener">程序员虾说</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/44hxf.png">
                  </span>
                  <span class="link">
                    <a href="http://redstonewill.com/" target="_blank" rel="noopener">红色石头</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/8g1fk.jpg">
                  </span>
                  <span class="link">
                    <a href="http://www.laodong.me/" target="_blank" rel="noopener">老董博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/wkaus.jpg">
                  </span>
                  <span class="link">
                    <a href="https://zhaoshuai.me/" target="_blank" rel="noopener">碎念</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/pgo0r.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.chenwenguan.com/" target="_blank" rel="noopener">陈文管的博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/kk82a.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.lxlinux.net/" target="_blank" rel="noopener">良许Linux教程网</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/lj0t2.jpg">
                  </span>
                  <span class="link">
                    <a href="https://tanqingbo.cn/" target="_blank" rel="noopener">IT码农</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/i8cdr.png">
                  </span>
                  <span class="link">
                    <a href="https://junyiseo.com/" target="_blank" rel="noopener">均益个人博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/chwv2.png">
                  </span>
                  <span class="link">
                    <a href="https://brucedone.com/" target="_blank" rel="noopener">大鱼的鱼塘</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/2y43o.png">
                  </span>
                  <span class="link">
                    <a href="http://bbs.nightteam.cn/" target="_blank" rel="noopener">夜幕爬虫安全论坛</a>
                  </span>
                </li>
              </ul>
            </div>
          </div>
        </aside>
        <div id="sidebar-dimmer"></div>
      </div>
    </main>
    <footer class="footer">
      <div class="footer-inner">
        <div class="copyright"> &copy; <span itemprop="copyrightYear">2021</span>
          <span class="with-love">
            <i class="fa fa-heart"></i>
          </span>
          <span class="author" itemprop="copyrightHolder">崔庆才丨静觅</span>
          <span class="post-meta-divider">|</span>
          <span class="post-meta-item-icon">
            <i class="fa fa-chart-area"></i>
          </span>
          <span title="站点总字数">2.5m</span>
          <span class="post-meta-divider">|</span>
          <span class="post-meta-item-icon">
            <i class="fa fa-coffee"></i>
          </span>
          <span title="站点阅读时长">37:31</span>
        </div>
        <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动 </div>
        <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备18015597号-1 </a>
        </div>
        <script>
          (function ()
          {
            function leancloudSelector(url)
            {
              url = encodeURI(url);
              return document.getElementById(url).querySelector('.leancloud-visitors-count');
            }

            function addCount(Counter)
            {
              var visitors = document.querySelector('.leancloud_visitors');
              var url = decodeURI(visitors.id);
              var title = visitors.dataset.flagTitle;
              Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify(
              {
                url
              }))).then(response => response.json()).then((
              {
                results
              }) =>
              {
                if (results.length > 0)
                {
                  var counter = results[0];
                  leancloudSelector(url).innerText = counter.time + 1;
                  Counter('put', '/classes/Counter/' + counter.objectId,
                  {
                    time:
                    {
                      '__op': 'Increment',
                      'amount': 1
                    }
                  }).catch(error =>
                  {
                    console.error('Failed to save visitor count', error);
                  });
                }
                else
                {
                  Counter('post', '/classes/Counter',
                  {
                    title,
                    url,
                    time: 1
                  }).then(response => response.json()).then(() =>
                  {
                    leancloudSelector(url).innerText = 1;
                  }).catch(error =>
                  {
                    console.error('Failed to create', error);
                  });
                }
              }).catch(error =>
              {
                console.error('LeanCloud Counter Error', error);
              });
            }

            function showTime(Counter)
            {
              var visitors = document.querySelectorAll('.leancloud_visitors');
              var entries = [...visitors].map(element =>
              {
                return decodeURI(element.id);
              });
              Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify(
              {
                url:
                {
                  '$in': entries
                }
              }))).then(response => response.json()).then((
              {
                results
              }) =>
              {
                for (let url of entries)
                {
                  let target = results.find(item => item.url === url);
                  leancloudSelector(url).innerText = target ? target.time : 0;
                }
              }).catch(error =>
              {
                console.error('LeanCloud Counter Error', error);
              });
            }
            let
            {
              app_id,
              app_key,
              server_url
            } = {
              "enable": true,
              "app_id": "6X5dRQ0pnPWJgYy8SXOg0uID-gzGzoHsz",
              "app_key": "ziLDVEy73ne5HtFTiGstzHMS",
              "server_url": null,
              "security": false
            };

            function fetchData(api_server)
            {
              var Counter = (method, url, data) =>
              {
                return fetch(`${api_server}/1.1${url}`,
                {
                  method,
                  headers:
                  {
                    'X-LC-Id': app_id,
                    'X-LC-Key': app_key,
                    'Content-Type': 'application/json',
                  },
                  body: JSON.stringify(data)
                });
              };
              if (CONFIG.page.isPost)
              {
                if (CONFIG.hostname !== location.hostname) return;
                addCount(Counter);
              }
              else if (document.querySelectorAll('.post-title-link').length >= 1)
              {
                showTime(Counter);
              }
            }
            let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;
            if (api_server)
            {
              fetchData(api_server);
            }
            else
            {
              fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id).then(response => response.json()).then((
              {
                api_server
              }) =>
              {
                fetchData('https://' + api_server);
              });
            }
          })();

        </script>
      </div>
      <div class="footer-stat">
        <span id="cnzz_stat_icon_1279355174"></span>
        <script type="text/javascript">
          document.write(unescape("%3Cspan id='cnzz_stat_icon_1279355174'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1279355174%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));

        </script>
      </div>
    </footer>
  </div>
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/js/utils.js"></script>
  <script src="/.js"></script>
  <script src="/js/schemes/pisces.js"></script>
  <script src="/.js"></script>
  <script src="/js/next-boot.js"></script>
  <script src="/.js"></script>
  <script>
    (function ()
    {
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x = document.getElementsByTagName("link");
      //Find the last canonical URL
      if (x.length > 0)
      {
        for (i = 0; i < x.length; i++)
        {
          if (x[i].rel.toLowerCase() == 'canonical' && x[i].href)
          {
            canonicalURL = x[i].href;
          }
        }
      }
      //Get protocol
      if (!canonicalURL)
      {
        curProtocol = window.location.protocol.split(':')[0];
      }
      else
      {
        curProtocol = canonicalURL.split(':')[0];
      }
      //Get current URL if the canonical URL does not exist
      if (!canonicalURL) canonicalURL = window.location.href;
      //Assign script content. Replace current URL with the canonical URL
      ! function ()
      {
        var e = /([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,
          r = canonicalURL,
          t = document.referrer;
        if (!e.test(r))
        {
          var n = (String(curProtocol).toLowerCase() === 'https') ? "https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif" : "//api.share.baidu.com/s.gif";
          t ? (n += "?r=" + encodeURIComponent(document.referrer), r && (n += "&l=" + r)) : r && (n += "?l=" + r);
          var i = new Image;
          i.src = n
        }
      }(window);
    })();

  </script>
  <script src="/js/local-search.js"></script>
  <script src="/.js"></script>
</body>

</html>
