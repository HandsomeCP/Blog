<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
  <meta name="theme-color" content="#222">
  <meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>
  <script id="hexo-configurations">
    var NexT = window.NexT ||
    {};
    var CONFIG = {
      "hostname": "cuiqingcai.com",
      "root": "/",
      "scheme": "Pisces",
      "version": "7.8.0",
      "exturl": false,
      "sidebar":
      {
        "position": "right",
        "width": 360,
        "display": "post",
        "padding": 18,
        "offset": 12,
        "onmobile": false,
        "widgets": [
          {
            "type": "image",
            "name": "阿布云",
            "enable": true,
            "url": "https://www.abuyun.com/http-proxy/introduce.html",
            "src": "https://qiniu.cuiqingcai.com/88au8.jpg",
            "width": "100%"
      },
          {
            "type": "image",
            "name": "天验",
            "enable": true,
            "url": "https://tutorial.lengyue.video/?coupon=12ef4b1a-a3db-11ea-bb37-0242ac130002_cqx_850",
            "src": "https://qiniu.cuiqingcai.com/bco2a.png",
            "width": "100%"
      },
          {
            "type": "image",
            "name": "华为云",
            "enable": false,
            "url": "https://activity.huaweicloud.com/2020_618_promotion/index.html?bpName=5f9f98a29e2c40b780c1793086f29fe2&bindType=1&salesID=wangyubei",
            "src": "https://qiniu.cuiqingcai.com/y42ik.jpg",
            "width": "100%"
      },
          {
            "type": "image",
            "name": "张小鸡",
            "enable": false,
            "url": "http://www.zxiaoji.com/",
            "src": "https://qiniu.cuiqingcai.com/fm72f.png",
            "width": "100%"
      },
          {
            "type": "image",
            "name": "Luminati",
            "src": "https://qiniu.cuiqingcai.com/ikkq9.jpg",
            "url": "https://luminati-china.io/?affiliate=ref_5fbbaaa9647883f5c6f77095",
            "width": "100%",
            "enable": true
      },
          {
            "type": "tags",
            "name": "标签云",
            "enable": true
      },
          {
            "type": "categories",
            "name": "分类",
            "enable": true
      },
          {
            "type": "friends",
            "name": "友情链接",
            "enable": true
      },
          {
            "type": "hot",
            "name": "猜你喜欢",
            "enable": true
      }]
      },
      "copycode":
      {
        "enable": true,
        "show_result": true,
        "style": "mac"
      },
      "back2top":
      {
        "enable": true,
        "sidebar": false,
        "scrollpercent": true
      },
      "bookmark":
      {
        "enable": false,
        "color": "#222",
        "save": "auto"
      },
      "fancybox": false,
      "mediumzoom": false,
      "lazyload": false,
      "pangu": true,
      "comments":
      {
        "style": "tabs",
        "active": "gitalk",
        "storage": true,
        "lazyload": false,
        "nav": null
      },
      "algolia":
      {
        "hits":
        {
          "per_page": 10
        },
        "labels":
        {
          "input_placeholder": "Search for Posts",
          "hits_empty": "We didn't find any results for the search: ${query}",
          "hits_stats": "${hits} results found in ${time} ms"
        }
      },
      "localsearch":
      {
        "enable": true,
        "trigger": "auto",
        "top_n_per_article": 10,
        "unescape": false,
        "preload": false
      },
      "motion":
      {
        "enable": false,
        "async": false,
        "transition":
        {
          "post_block": "bounceDownIn",
          "post_header": "slideDownIn",
          "post_body": "slideDownIn",
          "coll_header": "slideLeftIn",
          "sidebar": "slideUpIn"
        }
      },
      "path": "search.xml"
    };

  </script>
  <meta name="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
  <meta property="og:type" content="website">
  <meta property="og:title" content="静觅">
  <meta property="og:url" content="https://cuiqingcai.com/page/3/index.html">
  <meta property="og:site_name" content="静觅">
  <meta property="og:description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
  <meta property="og:locale" content="zh_CN">
  <meta property="article:author" content="崔庆才">
  <meta property="article:tag" content="崔庆才">
  <meta property="article:tag" content="静觅">
  <meta property="article:tag" content="PHP">
  <meta property="article:tag" content="Java">
  <meta property="article:tag" content="Python">
  <meta property="article:tag" content="Spider">
  <meta property="article:tag" content="爬虫">
  <meta property="article:tag" content="Web">
  <meta property="article:tag" content="Kubernetes">
  <meta property="article:tag" content="深度学习">
  <meta property="article:tag" content="机器学习">
  <meta property="article:tag" content="数据分析">
  <meta property="article:tag" content="网络">
  <meta property="article:tag" content="IT">
  <meta property="article:tag" content="技术">
  <meta property="article:tag" content="博客">
  <meta name="twitter:card" content="summary">
  <link rel="canonical" href="https://cuiqingcai.com/page/3/">
  <script id="page-configurations">
    // https://hexo.io/docs/variables.html
    CONFIG.page = {
      sidebar: "",
      isHome: true,
      isPost: false,
      lang: 'zh-CN'
    };

  </script>
  <title>静觅丨崔庆才的个人站点</title>
  <meta name="google-site-verification" content="p_bIcnvirkFzG2dYKuNDivKD8-STet5W7D-01woA2fc" />
  <noscript>
    <style>
      .use-motion .brand,
      .use-motion .menu-item,
      .sidebar-inner,
      .use-motion .post-block,
      .use-motion .pagination,
      .use-motion .comments,
      .use-motion .post-header,
      .use-motion .post-body,
      .use-motion .collection-header
      {
        opacity: initial;
      }

      .use-motion .site-title,
      .use-motion .site-subtitle
      {
        opacity: initial;
        top: initial;
      }

      .use-motion .logo-line-before i
      {
        left: initial;
      }

      .use-motion .logo-line-after i
      {
        right: initial;
      }

    </style>
  </noscript>
  <link rel="alternate" href="/atom.xml" title="静觅" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner">
        <div class="site-brand-container">
          <div class="site-nav-toggle">
            <div class="toggle" aria-label="切换导航栏">
              <span class="toggle-line toggle-line-first"></span>
              <span class="toggle-line toggle-line-middle"></span>
              <span class="toggle-line toggle-line-last"></span>
            </div>
          </div>
          <div class="site-meta">
            <a href="/" class="brand" rel="start">
              <span class="logo-line-before"><i></i></span>
              <h1 class="site-title">静觅 <span class="site-subtitle"> 崔庆才的个人站点 </span>
              </h1>
              <span class="logo-line-after"><i></i></span>
            </a>
          </div>
          <div class="site-nav-right">
            <div class="toggle popup-trigger">
              <i class="fa fa-search fa-fw fa-lg"></i>
            </div>
          </div>
        </div>
        <nav class="site-nav">
          <ul id="menu" class="main-menu menu">
            <li class="menu-item menu-item-home">
              <a href="/" rel="section">首页</a>
            </li>
            <li class="menu-item menu-item-archives">
              <a href="/archives/" rel="section">文章列表</a>
            </li>
            <li class="menu-item menu-item-tags">
              <a href="/tags/" rel="section">文章标签</a>
            </li>
            <li class="menu-item menu-item-categories">
              <a href="/categories/" rel="section">文章分类</a>
            </li>
            <li class="menu-item menu-item-about">
              <a href="/about/" rel="section">关于博主</a>
            </li>
            <li class="menu-item menu-item-message">
              <a href="/message/" rel="section">给我留言</a>
            </li>
            <li class="menu-item menu-item-search">
              <a role="button" class="popup-trigger">搜索 </a>
            </li>
          </ul>
        </nav>
        <div class="search-pop-overlay">
          <div class="popup search-popup">
            <div class="search-header">
              <span class="search-icon">
                <i class="fa fa-search"></i>
              </span>
              <div class="search-input-container">
                <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input">
              </div>
              <span class="popup-btn-close">
                <i class="fa fa-times-circle"></i>
              </span>
            </div>
            <div id="search-result">
              <div id="no-result">
                <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      <span>0%</span>
    </div>
    <div class="reading-progress-bar"></div>
    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div class="content index posts-expand">
            <div class="carousel">
              <div id="wowslider-container">
                <div class="ws_images">
                  <ul>
                    <li><a target="_blank" href="https://cuiqingcai.com/5052.html"><img title="Python3网络爬虫开发实战教程" src="https://qiniu.cuiqingcai.com/ipy96.jpg" /></a></li>
                    <li><a target="_blank" href="https://t.lagou.com/fRCBRsRCSN6FA"><img title="52讲轻松搞定网络爬虫" src="https://qiniu.cuiqingcai.com/fqq5e.png" /></a></li>
                    <li><a target="_blank" href="https://cuiqingcai.com/4320.html"><img title="Python3网络爬虫开发视频教程" src="https://qiniu.cuiqingcai.com/bjrny.jpg" /></a></li>
                    <li><a target="_blank" href="https://cuiqingcai.com/1052.html"><img title="Python2爬虫学习系列教程" src="https://qiniu.cuiqingcai.com/uyl5v.jpg" /></a></li>
                    <li><a target="_blank" href="https://cuiqingcai.com/5094.html"><img title="爬虫代理哪家强？十大付费代理详细对比评测出炉！" src="https://qiniu.cuiqingcai.com/nifs6.jpg" /></a></li>
                  </ul>
                </div>
                <div class="ws_thumbs">
                  <div>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/ipy96.jpg" /></a>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/fqq5e.png" /></a>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/bjrny.jpg" /></a>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/uyl5v.jpg" /></a>
                    <a target="_blank" href="#"><img src="https://qiniu.cuiqingcai.com/nifs6.jpg" /></a>
                  </div>
                </div>
                <div class="ws_shadow"></div>
              </div>
            </div>
            <link rel="stylesheet" href="/lib/wowslide/slide.css">
            <script src="/lib/wowslide/jquery.min.js"></script>
            <script src="/lib/wowslide/slider.js"></script>
            <script>
              jQuery("#wowslider-container").wowSlider(
              {
                effect: "cube",
                prev: "",
                next: "",
                duration: 20 * 100,
                delay: 20 * 100,
                width: 716,
                height: 297,
                autoPlay: true,
                playPause: true,
                stopOnHover: false,
                loop: false,
                bullets: 0,
                caption: true,
                captionEffect: "slide",
                controls: true,
                onBeforeStep: 0,
                images: 0
              });

            </script>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9436.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 技术杂谈 <i class="label-arrow"></i>
                  </a>
                  <a href="/9436.html" class="post-title-link" itemprop="url">浅谈NoSQL-Redis持久化存储，二者有何优缺点。又该如何选择？</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h1 id="Persistenced："><a href="#Persistenced：" class="headerlink" title="Persistenced："></a>Persistenced：</h1>
                  <h1 id="RDB（Redis-Database）："><a href="#RDB（Redis-Database）：" class="headerlink" title="RDB（Redis Database）："></a>RDB（Redis Database）：</h1>
                  <h3 id="简介："><a href="#简介：" class="headerlink" title="简介："></a>简介：</h3>
                  <p>将时间段间隔内的内存数据以快照的形式写入磁盘，它恢复时是将快照文件直接读到内存里（snapshot）</p>
                  <h3 id="原理："><a href="#原理：" class="headerlink" title="原理："></a>原理：</h3>
                  <p>Redis 会单独创建（fork）一个子进程来进行持久化，会先将数据写入到一个临时文件中，待持久化过程都结束了，在用这个临时文件替换上次持久化号的文件。<strong>主进程是不进行任何的IO操作，确保了极高的性能</strong>。如果需要进行大规模的数据恢复，且对于数据恢复的完整性不是非常敏感，那RDB方式要比AOF方式更加的高效。RDB的缺点是最后一次持久化后的数据可能会<strong>丢失</strong></p>
                  <h3 id="Fork："><a href="#Fork：" class="headerlink" title="Fork："></a>Fork：</h3>
                  <blockquote>
                    <p>作用：创建一个与当前进程一样的进程。新进程的所有数据（变量、环境变量、程序计数器等）都与原进程一致。但为一个全新的进程，并作为原进程的子进程</p>
                  </blockquote>
                  <p>RDB保存的是dump.rdb文件</p>
                  <h3 id="配置位置："><a href="#配置位置：" class="headerlink" title="配置位置："></a>配置位置：</h3>
                  <p>在redis.conf 中的snapshoting</p>
                  <h3 id="快照："><a href="#快照：" class="headerlink" title="快照："></a>快照：</h3>
                  <blockquote>
                    <p>save，save只管保存，其他不管全部阻塞 bgsave：redis会在后台异步进行快照操作 快照同时还可以响应客户端请求，可以通过lastsave命令获取最后一次成功执行快照的时间 执行flush命令也会产生dump.rdb文件，但里面是空的，无意义</p>
                  </blockquote>
                  <h3 id="如何恢复："><a href="#如何恢复：" class="headerlink" title="如何恢复："></a>如何恢复：</h3>
                  <blockquote>
                    <p>将备份文件（dump.rdb）移动到redis安装目录，并启动服务即可 在连接完成之后的终端 使用 <strong>config get dir</strong> 获取目录 异常恢复: redis-check-rdb —fix {}</p>
                  </blockquote>
                  <p>优势：</p>
                  <blockquote>
                    <p>适合大规模的数据备份 对数据完整性和一致性要求不高</p>
                  </blockquote>
                  <p>劣势：</p>
                  <blockquote>
                    <p>在一定时间间隔内做一次备份，所以如果redis意外down了就会丢失最后一次快照后的所有更改 Fork的时候，内存中的数据被克隆了一份，内存等将会2倍膨胀性，需考虑！！！</p>
                  </blockquote>
                  <h3 id="如何停止："><a href="#如何停止：" class="headerlink" title="如何停止："></a>如何停止：</h3>
                  <p>​ 动态所有停止rdb保存规则方法：redis-cli config set save “” </p>
                  <h1 id="AOF：（Append-only-File）："><a href="#AOF：（Append-only-File）：" class="headerlink" title="AOF：（Append only File）："></a>AOF：（Append only File）：</h1>
                  <h2 id="导入："><a href="#导入：" class="headerlink" title="导入："></a>导入：</h2>
                  <blockquote>
                    <p>为什么还会出现AOF？（新技术的出现必定弥补老技术的不足,新技术一定会借鉴老技术,是老技术的子类） 如果一个系统里面同时存在RDB是冲突呢还是协作? 为什么AOF会在RDB之后产生 AOF它会有什么优缺点?</p>
                  </blockquote>
                  <p>原理:<strong>以日志的形式来记录每个写操作</strong>,将Redis执行过的所有写<strong>指令记录下来</strong>(读操作不记录),只需追加文件但不可改写文件,Redis启动之初会读取该文件重新构建数据, 换言之,redis重启就根据日志文件的内容将写指令从前到后执行一次以完成数据恢复工作 配置位置: redis.conf中的APPEND ONLY MODE 配置说明: Appendfsunc:</p>
                  <blockquote>
                    <p>always: 同步持久化,每次发生更改立即记录到磁盘,性能差但数据完整性比较好 everysec:出厂默认推荐,异步操作,每秒记录,如果一秒内宕机,有数据丢失 No</p>
                  </blockquote>
                  <p>No-appendfsy-on-rewrite:重写时是否可以运用Appendfsync,默认no即可,保障数据安全 Auto-aof-rewrite-min-size :设定重写基准值 Auto-aof-rewrite-percentage : 设定重写基准值</p>
                  <h3 id="探讨dump-rdb-与aof的二者是否能共存及选择顺序"><a href="#探讨dump-rdb-与aof的二者是否能共存及选择顺序" class="headerlink" title="探讨dump.rdb,与aof的二者是否能共存及选择顺序"></a>探讨dump.rdb,与aof的二者是否能共存及选择顺序</h3>
                  <blockquote>
                    <p>当aof损坏时,rdb完全,二者可以和平共存 二者先选择aof</p>
                  </blockquote>
                  <h3 id="AOF启动／修复／恢复"><a href="#AOF启动／修复／恢复" class="headerlink" title="AOF启动／修复／恢复:"></a>AOF启动／修复／恢复:</h3>
                  <h4 id="正常恢复"><a href="#正常恢复" class="headerlink" title="正常恢复:"></a>正常恢复:</h4>
                  <p>启动:将redis.conf中APPEND ONLY MODE 下appendonly no改为yes 将有数据的aof文件复制一份保存到对于目录(config get dir) 恢复: 重启redis然后重新加载即可</p>
                  <h4 id="异常恢复"><a href="#异常恢复" class="headerlink" title="异常恢复:"></a>异常恢复:</h4>
                  <p>备份被写坏的AOF文件, 修复: Redistribution-check-aof —fix 进行修复 重启redis,重新加载即可</p>
                  <h3 id="Rewrite-重写"><a href="#Rewrite-重写" class="headerlink" title="Rewrite:重写"></a>Rewrite:重写</h3>
                  <blockquote>
                    <p>AOF采用文件追加的方式，文件会越来越大为避免出现此种情况，新增了重写机制， 当AOF文件的大小超过所设定的阈值时，Ｒｅｄｉｓ会启动AOF文件的内容压缩，只保留可以恢复数据的最小指令集，可以使用命令ｂｇｒｅｗｒｉｔｅａｏｆ</p>
                  </blockquote>
                  <h4 id="重新原理："><a href="#重新原理：" class="headerlink" title="重新原理："></a>重新原理：</h4>
                  <blockquote>
                    <p>AOF文件持续增长而过大时,会fork出一条新进程来讲文件重写(也是先写零食文件最后在rename),遍历新进程的内存数据,每条记录有一条的set语句.重写aof文件的操作,并没有读取旧的aof文件,而是将整个内存中的数据库内容用命令的方式重写了一个新的aof文件.和快照有点类似</p>
                  </blockquote>
                  <p>触发机制: REDIS会记录上次重写时的AOF大小,默认配置时当AOF文件大小是上次rewrite后大小的一倍且文件大于64M时触发 优势:</p>
                  <blockquote>
                    <p>每秒同步:appendfsync always 同步持久化 每次发送数据变更会被立即记录到磁盘,性能较差完整性比较友好 每修改同步: appendfsync everysec 异步操作,每秒记录,如果一秒内宕机,有数据丢失 不同步:appendfsync no 从不同步</p>
                  </blockquote>
                  <p>劣势: 相同数据集的数据而言aof文件要远大于rdb文件,恢复速度慢于rdb AOF运行效率要慢于rdb,每秒同步策略效率较好,不同步效率和rdb相同 </p>
                  <h2 id="Which-one-："><a href="#Which-one-：" class="headerlink" title="Which one?："></a>Which one?：</h2>
                  <p>RDB持久化方式:能够在指定的时间间隔内对数据进行快照存储 AOF持久化方式:记录每次对服务器写的操作,当服务器重启的时候会重新执行这些命令来恢复原始的数据,AOF命令以Redis协议追加保存每次写的操作到文件末尾,Redis还能对AOF文件进行后台重新,使得AOF文件的体积不至于过大 只做缓存:</p>
                  <blockquote>
                    <p>如果希望数据在服务器运行的时候存在,也可以不使用热河持久化方式.</p>
                  </blockquote>
                  <p>同时开启两种持久化方式:</p>
                  <blockquote>
                    <p>当redis重启的时候会优先载入AOF文件来恢复原始的数据,因为在通常情况下AOF文件保存的数据集要比rdb文件保存的数据集更完整 RDB的数据不实时,同时使用两者时服务器重启也指挥找AOF文件 那干脆直接使用AOF？不建议 因为RDB更适合用于数据库（AOF在不断变化不好备份），快速重启，而且不担保有AOF可能潜在的BUG，留着作为一个万一的手段</p>
                  </blockquote>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-07-23 11:06:07" itemprop="dateCreated datePublished" datetime="2020-07-23T11:06:07+08:00">2020-07-23</time>
                </span>
                <span id="/9436.html" class="post-meta-item leancloud_visitors" data-flag-title="浅谈NoSQL-Redis持久化存储，二者有何优缺点。又该如何选择？" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>2.4k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>2 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9511.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/9511.html" class="post-title-link" itemprop="url">浅谈排序算法与优化（仅部分，Updating）</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h1 id="浅谈排序算法与优化（仅部分，Updating）"><a href="#浅谈排序算法与优化（仅部分，Updating）" class="headerlink" title="浅谈排序算法与优化（仅部分，Updating）"></a>浅谈排序算法与优化（仅部分，Updating）</h1>
                  <p><strong><a href="https://github.com/Payne-Wu/Data-structure-and-algorithm" target="_blank" rel="noopener">欢迎查阅与star的源码</a></strong> <strong><strong>写在最前面，此文章少了各排序算法的对比，但多了一份由浅入深的个人理解，以及代码、及算法的优化的思路</strong></strong> <strong><strong>阅读文章约 需 5min</strong></strong></p>
                  <h4 id="列表排序"><a href="#列表排序" class="headerlink" title="列表排序"></a>列表排序</h4>
                  <p><strong>排序</strong></p>
                  <blockquote>
                    <p>将一组“无序”的记录序列调整为“有序”的记录序列</p>
                  </blockquote>
                  <p><strong>列表排序</strong></p>
                  <blockquote>
                    <p>将无序的列表变为有序列表 输入：列表； 输出：有序列表</p>
                  </blockquote>
                  <p>升序与降序 内置排序函数：sort（），基于timsort排序算法</p>
                  <blockquote>
                    <p>Timsort是一种混合稳定排序算法，源自归并排序（merge sort）和插入排序（insertion sort）</p>
                  </blockquote>
                  <p>有兴趣的伙计可以看看这两篇文章 <a href="https://blog.csdn.net/yangzhongblog/article/details/8184707" target="_blank" rel="noopener">sort算法运用原理1</a> <a href="https://www.cnblogs.com/brucecloud/p/6085703.html" target="_blank" rel="noopener">sort算法运用原理2</a> <img src="https://img-blog.csdnimg.cn/20200720020754601.gif#pic_center" alt="TimSort"></p>
                  <h4 id="常见排序算法"><a href="#常见排序算法" class="headerlink" title="常见排序算法"></a>常见排序算法</h4>
                  <h5 id="LOW："><a href="#LOW：" class="headerlink" title="LOW："></a>LOW：</h5>
                  <p><strong>冒泡：</strong></p>
                  <blockquote>
                    <p>列表每两个相邻的数，如果前面比后面大，则交换这两个数 一趟排序完成后，则无序区减少一个数，有序区增加一个数</p>
                    <figure class="highlight angelscript">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">@cal_time</span><br><span class="line">def bubble_sort(li: List[List]) -&gt; List:</span><br><span class="line">print(<span class="string">'初始列表'</span>, li)</span><br><span class="line">print(<span class="string">'初始列表长度：'</span>, len(li))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(li) - <span class="number">1</span>):  # 第i躺,总次数</span><br><span class="line">i += <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(li) - i - <span class="number">1</span>):  # 指针</span><br><span class="line">   <span class="keyword">if</span> li[j] &gt; li[j + <span class="number">1</span>]:  # 如果指针所对应的值大于对比的值，则二者交换位置</span><br><span class="line">       li[j], li[j + <span class="number">1</span>] = li[j + <span class="number">1</span>], li[j]</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line">print(f<span class="string">'冒泡排序第&#123;i&#125;次'</span>, li)</span><br><span class="line"></span><br><span class="line">li = [np.random.randint(<span class="number">0</span>, <span class="number">1000</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>)]</span><br><span class="line">bubble_sort(li)</span><br><span class="line"></span><br><span class="line">数据来源于numpy.randmo.randint()随机取数，运行流程：</span><br><span class="line">冒泡排序第<span class="number">1</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line">冒泡排序第<span class="number">2</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line">冒泡排序第<span class="number">3</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line">冒泡排序第<span class="number">4</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line">冒泡排序第<span class="number">5</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line">冒泡排序第<span class="number">6</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line">冒泡排序第<span class="number">7</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line">冒泡排序第<span class="number">8</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line">冒泡排序第<span class="number">9</span>次 [<span class="number">257</span>, <span class="number">620</span>, <span class="number">136</span>, <span class="number">379</span>, <span class="number">392</span>, <span class="number">118</span>, <span class="number">312</span>, <span class="number">892</span>, <span class="number">647</span>, <span class="number">655</span>]</span><br><span class="line"></span><br><span class="line"># 排序次数：列表长度<span class="number">-1</span>,</span><br><span class="line"># 缘由将无序区转化为有序区：(再看一遍以下这段代码， 如果li[j]&gt;li[j+<span class="number">1</span>],则二者交换位置）</span><br><span class="line"><span class="keyword">if</span> li[j] &gt; li[j + <span class="number">1</span>]: </span><br><span class="line">    li[j], li[j + <span class="number">1</span>] = li[j + <span class="number">1</span>], li[j]</span><br><span class="line"></span><br><span class="line"># 当一维数组长度为<span class="number">10000</span>的时候所需时间为：</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p><img src="https://img-blog.csdnimg.cn/20200720020710125.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d6cDcwODE=,size_16,color_FFFFFF,t_70#pic_center" alt="Runtime"> <strong>优化：</strong> 在一次回头看看冒泡排序具体实现思路，将<strong>列表每两个相邻的数，如果前面比后面大，则交换这两个数</strong>,<strong>一趟排序完成后，则无序区减少一个数，有序区增加一个数</strong>。 如果无序区已经是有序的呢？按照代码执行流程可知， 如果前者比后者大，那么则两个交换位置。（假设为降序，前面为无序区，后面为有序区） 否则不执行任何交换操作，但<strong>会执行便利</strong>（也可以理解为此运算”不执行任何交换操作，无实际意义”） 优化目标：(将“不执行任何交换的操作去掉”)，咱们在回头看看，具体实际的运算是在第二层for循环里面的，也就说所谓的“无用功”也是在这里产生的 无用功体现为：无论是否进行了位置交换，都会在往有序区在遍历检查一遍 思路如下： 主要优化的地方在跳出循环，在它不交换位置的时候，直接跳出此次的循环 假设它全部都是有序的，并设个标记True， 当如果循环内发生了位置交换，则改变标记为False。 流程控制，if。当if True的时则会执行if内部代码（设立return，或者break）主要跳出循环。避免对有序区进行有一次的排序操作 具体代码实现如下：</p>
                    <figure class="highlight stata">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">def bubble_sort(<span class="keyword">li</span>: <span class="keyword">List</span>):</span><br><span class="line">    <span class="keyword">print</span>(<span class="string">"The len of List:"</span>, len(<span class="keyword">li</span>))  # 输入数组长度</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">range</span>(len(<span class="keyword">li</span>) - 1):  # 保证输入的数组在计算范围类，此处的“-1”是因为索引=长度-1</span><br><span class="line">        flag = True</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="keyword">range</span>(len(<span class="keyword">li</span>) - i - 1):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">li</span>[j] &gt; <span class="keyword">li</span>[j + 1]:</span><br><span class="line">                <span class="keyword">li</span>[j + 1], <span class="keyword">li</span>[j] = <span class="keyword">li</span>[j], <span class="keyword">li</span>[j + 1]</span><br><span class="line">                flag = False</span><br><span class="line">            <span class="keyword">print</span>(<span class="string">"Sorting times:%d， Status：%s"</span> % (i + 1, <span class="keyword">li</span>))</span><br><span class="line">        <span class="keyword">if</span> flag:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                  </blockquote>
                  <p><strong>选择:</strong> <strong>插入:</strong></p>
                  <h5 id="Stronger"><a href="#Stronger" class="headerlink" title="Stronger"></a>Stronger</h5>
                  <blockquote>
                    <p>快速排序： 堆排序 归并排序</p>
                  </blockquote>
                  <h5 id="其他排序："><a href="#其他排序：" class="headerlink" title="其他排序："></a>其他排序：</h5>
                  <blockquote>
                    <p>希尔排序 计数排序 基数排序</p>
                  </blockquote>
                  <figure class="highlight kotlin">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">break</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><strong>选择:</strong> <strong>插入:</strong></p>
                  <h5 id="Stronger-1"><a href="#Stronger-1" class="headerlink" title="Stronger"></a>Stronger</h5>
                  <blockquote>
                    <p>快速排序： 堆排序 归并排序</p>
                  </blockquote>
                  <h5 id="其他排序：-1"><a href="#其他排序：-1" class="headerlink" title="其他排序："></a>其他排序：</h5>
                  <blockquote>
                    <p>希尔排序 计数排序 基数排序</p>
                  </blockquote>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-07-20 02:19:51" itemprop="dateCreated datePublished" datetime="2020-07-20T02:19:51+08:00">2020-07-20</time>
                </span>
                <span id="/9511.html" class="post-meta-item leancloud_visitors" data-flag-title="浅谈排序算法与优化（仅部分，Updating）" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>2.1k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>2 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9501.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 技术杂谈 <i class="label-arrow"></i>
                  </a>
                  <a href="/9501.html" class="post-title-link" itemprop="url">听说B站弹幕鬼畜多？我不信</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p><a href="https://github.com/Mr2753/PythonScrape/tree/master/Scrape_BiliBili/BiliBli" target="_blank" rel="noopener">欢迎Star的源码</a></p>
                  <blockquote>
                    <p>新入手，小白的我，在我眼里Request爬虫永远只有四大步，不服来辩？</p>
                    <ol>
                      <li>确定URL，构造请求头</li>
                      <li>发送请求，获取响应</li>
                      <li>解析响应，获取数据</li>
                      <li>保存数据</li>
                    </ol>
                  </blockquote>
                  <h4 id="目标：根据视频BV，获取B站视频弹幕"><a href="#目标：根据视频BV，获取B站视频弹幕" class="headerlink" title="目标：根据视频BV，获取B站视频弹幕"></a>目标：根据视频BV，获取B站视频弹幕</h4>
                  <p>代码地址如下： 抓包确定URL：</p>
                  <blockquote>
                    <h5 id="导入："><a href="#导入：" class="headerlink" title="导入："></a>导入：</h5>
                    <p>视频都有一个唯一区分视频：BV号 那么视频的URL规则为：’<a href="https://wwww.bilibili.com/video/BV{BVID" target="_blank" rel="noopener">https://wwww.bilibili.com/video/BV{BVID</a>}’ 找一下弹幕的地址,直接search，即可！如下 <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/07/list.so_.png" alt=""></p>
                    <p>由以上抓包可知，弹幕的URL：’<a href="https://api.bilibili.com/x/v1/dm/list.so?oid=oid" target="_blank" rel="noopener">https://api.bilibili.com/x/v1/dm/list.so?oid=oid</a>‘, 我们获取到oid那么这一步就完成了 来，回头去找一下oid从何而来呢？ 据老夫多年经验指引，他一定在视频URL里面。（其实当时也找了挺久的，甚至逆向那一手，断点调试、调用堆栈等等什么都用出来了。最终还是功夫不负有心人，找到了） 其实回头看，oid是等于video_URL页面里面的cid参数的（验证了Payne式猜想）。过程是难受的 <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/07/Find_cid.png" alt=""></p>
                  </blockquote>
                  <p>URL，其参数规则也找到了，那么还不就随我为所欲为了。只要拿到视频地址，那不就可以直接拿到弹幕了么。of course！</p>
                  <h3 id="此处省略3万字（请求，解析，网络原理。。。）"><a href="#此处省略3万字（请求，解析，网络原理。。。）" class="headerlink" title="此处省略3万字（请求，解析，网络原理。。。）"></a>此处省略3万字（请求，解析，网络原理。。。）</h3>
                  <p>其实当时知道两个方法都去试了，JS那个就不说了，有兴趣的盆友，可以去搞一下 说说这个提取cid参数吧，我用的是正则，这种情况最好是用正则，不过也看个人喜好吧。 可以回头看第二张图，初一乍看我好像不会，啊哈哈~ </p>
                  <blockquote>
                    <p>经过优化后（主要是看了其他视频的那啥之后）：写出这个神奇的正则</p>
                    <figure class="highlight ini">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="attr">cid</span> = re.findall(<span class="string">'.*?cid":+(d&#123;9&#125;)+'</span>, text)[<span class="number">0</span>] </span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                  </blockquote>
                  <p> 谢谢你认真看到了末尾，那我也写点私活吧。欢迎查阅源码与star</p>
                  <figure class="highlight mipsasm">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">其实关于很多网站（普通）的参数就算是有<span class="keyword">JS加密，以及混淆。并不代表就一定需要去解密，去逆向。有时候真的只需要serch一下惊喜多多，望诸君切记、切记。</span></span><br><span class="line"><span class="keyword">咱们解密，逆向，有时候完全即可做一个动态维持即可。例如我源码中的scrape </span>拉勾</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-07-15 22:48:07" itemprop="dateCreated datePublished" datetime="2020-07-15T22:48:07+08:00">2020-07-15</time>
                </span>
                <span id="/9501.html" class="post-meta-item leancloud_visitors" data-flag-title="听说B站弹幕鬼畜多？我不信" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>850</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9496.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/9496.html" class="post-title-link" itemprop="url">三探迭代、递归、循环</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h4 id="导入："><a href="#导入：" class="headerlink" title="导入："></a>导入：</h4>
                  <blockquote>
                    <h6 id="补充知识："><a href="#补充知识：" class="headerlink" title="补充知识："></a>补充知识：</h6>
                    <p>迭代、递归与循环：迭代与递归都是循环的子集，一个是取值推算，一个是不断的调用自己。 相同点：迭代、递归、循环都是“重复” 相似点：调用逻辑相似 不同点：我简单理解为迭代是根据自身的上一个值推算下一个值，而递归则是由上一个值与“己身”直接运算。循环是自身与外界计算 堆栈关系调用不同 当然也不能说谁好谁坏，只能说三者主针对不同</p>
                    <h5 id="来，来，来，翠花上栗子："><a href="#来，来，来，翠花上栗子：" class="headerlink" title="来，来，来，翠花上栗子："></a>来，来，来，翠花上栗子：</h5>
                    <p><strong>递归，归去来兮 ：</strong></p>
                    <figure class="highlight angelscript">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">def func(i):</span><br><span class="line">    i -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(i)</span><br><span class="line">        <span class="keyword">return</span> func(i)</span><br><span class="line"></span><br><span class="line">print(func(<span class="number">8</span>))</span><br><span class="line"># 输出结果：<span class="number">7</span>、<span class="number">6</span>、<span class="number">5</span>、<span class="number">4</span>、<span class="number">3</span>、<span class="number">2</span>、<span class="number">1</span></span><br><span class="line">print(func(<span class="number">4</span>))</span><br><span class="line"># 输出结果：<span class="number">3</span>、<span class="number">2</span>、<span class="number">1</span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p><strong>迭代，更新换代</strong>（单单以数值方面考虑，凸显堆栈方面就。。。）</p>
                    <figure class="highlight php">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment"># 迭代</span></span><br><span class="line"><span class="keyword">List</span> = [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>]</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">print</span>（<span class="keyword">List</span>[i]）</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="comment"># 循环、也有点递归的意思。小问题，小问题，这里探究迭代与循环</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>：</span><br><span class="line">  count = count + <span class="number">1</span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>个人思考及感悟：如何判断生成器与迭代器？：</p>
                    <figure class="highlight vim">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">区分循环、迭代</span><br><span class="line">循环：与外界计算，重复亦或者</span><br><span class="line"></span><br><span class="line">区分迭代器与生成器</span><br><span class="line">迭代器：</span><br><span class="line">可以被<span class="keyword">next</span>()函数调用并不断返回下一个值的对象称为迭代器</span><br><span class="line">生成器：</span><br><span class="line">不但可以作用于<span class="keyword">for</span>循环，还可以被<span class="keyword">next</span>()函数不断调用并返回下一个值，直到出现</span><br><span class="line">StopIteration</span><br><span class="line">可使用isinstance()方法判断是否是Iterator对象</span><br><span class="line"></span><br><span class="line">g = (i ** i <span class="keyword">for</span> i in <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>))</span><br><span class="line"><span class="keyword">print</span>(<span class="keyword">next</span>(g))</span><br><span class="line"><span class="keyword">print</span>(<span class="keyword">next</span>(g))</span><br><span class="line"><span class="keyword">print</span>(<span class="keyword">next</span>(g))</span><br><span class="line">。。。 。。。</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">j</span> in <span class="variable">g:</span></span><br><span class="line">    <span class="keyword">print</span>(<span class="keyword">j</span>)</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                  </blockquote>
                  <h4 id="迭代器是什么？"><a href="#迭代器是什么？" class="headerlink" title="迭代器是什么？"></a>迭代器是什么？</h4>
                  <blockquote>
                    <p>迭代取值的工具，迭代是个循环，但不是重复的过程。每次的值都基于上次的值而来。迭代是特殊的重复</p>
                  </blockquote>
                  <h4 id="迭代器能做什么？"><a href="#迭代器能做什么？" class="headerlink" title="迭代器能做什么？"></a>迭代器能做什么？</h4>
                  <blockquote>
                    <p>迭代取值；程序中用的比较多就是先存后取 用时在释放。释放next()函数，以及遍历</p>
                  </blockquote>
                  <h4 id="迭代器怎么使用？"><a href="#迭代器怎么使用？" class="headerlink" title="迭代器怎么使用？"></a>迭代器怎么使用？</h4>
                  <blockquote>
                    <p>​ next（可迭代对象） 或者 可迭代对象. next () 以及在函数中yield关键字</p>
                    <figure class="highlight python">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"starting..."</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        res = <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line">        print(<span class="string">"res:"</span>, res)</span><br><span class="line"></span><br><span class="line">g = foo()</span><br><span class="line">print(next(g))</span><br><span class="line">print(<span class="string">"*"</span> * <span class="number">20</span>)</span><br><span class="line">print(next(g))</span><br><span class="line">print(next(g))</span><br><span class="line">print(next(g))</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">starting...</span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string">********************</span></span><br><span class="line"><span class="string">res: None</span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string">res: None</span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string">res: None</span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string">'''</span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p><strong>带yield的函数是一个生成器，而不是一个函数了，这个生成器有一个函数就是next函数</strong></p>
                  </blockquote>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-07-15 04:53:07" itemprop="dateCreated datePublished" datetime="2020-07-15T04:53:07+08:00">2020-07-15</time>
                </span>
                <span id="/9496.html" class="post-meta-item leancloud_visitors" data-flag-title="三探迭代、递归、循环" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>1.2k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9489.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Python <i class="label-arrow"></i>
                  </a>
                  <a href="/9489.html" class="post-title-link" itemprop="url">重学算法与探究</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h4 id="写在最前面：本人也是个算法小白，如果有什么不对还望大佬指正，谢谢"><a href="#写在最前面：本人也是个算法小白，如果有什么不对还望大佬指正，谢谢" class="headerlink" title="写在最前面：本人也是个算法小白，如果有什么不对还望大佬指正，谢谢"></a>写在最前面：本人也是个算法小白，如果有什么不对还望大佬指正，谢谢</h4>
                  <h1 id="算法设计评价基本标准"><a href="#算法设计评价基本标准" class="headerlink" title="算法设计评价基本标准"></a>算法设计评价基本标准</h1>
                  <p>算法是对特定问题求解<strong>步骤</strong>的一种描述，如果将问题看作函数，那么算法是吧输入转化为输出</p>
                  <h4 id="算法"><a href="#算法" class="headerlink" title="算法:"></a>算法:</h4>
                  <p>是对特定问题求解步骤的一种描述，是为了解决一个或者一类问题给出的 一个确定的、有限长的操作序列。 算法的设计依赖于数据的存储结构，因此对确定的问题，应该需求子啊适宜的存储结构上设计出一种效率较高的算法</p>
                  <h4 id="算法的重要特性："><a href="#算法的重要特性：" class="headerlink" title="算法的重要特性："></a>算法的重要特性：</h4>
                  <h5 id="有穷性："><a href="#有穷性：" class="headerlink" title="有穷性："></a>有穷性：</h5>
                  <p>对于任何一组合法的输入值，在执行有穷步骤之后一定能结束，即算法中的操作步骤为有限个，并且每个步骤都能在有限的时间内完成</p>
                  <h5 id="确定性："><a href="#确定性：" class="headerlink" title="确定性："></a>确定性：</h5>
                  <p>对于每种情况下所应该执行的路径的操作，在算法中都有确切的规定，使算法的执行者或阅读者都能明确其含义及如何执行；并且在确切的条件下只有唯一一条执行流程路径</p>
                  <h5 id="可行性："><a href="#可行性：" class="headerlink" title="可行性："></a>可行性：</h5>
                  <p>算法中的所有操作都必须足够基本，都可以通过已经实现的基本运算执行有限次实现</p>
                  <h5 id="有输入"><a href="#有输入" class="headerlink" title="有输入:"></a>有输入:</h5>
                  <p>作为算法加工对象的量值，通常体现为算法中的一组变量。有些输入量需要在算法的执行过程中输入，而有些算法表面上没有输入，但实际上已被嵌入算法之中</p>
                  <h5 id="有输出："><a href="#有输出：" class="headerlink" title="有输出："></a>有输出：</h5>
                  <p>它是一组与“输入”有确定关系的量值，是算法进行信息加工够得到的结果。这种确定关系即为算法的功能</p>
                  <h4 id="算法设计目标："><a href="#算法设计目标：" class="headerlink" title="算法设计目标："></a>算法设计目标：</h4>
                  <h5 id="正确性："><a href="#正确性：" class="headerlink" title="正确性："></a>正确性：</h5>
                  <p><strong>算法应满足具体问题的需求，正确反映求解问题对输入、输出加工处理等方面的需求</strong></p>
                  <ol>
                    <li>程序中不含语法错误，计算的结果却不能满足规格说明要求。</li>
                    <li>程序对于特定的几组输入数据能够得出满足要求的结果，而对于其他的输入数据的不出正确的计算结果；</li>
                    <li>程序对于精心选择的、经典、苛刻且带有刁难性的几组输入数据能够得到满足需求的结果；（正确的算法）</li>
                    <li>程序对于一切合法的输入数据都能得出满足要求的结果</li>
                  </ol>
                  <h4 id="可读性："><a href="#可读性：" class="headerlink" title="可读性："></a>可读性：</h4>
                  <p><strong>算法处理用于编写程序子啊计算机上执行之外，另一个重要用处是阅读和交流。</strong> 算法中加入适当的注释，介绍算法的设计思路、各个模块的功能等一些必要性的说明文字来帮助读者理解算法。 <strong>要求:</strong> 算法中加入适当的注释，介绍算法的设计思路、各个模块的功能等一些必要性的说明文字来帮助读者理解算法 对算法中出现的各种自定义变量和类型能做到“见名知义”，即读者一看到某个变量（或类型名）就能知道其功能</p>
                  <h4 id="健壮性："><a href="#健壮性：" class="headerlink" title="健壮性："></a>健壮性：</h4>
                  <p>当输入数据非法时，算法能够适当地做出反应或进行处理，输出表示错误性质的信息并终止执行，而不会产生莫名其妙的输出结果。</p>
                  <h5 id="时间效率与存储占用量："><a href="#时间效率与存储占用量：" class="headerlink" title="时间效率与存储占用量："></a>时间效率与存储占用量：</h5>
                  <p>一般来说，求解同一个问题若有多种算法，则 执行时间短的算法效率高 占用存储空间少的算法较好 算法的执行时间开销和存储空间开销往往相互制约，对高时间效率和低存储占用的要求只能根据问题的性质折中处理</p>
                  <h1 id="算法复杂度"><a href="#算法复杂度" class="headerlink" title="算法复杂度"></a>算法复杂度</h1>
                  <h4 id="算法的时间复杂度："><a href="#算法的时间复杂度：" class="headerlink" title="算法的时间复杂度："></a>算法的时间复杂度：</h4>
                  <p>算法的效率指的是算法的执行时间随问题“规模”（通常用整型量n表示）的增长而增长的趋势 “规模”在此指的是输入量的数目，比如在排序问题中，问题的规模可以是被排序的元素数目 假如随着问题规模n的增长，算法执行时间的增长率和问题规模的增长率相同则可记为： T（n） = O（f(n)）</p>
                  <blockquote>
                    <p>f(n) 为问题规模n的某个函数； T（n）被称为算法的（渐进）时间复杂度（Time Complexity） O表示法不需要给出运行时间的精确值； 选择f（n），通常选择比较简单的函数形式，并忽略低次项和系数 常用的有O（1）、O（logn）、O（n）、O（nlogn）、O（n*n）等等 多项式时间复杂度的关系为： O(1) &lt; O(logn) &lt; O(n) &lt; O(N logn) &lt; O(n²) &lt; O(n³) 指数时间算法的关系为： O（2(n方)）&lt; O(n!) &lt;O(n(n方))</p>
                  </blockquote>
                  <p>由于估算算法时间复杂度关心的只是算法执行时间的增长率而不是绝对时间，因此可以忽略一些因素。 方法：从算法中选取一种对于所研究的问题来说是“<strong>基本操作”</strong>的原操作，以该“基本操作”在算法中重复执行的次数作为算法时间复杂度的依据。 EG：</p>
                  <blockquote>
                    <p>两个n x n 的矩阵相乘，求其时间复杂度</p>
                    <figure class="highlight ada">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">range</span>(<span class="number">10</span>):</span><br><span class="line">      <span class="keyword">for</span> j <span class="keyword">in</span> <span class="keyword">range</span>(<span class="number">10</span>): </span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>问题规模是矩阵的阶n,算法的控制结构式三重循环，基本操作是乘法操作 乘法执行次数为n³，则算法的时间复杂度为O(n³)</p>
                  </blockquote>
                  <h4 id="算法的空间复杂度："><a href="#算法的空间复杂度：" class="headerlink" title="算法的空间复杂度："></a>算法的空间复杂度：</h4>
                  <p>算法在执行期间所需要的存储量包括：</p>
                  <ol>
                    <li>程序代码所占用空间</li>
                    <li>输入数据所占用空间</li>
                    <li>辅助变量所占用的空间</li>
                  </ol>
                  <blockquote>
                    <p>为了降低复杂度，一个直观的思路是：梳理程序，看其流程中是否有无效的计算或者无效的存储。我们需要从时间复杂度和空间复杂度两个维度来考虑。 常用的降低时间复杂度的方法有递归、二分法、排序算法、动态规划等， 降低空间复杂度的方法，就要围绕数据结构做文章了。 降低空间复杂度的核心思路就是，能用低复杂度的数据结构能解决问题，就千万不要用高复杂度的数据结构。</p>
                  </blockquote>
                  <h4 id="如何评定一个程序算法的好坏？"><a href="#如何评定一个程序算法的好坏？" class="headerlink" title="如何评定一个程序算法的好坏？"></a>如何评定一个程序算法的好坏？</h4>
                  <p>简而言之：在符合算法设计标准的前提下，运行的更快、所用计算资源更少。即是更好的算法</p>
                  <blockquote>
                    <p>请注意这里的比较级别词<strong>更</strong>！！！，对于算法，个人认为就是获得同一结果的同时探究<strong>最优</strong>解决之道</p>
                  </blockquote>
                  <h5 id="探究算法优化（自我一点点小体悟-个人能力有限）"><a href="#探究算法优化（自我一点点小体悟-个人能力有限）" class="headerlink" title="探究算法优化（自我一点点小体悟-个人能力有限）"></a>探究算法优化（自我一点点小体悟-个人能力有限）</h5>
                  <blockquote>
                    <ol>
                      <li>
                        <p>抽象化：将<strong>不必要</strong>的计算过程去掉</p>
                        <blockquote>
                          <p>利用高斯算法解决累计求和问题</p>
                        </blockquote>
                      </li>
                      <li>
                        <p>慎选各<strong>数据结构</strong>，善用<strong>第三方</strong>算法</p>
                        <blockquote>
                          <p>去重： 善用迭代什么的等等 使用字典的特性-不可重复性 布隆过滤器去重（源于哈希算法）</p>
                        </blockquote>
                      </li>
                      <li>
                        <p>时空转换：将<strong>昂贵的</strong>时间转化为<strong>廉价的</strong>空间</p>
                        <blockquote>
                          <p>当‘优无可优时’,取贵舍廉 空间是可以用<strong>钱</strong>买的，加个什么<strong>内存</strong>啊，加个<strong>处理器</strong>等等什么的 时间是逝去就不在了</p>
                        </blockquote>
                        <p>以上仅仅个人的一点点小灵感，望大家不喜勿喷</p>
                      </li>
                    </ol>
                  </blockquote>
                  <p>说了这么多，来道简单的算法题目导入（同一计算机，i5, python） <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/07/电脑类型.png" alt=""> 需求如下：累计求和1-n的值(1. 为防止误差，验证10次; 2. 验证每次计算次数)</p>
                  <figure class="highlight applescript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="comment"># 在同一空间复杂下(也就是说没有迭代，探究暴力解法与高斯算法)</span></span><br><span class="line"><span class="comment"># n = 100000</span></span><br><span class="line"><span class="comment"># Method one 代码如下</span></span><br><span class="line">def func(n):</span><br><span class="line">    start = <span class="built_in">time</span>.<span class="built_in">time</span>()</span><br><span class="line">    <span class="built_in">count</span> = <span class="number">0</span></span><br><span class="line">    theSum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n + <span class="number">1</span>):</span><br><span class="line">        theSum = theSum + n</span><br><span class="line">        <span class="built_in">count</span> += <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span> = <span class="built_in">time</span>.<span class="built_in">time</span>()</span><br><span class="line"><span class="built_in">    return</span> theSum, <span class="keyword">end</span> - start, <span class="built_in">count</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    print(f<span class="string">"Sum is %d Required %10.10f seconds count = %d"</span> % func(<span class="number">10000</span>))</span><br><span class="line"><span class="comment"># %10.10f 表示取10位小数，运行结果如下</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <blockquote>
                    <p>Sum is 100010000 Required 0.0010061264 seconds count = 10001 Sum is 100010000 Required 0.0009891987 seconds count = 10001 Sum is 100010000 Required 0.0000000000 seconds count = 10001 Sum is 100010000 Required 0.0010235310 seconds count = 10001 Sum is 100010000 Required 0.0009710789 seconds count = 10001 Sum is 100010000 Required 0.0000000000 seconds count = 10001 Sum is 100010000 Required 0.0009973049 seconds count = 10001 Sum is 100010000 Required 0.0010013580 seconds count = 10001 Sum is 100010000 Required 0.0000000000 seconds count = 10001 Sum is 100010000 Required 0.0019786358 seconds count = 10001 探究可知：n扩大10倍，运算时间也会扩大10倍 高斯算法，从1累加至n,等于(首项+尾项)<em>项数/2 直接引用结论: 1+2+3+…+(n-1) +n={（1+n）+（2+（n-1））…}/2 = （n</em> （n + 1））/2</p>
                  </blockquote>
                  <figure class="highlight pgsql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"># Gaussian算法，无迭代算法</span><br><span class="line">def fun1(n):</span><br><span class="line">    start = <span class="type">int</span>(<span class="type">time</span>.time())</span><br><span class="line">    theSum = (n * (n + <span class="number">1</span>)) / <span class="number">2</span></span><br><span class="line">    end = <span class="type">int</span>(<span class="type">time</span>.time())</span><br><span class="line">    <span class="keyword">return</span> theSum, <span class="keyword">end</span> - <span class="keyword">start</span>, n / <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000000</span>):</span><br><span class="line">    print(f"Sum is %d Required %10.100f seconds count = %d" % fun1(<span class="number">50</span>**<span class="number">100</span>))</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <blockquote>
                    <p><strong>计算结果如下：</strong> 循环计算10000次，出去I/O所需时间几乎可以不计。 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.0000000000000000000000000000000000000000000000000123123000000000000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.000000000000000000000000000000000000000000000000012332100000000000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.00000000000000000000000000000000000000000000000000000002310000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.000000000000000000000000000000000000000000000000000000010032000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.0000000000000000000000000000000000000000000000012231300000000000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552 Sum is 49999999999999998486656110625518082973725163772751181324120875475173424217777037767098169202353125934013756207986941204091067867184139242319692520523619938935511795533394990905590906653083564427444224 Required 0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 seconds count = 5000000000000000079514455548799590234180404281972640694890663778873919386085190530406734992928407552</p>
                  </blockquote>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-07-14 02:51:59" itemprop="dateCreated datePublished" datetime="2020-07-14T02:51:59+08:00">2020-07-14</time>
                </span>
                <span id="/9489.html" class="post-meta-item leancloud_visitors" data-flag-title="重学算法与探究" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>7.7k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>7 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9484.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Python <i class="label-arrow"></i>
                  </a>
                  <a href="/9484.html" class="post-title-link" itemprop="url">网络爬虫工程师面试小笔记</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h1 id="网络爬虫工程师面试小笔记"><a href="#网络爬虫工程师面试小笔记" class="headerlink" title="网络爬虫工程师面试小笔记"></a>网络爬虫工程师面试小笔记</h1>
                  <p>————小企业，7K至10k版，面试总结。Payne</p>
                  <h4 id="面试题之一：Python单例模式"><a href="#面试题之一：Python单例模式" class="headerlink" title="面试题之一：Python单例模式"></a><strong>面试题之一：Python单例模式</strong></h4>
                  <ol>
                    <li>
                      <h5 id="什么是Python的单例模式？"><a href="#什么是Python的单例模式？" class="headerlink" title="什么是Python的单例模式？"></a>什么是Python的单例模式？</h5>
                    </li>
                  </ol>
                  <blockquote>
                    <p>单例模式（Singleton Pattern）是一种常用的软件设计模式，该模式主要目的是<strong>确保某一个类只有一个实例存在</strong>。当希望在整个系统中，某个类只能出现一个实例时，单例对象就派上用场了。 面向对象编程单例模式，保证了在程序运行中该类<strong>只实例化一次</strong>，并提供了一个全局访问点 Python的模块就是天然的单例模式 当模块在第一次导入时，就会生成 <strong>.pyc</strong> 文件 当第二次导入时就会<strong>直接先加载 .pyc</strong> 文件，而不会再次执行模块代码。 我们只需把相关函数和数据定义在一个模块中，就可以获得一个单例对象。</p>
                  </blockquote>
                  <ol>
                    <li>
                      <h5 id="如何实现单例模式？"><a href="#如何实现单例模式？" class="headerlink" title="如何实现单例模式？"></a>如何实现单例模式？</h5>
                    </li>
                  </ol>
                  <blockquote>
                    <h6 id="1-基于类："><a href="#1-基于类：" class="headerlink" title="1.基于类："></a><strong>1.基于类：</strong></h6>
                    <figure class="highlight python">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># def __new__(slef):类方法</span></span><br><span class="line">        <span class="comment"># pass </span></span><br><span class="line">        <span class="comment"># 当我们没写时默认调用object__new__方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 然后在执行类的实例化对象：__init__</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span> <span class="comment"># 实例方法</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">instance</span><span class="params">(cls, *args,**kwargs)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> has attr(Singleton,<span class="string">"_instance"</span>):</span><br><span class="line">            Singleton._instance = Singleton(*args,**kwargs)</span><br><span class="line">        <span class="keyword">return</span> Singleton._intance</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>此时是以完成了一个简单的单例模式<strong>案例</strong>，But实际开发中随时凉凉 举例说明：</p>
                    <figure class="highlight reasonml">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">class</span> <span class="constructor">Singleton(<span class="params">object</span>)</span>:</span><br><span class="line"></span><br><span class="line">    def <span class="constructor">__init__(<span class="params">self</span>)</span>:</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    def instance(cls, *args, **kwargs):</span><br><span class="line">        <span class="keyword">if</span> not hasattr(Singleton, <span class="string">"_instance"</span>):</span><br><span class="line">            <span class="module-access"><span class="module"><span class="identifier">Singleton</span>.</span><span class="module"><span class="identifier">_instance</span> </span></span>= <span class="constructor">Singleton(<span class="operator">*</span><span class="params">args</span>, <span class="operator">**</span><span class="params">kwargs</span>)</span></span><br><span class="line">        return <span class="module-access"><span class="module"><span class="identifier">Singleton</span>.</span><span class="module"><span class="identifier">_instance</span></span></span></span><br><span class="line"><span class="module-access"><span class="module"></span></span></span><br><span class="line"><span class="module-access"><span class="module">i</span></span>mport threading</span><br><span class="line"></span><br><span class="line">def task(arg):</span><br><span class="line">    obj = <span class="module-access"><span class="module"><span class="identifier">Singleton</span>.</span></span>instance<span class="literal">()</span></span><br><span class="line">    print(obj)</span><br><span class="line"></span><br><span class="line">for i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    t = threading.<span class="constructor">Thread(<span class="params">target</span>=<span class="params">task</span>,<span class="params">args</span>=[<span class="params">i</span>,])</span></span><br><span class="line">    t.start<span class="literal">()</span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>当然此时也并没有什么问题，BUT在’ init ‘方法中加入I/O（input/output）操作就凉凉了 问题出现了，按照以上方式创建的单例无法支持<strong>多线程</strong> 缘由：Python中实例化对象与初始化对象是分开执行的，又由于多线程之间是通信共享的，故出现线程安全问题。主要体现为，create一个之后kill一个，create一个又被kill一个。所以就。。。 解决思路一：相互独立，分而治之。加锁独立 也就是咱们所了解、知道的线程锁的概念，使得其无序变为相对有序。具体代码便不在此赘述 在看看思路一(相互独立，分而治之。加锁独立) 解决思路二：‘反’实例化，加锁保护独立，确保通用性 在Python3中，调用父类方法是为super()，那么是否可以增加判断： 当类属性不为空时，我们便不在实例化且返回一个<strong>已实例化</strong>的类属性。这样还是不太完美，带有局限性。进一步加锁保护优化以保障多线程情况下只有一个线程同时访问。这样就保障了单例的安全 <strong>基于 new 方法实现！！！</strong></p>
                    <figure class="highlight markdown">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">在回到基于类的第一个代码块，并详细查看其注释。</span><br><span class="line">实例化一个对象是先执行了类的<span class="strong">__new__</span>方法（若未写执行object.<span class="strong">__new__</span>），实例化对象；然后子啊执行类的<span class="strong">__init__</span>方法，对这个对象进行初始化。基于此实现单例。</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <ol>
                      <li>
                        <h6 id="基于装饰器"><a href="#基于装饰器" class="headerlink" title="基于装饰器"></a>基于装饰器</h6>
                      </li>
                    </ol>
                    <p>使用装饰器实现，实例如下：</p>
                    <figure class="highlight ruby">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Singleton</span><span class="params">(cls)</span></span><span class="symbol">:</span></span><br><span class="line">    _instance = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_singleton</span><span class="params">(*args, **kargs)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">if</span> cls <span class="keyword">not</span> <span class="keyword">in</span> <span class="symbol">_instance:</span></span><br><span class="line">            _instance[cls] = cls(*args, **kargs)</span><br><span class="line">        <span class="keyword">return</span> _instance[cls]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> _singleton</span><br><span class="line"></span><br><span class="line">@Singleton</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="title">object</span>):</span></span><br><span class="line">    a = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, x=<span class="number">0</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line"></span><br><span class="line">a1 = A(<span class="number">2</span>)</span><br><span class="line">a2 = A(<span class="number">3</span>)</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <ol>
                      <li>
                        <h6 id="使用模块的方法"><a href="#使用模块的方法" class="headerlink" title="使用模块的方法"></a>使用模块的方法</h6>
                      </li>
                    </ol>
                    <p>书写代码(并保存在Singleton.py中)：</p>
                    <figure class="highlight angelscript">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">class</span> <span class="symbol">Singleton</span>(<span class="symbol">object</span>):</span><br><span class="line">  <span class="symbol">def</span> <span class="symbol">func</span>(<span class="symbol">self</span>):</span><br><span class="line">        <span class="symbol">pass</span></span><br><span class="line"><span class="symbol">singleton</span> = <span class="symbol">Sinleton</span>()</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>// from * import singleton 需使用时，直接在其他文件中导入此文件中的对象，那么这个对象即是单例模式对象 还有个基于元类的就没书写了具体请看：<a href="https://blog.csdn.net/weixin_44239343/article/details/89376796" target="_blank" rel="noopener">https://blog.csdn.net/weixin_44239343/article/details/89376796</a></p>
                  </blockquote>
                  <h4 id="面试题之二：Redis有几种数据类型？"><a href="#面试题之二：Redis有几种数据类型？" class="headerlink" title="面试题之二：Redis有几种数据类型？"></a>面试题之二：Redis有几种数据类型？</h4>
                  <blockquote>
                    <p>如果是单单是Redis那么<strong>常用数据类型为五种</strong> 他们分别是：String，List，hash，set，zset String：字符串，一个字符串Value最多可以是512M Hash：哈希，是一个String类型的field和Value的映射表 List：列表，时间是链表 Set：集合是一个String类型无序无重复集合，其通过Hash Table实现 Zset（sorted）：有序集合 那么应聘时，请注意这个小坑，你<strong>Python</strong>使用Redis又几种数据类型? 这个是基于语言来回答的，所用语言+Redis数据类型杂糅 Number,String，list，tuple（这个不确定），dict，aggregate 同时又涉语言所拥有的数据类型与redis，一样的就<strong>‘合二为一’</strong>嘛 以Python为例，稍后继续探究这（6+5）之间的杂糅，dict与aggregate其二者区别为主（其实我也不晓得更深的了）。以及1对1，1对多，多对1。数据结构搞起来，然后哼哼~。</p>
                  </blockquote>
                  <h4 id="面试题之三：Scrapy框架的运行流程及各模块的作用"><a href="#面试题之三：Scrapy框架的运行流程及各模块的作用" class="headerlink" title="面试题之三：Scrapy框架的运行流程及各模块的作用"></a>面试题之三：Scrapy框架的运行流程及各模块的作用</h4>
                  <blockquote>
                    <p>如果简历里面写了分布式会拓展scrapy-Redis架构以及其作用。 CAP理论，估计会扯到数据这块。拓展database什么特性啊，之类的。谈优化，谈数据结构。反正数据结构与算法这块，基于此，难于此，也凉于此</p>
                  </blockquote>
                  <h4 id="面试题之四：scrapy去重所用的几种机制"><a href="#面试题之四：scrapy去重所用的几种机制" class="headerlink" title="面试题之四：scrapy去重所用的几种机制"></a>面试题之四：scrapy去重所用的几种机制</h4>
                  <p>谨记：先从scrapy本身的去重原理及机制说起来，最基础，优缺点，去重原理等等。一步步来，一上来就BloonFilter，风险不小啊 对于此，自我总结如下：</p>
                  <blockquote>
                    <p>1、scrapy 基于内存</p>
                    <figure class="highlight routeros">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">scrapy源码中可以找到一个dupefilters.py去重器;</span><br><span class="line"></span><br><span class="line">需要将dont_filter设置为<span class="literal">False</span>开启去重，默认是<span class="literal">True</span>，没有开启去重；</span><br><span class="line"></span><br><span class="line">对于每一个url的请求，调度器都会根据请求得相关信息加密得到一个指纹信息，并且将指纹信息和<span class="builtin-name">set</span>()集合中的指纹信息进 行 比对，如果<span class="builtin-name">set</span>()集合中已经存在这个数据，就不在将这个Request放入队列中;</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>2、redis 基于内存 更加快捷、速度快、易于管理</p>
                    <figure class="highlight plain">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">不说了，前面是叩门砖，Redis就是决胜之地，没啥可讲的，会的基本都会，不会的我也不会，在深挖其原理数据结构，估计得喝上一点，也怕自己一不小心怕给扯飞了</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>3、布隆过滤器 大 可能存在拥有一定的错误率</p>
                    <figure class="highlight plain">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">加分项，是满分还是SSS+。</span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p><strong>对于此面试个人总结如下：</strong> 源于基础，死于基础（数据结构及类型， 以及算法） 知识点：点串线，线成面。 自己也还有很长一段路走，加油，加油~</p>
                  </blockquote>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-07-07 03:57:28" itemprop="dateCreated datePublished" datetime="2020-07-07T03:57:28+08:00">2020-07-07</time>
                </span>
                <span id="/9484.html" class="post-meta-item leancloud_visitors" data-flag-title="网络爬虫工程师面试小笔记" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>3.1k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>3 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9479.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 技术杂谈 <i class="label-arrow"></i>
                  </a>
                  <a href="/9479.html" class="post-title-link" itemprop="url">发布一个智能解析框架 Gerapy Auto Extractor</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>之前我写过几篇文章介绍过有关爬虫的智能解析算法，包括商业化应用 Diffbot、Readability、Newspaper 这些库，另外我有一位朋友之前还专门针对新闻正文的提取算法 GeneralNewsExtractor，这段时间我也参考和研究了一下这些库的算法，同时参考一些论文，也写了一个智能解析库，在这里就做一个非正式的介绍。</p>
                  <h2 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h2>
                  <p>那首先说说我想做的是什么。 比如这里有一个网站，网易新闻，<a href="https://news.163.com/rank/，这里有个新闻列表，预览图如下" target="_blank" rel="noopener">https://news.163.com/rank/，这里有个新闻列表，预览图如下</a>： <img src="https://qiniu.cuiqingcai.com/bt2xa.png" alt="image-20200705212920277"> 任意点开一篇新闻，看到的结果如下： <img src="https://qiniu.cuiqingcai.com/p0fyb.png" alt="image-20200705213058853"> 我现在需要做到的是在不编写任何 XPath、Selector 的情况下实现下面信息的提取： 对于列表页来说，我要提取新闻的所有标题列表和对应的链接，它们就是图中的红色区域： <img src="https://qiniu.cuiqingcai.com/feupo.png" alt="image-20200705213401471"> 这里红色区域分了多个区块，比如这里一共就是 40 个链接，我都需要提取出来，包括标题的名称，标题的 URL。 我们看到页面里面还有很多无用的链接，如上图绿色区域，包括分类、内部导航等，这些需要排除掉。 对于详情页，我主要关心的内容有标题、发布时间、正文内容，它们就是图中红色区域： <img src="https://qiniu.cuiqingcai.com/er8ay.png" alt="image-20200705213723198"> 其中这里也带有一些干扰项，比如绿色区域的侧边栏的内容，无用的分享链接等。 总之，我想实现某种算法，实现如上两大部分的智能化提取。</p>
                  <h2 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h2>
                  <p>之前我开发了一个叫做 Gerapy <a href="https://github.com/Gerapy/Gerapy" target="_blank" rel="noopener">https://github.com/Gerapy/Gerapy</a> 的框架，是一个基于 Scrapy、Scrapyd 的分布式爬虫管理框架，属 1.x 版本。现在正在开发 Gerapy 2.x 版本，其定位转向了 Scrapy 的可视化配置和调试、智能化解析方向，放弃支持 Scraypd，转而支持 Docker、Kubernetes 的部署和监控。 对于智能解析来说，就像刚才说的，我期望的就是上述的功能，在不编写任何 XPath 和 Selector 的情况下实现页面关键内容的提取。 框架现在发布了第一个初步版本，名称叫做 Gerapy Auto Extractor，名字 Gerapy 相关，也会作为 Gerapy 的其中一个模块。 GitHub 链接：<a href="https://github.com/Gerapy/GerapyAutoExtractor" target="_blank" rel="noopener">https://github.com/Gerapy/GerapyAutoExtractor</a> 现在已经发布了 PyPi，<a href="https://pypi.org/project/gerapy-auto-extractor/，可以使用" target="_blank" rel="noopener">https://pypi.org/project/gerapy-auto-extractor/，可以使用</a> pip3 来安装，安装方式如下：</p>
                  <figure class="highlight sql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">pip3 <span class="keyword">install</span> gerapy-<span class="keyword">auto</span>-extractor</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>安装完了之后我们就可以导入使用了。</p>
                  <h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2>
                  <p>下面简单介绍下它的功能，它能够做到列表页和详情页的解析。 列表页：</p>
                  <ul>
                    <li>标题内容</li>
                    <li>标题链接</li>
                  </ul>
                  <p>详情页：</p>
                  <ul>
                    <li>标题</li>
                    <li>正文</li>
                    <li>发布时间</li>
                  </ul>
                  <p>先暂时实现了如上内容的提取，其他字段的提取暂时还未实现。</p>
                  <h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2>
                  <p>要使用 Gerapy Auto Extractor，前提我们必须要先获得 HTML 代码，注意这个 HTML 代码是我们在浏览器里面看到的内容，是整个页面渲染完成之后的代码。在某些情况下如果我们简单用「查看源代码」或 requests 请求获取到的源码并不是真正渲染完成后的 HTML 代码。 要获取完整 HTML 代码可以在浏览器开发者工具，打开 Elements 选项卡，然后复制你所看到的 HTML 内容即可。 先测试下列表页，比如我把 <a href="https://news.163.com/rank/" target="_blank" rel="noopener">https://news.163.com/rank/</a> 这个保存为 list.html， <img src="https://qiniu.cuiqingcai.com/rsxk6.png" alt="image-20200705220428754"> 然后编写提取代码如下：</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">import json</span><br><span class="line"><span class="keyword">from</span> gerapy_auto_extractor.extractors.list import extract_list</span><br><span class="line"></span><br><span class="line">html = open(<span class="string">'list.html'</span>, <span class="attribute">encoding</span>=<span class="string">'utf-8'</span>).read()</span><br><span class="line"><span class="builtin-name">print</span>(json.dumps(extract_list(html), <span class="attribute">indent</span>=2, <span class="attribute">ensure_ascii</span>=<span class="literal">False</span>, <span class="attribute">default</span>=str))</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>就是这么简单，核心代码就一行，就是调用了一个 extract_list 方法。 运行结果如下：</p>
                  <figure class="highlight json">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"1家6口5年"</span>结离婚<span class="string">"10次:儿媳"</span>嫁<span class="string">"公公岳"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://news.163.com/20/0705/05/FGOFE1HJ0001875P.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">""</span>港独<span class="string">"议员泼水阻碍教科书议题林郑月娥深夜斥责"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://news.163.com/20/0705/02/FGO66FU90001899O.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"感动中国致敬留德女学生:街头怒怼"</span>港独<span class="string">"有理有"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://news.163.com/20/0705/08/FGOPG3AM0001899O.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"香港名医讽刺港警流血少过月经受访时辩称遭盗号"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://news.163.com/20/0705/01/FGO42EK90001875O.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"李晨独居北京复式豪宅没想到肌肉男喜欢小花椅子"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://home.163.com/20/0705/07/FGOLER1200108GL2.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"不战东京!林丹官宣退役正式结束20年职业生涯"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://sports.163.com/20/0704/12/FGML920300058782.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"香港美女搬运工月薪1.6万每月花6千租5平出租"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://home.163.com/20/0705/07/FGOLEL1100108GL2.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"杭州第一大P2P"</span>凉了<span class="string">":近百亿未还!被警方立案"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://money.163.com/20/0705/07/FGON5T7B00259DLP.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>可以看到想要的内容就提取出来了，结果是一个列表，包含标题内容和标题链接两个字段，由于内容过长，这里就省略了一部分。 接着我们再测试下正文的提取，随便打开一篇文章，比如 <a href="https://news.ifeng.com/c/7xrdz0kysde，保存下" target="_blank" rel="noopener">https://news.ifeng.com/c/7xrdz0kysde，保存下</a> HTML，命名为 detail.html。 <img src="https://qiniu.cuiqingcai.com/cjnaf.png" alt="image-20200705222433951"> 编写测试代码如下：</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">import json</span><br><span class="line"><span class="keyword">from</span> gerapy_auto_extractor.extractors import extract_detail</span><br><span class="line">html = open(<span class="string">'detail.html'</span>, <span class="attribute">encoding</span>=<span class="string">'utf-8'</span>).read()</span><br><span class="line"><span class="builtin-name">print</span>(json.dumps(extract_detail(html), <span class="attribute">indent</span>=2, <span class="attribute">ensure_ascii</span>=<span class="literal">False</span>, <span class="attribute">default</span>=str))</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>运行结果如下：</p>
                  <figure class="highlight json">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"title"</span>: <span class="string">"内蒙古巴彦淖尔发布鼠疫疫情Ⅲ级预警"</span>,</span><br><span class="line">  <span class="attr">"datetime"</span>: <span class="string">"2020-07-05 18:54:15"</span>,</span><br><span class="line">  <span class="attr">"content"</span>: <span class="string">"2020年7月4日，乌拉特中旗人民医院报告了1例疑似腺鼠疫病例，根据《内蒙古自治区鼠疫疫情预警实施方案》（内鼠防应急发﹝2020﹞7号）和《自治区鼠疫控制应急预案（2020年版）》（内政办发﹝2020﹞17号）的要求，经研究决定，于7月5日发布鼠疫防控Ⅲ级预警信息如下：n一、预警级别及起始时间n预警级别：Ⅲ级。n2020年7月5日起进入预警期，预警时间从本预警通告发布之日持续到2020年底。n二、注意事项n当前我市存在人间鼠疫疫情传播的风险，请广大公众严格按照鼠疫防控“三不三报”的要求，切实做好个人防护，提高自我防护意识和能力。不私自捕猎疫源动物、不剥食疫源动物、不私自携带疫源动物及其产品出疫区；发现病（死）旱獭及其他动物要报告、发现疑似鼠疫病人要报告、发现不明原因的高热病人和急死病人要报告。要谨慎进入鼠疫疫源地，如有鼠疫疫源地的旅居史，出现发热等不适症状时及时赴定点医院就诊。n按照国家、自治区鼠疫控制应急预案的要求，市卫生健康委将根据鼠疫疫情预警的分级，及时发布和调整预警信息。n巴彦淖尔市卫生健康委员会n2020年7月5日n来源：巴彦淖尔市卫生健康委员会"</span></span><br><span class="line">&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>成功输出了标题、正文、发布时间等内容。 这里就演示了基本的列表页、详情页的提取操作。</p>
                  <h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2>
                  <p>整个算法的实现比较杂，我看了几篇论文和几个项目的源码，然后经过一些修改实现的。 其中列表页解析的参考论文：</p>
                  <ul>
                    <li><a href="http://www.cnki.com.cn/Article/CJFDTotal-JSYJ201509023.htm" target="_blank" rel="noopener">面向不规则列表的网页数据抽取技术的研究</a></li>
                    <li><a href="https://kns.cnki.net/kcms/detail/detail.aspx?filename=PZKX201708010&amp;dbcode=CJFQ&amp;dbname=CJFD2017&amp;v=" target="_blank" rel="noopener">基于块密度加权标签路径特征的Web新闻在线抽取</a></li>
                  </ul>
                  <p>详情页解析的参考论文和项目：</p>
                  <ul>
                    <li><a href="https://kns.cnki.net/KCMS/detail/detail.aspx?dbcode=CJFQ&amp;dbname=CJFDLAST2019&amp;filename=GWDZ201908029&amp;v=MDY4MTRxVHJXTTFGckNVUkxPZmJ1Wm5GQ2poVXJyQklqclBkTEc0SDlqTXA0OUhiWVI4ZVgxTHV4WVM3RGgxVDM=" target="_blank" rel="noopener">基于文本及符号密度的网页正文提取方法</a></li>
                    <li><a href="https://github.com/kingname/GeneralNewsExtractor" target="_blank" rel="noopener">GeneralNewsExtractor</a></li>
                  </ul>
                  <p>这些都是不完全参考，然后加上自己的一些修改最终才形成了现在的结果。 算法在这里就几句话描述一下思路，暂时先不展开讲了。 列表页解析：</p>
                  <ul>
                    <li>找到具有公共父节点的连续相邻子节点，父节点作为候选节点。</li>
                    <li>根据节点特征进行聚类融合，将符合条件的父节点融合在一起。</li>
                    <li>根据节点的特征、文本密度、视觉信息（尚未实现）挑选最优父节点。</li>
                    <li>从最优父节点内根据标题特征提取标题。</li>
                  </ul>
                  <p>详情页解析：</p>
                  <ul>
                    <li>标题根据 meta、title、h 节点综合提取</li>
                    <li>时间根据 meta、正则信息综合提取</li>
                    <li>正文根据文本密度、符号密度、视觉信息（尚未实现）综合提取。</li>
                  </ul>
                  <p>后面等完善了之后再详细介绍算法的具体实现，现在如感兴趣可以去看源码。</p>
                  <h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2>
                  <p>本框架仅仅发布了最初测试版本，测试覆盖度比较少，目前仅仅测试了有限的几个网站，尚未大规模测试和添加对比实验，因此准确率现在还没有标准的保证。 参考：关于详情页正文的提取我主要参考了 <a href="https://github.com/kingname/GeneralNewsExtractor" target="_blank" rel="noopener">GeneralNewsExtractor</a> 这个项目，原项目据测试可以达到 90% 以上的准确率。 列表页我测试了腾讯、网易、知乎等都是可以顺利提取的，如： <img src="https://qiniu.cuiqingcai.com/9cqi4.png" alt="19841593922229_.pic_hd"> <img src="https://qiniu.cuiqingcai.com/d0bsb.png" alt="image-20200705224404571"> <img src="https://qiniu.cuiqingcai.com/deq3p.png" alt="image-20200705224419759"> 后面会有大规模测试和修正。 项目初版，肯定存在很多不足，希望大家可以多发 Issue 和提 PR。 另外这里建立了一个 Gerapy 开发交流群，之前在 QQ 群的也欢迎加入，以后交流就在微信群了，大家在使用过程遇到关于 Gerapy、Gerapy Auto Extractor 的问题欢迎交流。 这里放一个临时二维码，后期可能会失效，失效后大家可以到公众号「进击的Coder」获取加群方式。 <img src="https://qiniu.cuiqingcai.com/fhh5v.png" alt="image-20200705225922008"></p>
                  <h2 id="待开发功能"><a href="#待开发功能" class="headerlink" title="待开发功能"></a>待开发功能</h2>
                  <ul>
                    <li>视觉信息的融合</li>
                    <li>文本相似度的融合</li>
                    <li>分类模型的融合</li>
                    <li>下一页翻页的信息提取</li>
                    <li>正文图片、视频的提取</li>
                    <li>对接 Gerapy</li>
                  </ul>
                  <p>最后感谢大家的支持！</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-07-05 23:42:06" itemprop="dateCreated datePublished" datetime="2020-07-05T23:42:06+08:00">2020-07-05</time>
                </span>
                <span id="/9479.html" class="post-meta-item leancloud_visitors" data-flag-title="发布一个智能解析框架 Gerapy Auto Extractor" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>4.3k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>4 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9476.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 技术杂谈 <i class="label-arrow"></i>
                  </a>
                  <a href="/9476.html" class="post-title-link" itemprop="url">Mac 终端 Git Status 显示中文乱码</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>最近遇到 Mac 的 Git Status 显示中文乱码的问题，类似：</p>
                  <figure class="highlight taggerscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">"<span class="symbol">\3</span>43<span class="symbol">\2</span>00<span class="symbol">\2</span>20<span class="symbol">\3</span>45<span class="symbol">\2</span>67<span class="symbol">\2</span>45<span class="symbol">\3</span>44<span class="symbol">\2</span>75<span class="symbol">\2</span>34<span class="symbol">\3</span>43<span class="symbol">\2</span>00<span class="symbol">\2</span>21<span class="symbol">\3</span>45<span class="symbol">\2</span>17<span class="symbol">\2</span>21<span class="symbol">\3</span>51<span class="symbol">\2</span>02<span class="symbol">\2</span>56<span class="symbol">\3</span>44<span class="symbol">\2</span>73<span class="symbol">\2</span>66<span class="symbol">\3</span>46<span class="symbol">\2</span>34<span class="symbol">\2</span>15<span class="symbol">\3</span>45<span class="symbol">\2</span>12<span class="symbol">\2</span>41.md"</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>解决方案：</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">git<span class="built_in"> config </span>--global core.quotepath <span class="literal">false</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>完了之后就显示正常了。</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-07-04 02:28:11" itemprop="dateCreated datePublished" datetime="2020-07-04T02:28:11+08:00">2020-07-04</time>
                </span>
                <span id="/9476.html" class="post-meta-item leancloud_visitors" data-flag-title="Mac 终端 Git Status 显示中文乱码" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>197</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9456.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/9456.html" class="post-title-link" itemprop="url">MySQL基本配置</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>主要亮点为配置和密码找回，安装什么的就。。。</p>
                  <h1 id="MySQL基本配置"><a href="#MySQL基本配置" class="headerlink" title="MySQL基本配置"></a>MySQL基本配置</h1>
                  <p>官网地址：www.mysql.com 安装可参考：<a href="https://cuiqingcai.com/5200.html">https://cuiqingcai.com/5200.html</a> </p>
                  <h4 id="window："><a href="#window：" class="headerlink" title="window："></a>window：</h4>
                  <p>[gallery columns=”1” size=”full” ids=”9457”] 注意终端mysqld开启的不能关闭！ </p>
                  <figure class="highlight 1c">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">mysqld <span class="comment">//启动服务</span></span><br><span class="line">mysql <span class="comment">//启动客户端</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>制作服务：</p>
                  <ol>
                    <li>关闭进程</li>
                  </ol>
                  <figure class="highlight jboss-cli">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="string">//</span> 查找任务进程</span><br><span class="line">tasklist |findstr mysqld</span><br><span class="line"><span class="string">//</span>终止任务进程</span><br><span class="line">taskkill <span class="string">/F</span> <span class="string">/PID</span> PID</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <ol>
                    <li>安装服务与移除服务</li>
                  </ol>
                  <figure class="highlight jboss-cli">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="string">//</span>安装服务</span><br><span class="line">mysqld <span class="params">--install</span></span><br><span class="line"><span class="string">//</span>移除服务</span><br><span class="line">mysqld <span class="params">--remove</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h4 id="Linux："><a href="#Linux：" class="headerlink" title="Linux："></a>Linux：</h4>
                  <figure class="highlight sql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">centos:</span><br><span class="line">yum -y <span class="keyword">install</span> mariadb-<span class="keyword">server</span> mariadb</span><br><span class="line">ubuntu:</span><br><span class="line">yum -y <span class="keyword">install</span> mysqld-<span class="keyword">server</span> msyql-<span class="keyword">client</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <blockquote>
                    <p>基本使用： // 查看所有的数据库 show databases； // 进入对应的库： use database（name） 查看表: select * from db;</p>
                  </blockquote>
                  <p>配置环境变量：</p>
                  <figure class="highlight vim">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">vim</span> /etc/<span class="keyword">profile</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>在文档最后一行加入：</p>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">PATH = /。。。:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> PATH</span><br><span class="line">保存退出即可</span><br><span class="line">然后在终端输入</span><br><span class="line"><span class="built_in">source</span> /etc/profile //生效</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="管理员密码设置与找回："><a href="#管理员密码设置与找回：" class="headerlink" title="管理员密码设置与找回："></a>管理员密码设置与找回：</h2>
                  <blockquote>
                    <p>管理员账号登录(没有密码，直接回车进入。)</p>
                    <figure class="highlight ebnf">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="attribute">mysql -uroot -p</span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                    <p>设置管理员密码</p>
                    <figure class="highlight dts">
                      <table>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">mysqladmin -uroot -<span class="class">p </span>&#123;oldPassworld(原始密码，默认为“”,空)&#125; <span class="class">password </span>&#123;“newpassoworld”&#125;;</span><br><span class="line">mysqladmin -uroot -p  <span class="class">password </span>&#123;“passoworld”&#125;;</span><br><span class="line"><span class="meta"># passoworld为你锁需要设置的密码哦 </span></span><br></pre>
                          </td>
                        </tr>
                      </table>
                    </figure>
                  </blockquote>
                  <h4 id="MySQL密码找回："><a href="#MySQL密码找回：" class="headerlink" title="MySQL密码找回："></a>MySQL密码找回：</h4>
                  <p>密码验证思路：mysql必定将管理员账号密码存储在某个文件夹内，使用时与输入密码验证，成功则能够连接，否则连接失败。 密码找回思路： 跳过MySQL密码的验证直接进入</p>
                  <ol>
                    <li>
                      <p>停止mysql服务（注：需要终端的管理员权限运行）</p>
                      <blockquote>
                        <p>// windows:</p>
                      </blockquote>
                    </li>
                  </ol>
                  <p>查询进程，并找到PID：</p>
                  <ol>
                    <li>
                      <blockquote>
                        <pre><code>tasklist | findsrt mysqld
<figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">   </span><br><span class="line"><span class="number">2.</span>  <span class="keyword">kill</span>掉mysql进程，否则是停止不了服务的，无论如何都需要<span class="keyword">kill</span>掉：</span><br><span class="line"></span><br><span class="line">![](https:<span class="comment">//qiniu.cuiqingcai.com/wp-content/uploads/2020/06/change_password1.png)</span></span><br><span class="line"></span><br></pre>
                        </td>
                        </tr>
                        </table>
                        </figure> #此处的为上面查询到的PID，每次都是不一样的，所以就不写具体值了 taskkill /F /PID PID <figure class="highlight plain">
                          <table>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"></span><br></pre>
                              </td>
                            </tr>
                          </table>
                        </figure> net stop mysql <figure class="highlight gcode">
                          <table>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"></span><br><span class="line"><span class="comment">// Linux/mac:命令不同，基本思路相同 systemctl stop mysql(centos中默认的mysql是mariadb，可将mysql替换成mariadb即可)</span></span><br><span class="line"></span><br><span class="line">若安装了mysqld<span class="comment">(mysql服务)</span>需停止MySQL的进程服务 ，若没有安装mysql的服务则此步可省略 重新启动mysql服务，且跳过授权表 </span><br></pre>
                              </td>
                            </tr>
                          </table>
                        </figure> Windows： //启动不起来，可能需要net start mysql（这个是特殊情况） mysqld --skip-grant-tables //Linux/mac： mysqld ——safe --skip-grant-tables <figure class="highlight pgsql">
                          <table>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"></span><br><span class="line">登录，重新修改密码</span><br><span class="line"></span><br><span class="line">&gt; // 登录(此时MySQL的root权限是没有密码的，直接回车即可进入) mysql -uroot -p // 修改密码（在连接数据库状态中）： <span class="keyword">update</span> mysql.<span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">password</span>=<span class="keyword">password</span>("yourpassword") <span class="keyword">where</span> <span class="keyword">user</span>="uroot" <span class="keyword">and</span> host="localhost"</span><br><span class="line">&gt; </span><br><span class="line">&gt;</span><br></pre>
                              </td>
                            </tr>
                          </table>
                        </figure> 此语句是告诉数据库，更新密码。密码为yourpassword where 为限制条件 ，限制user为root，host为localhost MySQL的关于用户授权表是存放在mysql库user表中的 <figure class="highlight gcode">
                          <table>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"></span><br><span class="line">刷新保存设置<span class="comment">(这个一定需要，要不之前的功夫都白费了)</span>：</span><br><span class="line"></span><br></pre>
                              </td>
                            </tr>
                          </table>
                        </figure> flush privileges; <figure class="highlight plain">
                          <table>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"></span><br><span class="line">退出：</span><br><span class="line"></span><br></pre>
                              </td>
                            </tr>
                          </table>
                        </figure> q # 或者 exit <figure class="highlight dos">
                          <table>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"></span><br><span class="line">重启启动mysql服务（终端中）： 安装了MySQL服务的：<span class="built_in">net</span> <span class="built_in">start</span> mysql 若没有安装则在<span class="built_in">cmd</span>中mysqld启动一些，用另外的一个<span class="built_in">cmd</span>连接即可</span><br><span class="line"></span><br><span class="line">## 字符编码:</span><br><span class="line"></span><br><span class="line">查看字符编码</span><br><span class="line"></span><br><span class="line">登录进入mysql后</span><br><span class="line"></span><br></pre>
                              </td>
                            </tr>
                          </table>
                        </figure> \\s </code></pre>
                        <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/06/Look_Character-encoding.png" alt=""></p>
                      </blockquote>
                    </li>
                  </ol>
                  <p>进入mysql文件夹（这个可不设置，当然设置最好。）： 字符编码配置默认文件：my-default.ini 新建后缀名为:’<strong>.ini</strong>‘的文件</p>
                  <blockquote>
                    <p>[mysqld] character-set-server=utf8 collation-server=urf8_general_ci [client] default-character=utf8 [mysql] default-character=utf8 user =”root” password =”123456”</p>
                  </blockquote>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-06-26 07:04:20" itemprop="dateCreated datePublished" datetime="2020-06-26T07:04:20+08:00">2020-06-26</time>
                </span>
                <span id="/9456.html" class="post-meta-item leancloud_visitors" data-flag-title="MySQL基本配置" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>2.1k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>2 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9414.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 技术杂谈 <i class="label-arrow"></i>
                  </a>
                  <a href="/9414.html" class="post-title-link" itemprop="url">把 Mac 终端上的标题去掉</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>我自己用 Mac 自带的终端很久了，感觉一直还不错。 但美中不足的是终端上面的这个标题实在让人看着太糟心了，看图： <img src="https://qiniu.cuiqingcai.com/jnpbs.png" alt="image-20200528152435225"> 上面这行标题，没什么用，又这么难看。 我把偏好设置里面的显示内容都去掉了，设置如下： <img src="https://qiniu.cuiqingcai.com/shzki.png" alt="image-20200528151519064"> 但是它总是还显示了一个标题，显示成这个样子： <img src="https://qiniu.cuiqingcai.com/gzxvm.png" alt="image-20200528151017483"> 上面这个标题看得很难受，我想把它改成无任何内容，简洁清爽，如下图所示： <img src="https://qiniu.cuiqingcai.com/porxq.png" alt="image-20200528150948227"> 但是现在无论我怎么改偏好设置都不行，总会带上那些信息。 后来搜索了一番发现是 zsh 的问题。 打开 <code>~/.zshrc</code> 这个文件，找到下面这一行：</p>
                  <figure class="highlight ini">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attr">DISABLE_AUTO_TITLE</span>=<span class="string">"true"</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>把这行取消注释。 另外偏好设置里面把所有的勾选都去掉，如图所示： <img src="https://qiniu.cuiqingcai.com/rmykb.png" alt="image-20200528151519064"> 另外注意这里标题处不能完全为空，需要打上一个空格，否则窗口上方会显示「终端」二字。 最后在 <code>~/.zshrc</code> 最后还可以加上这一行语句来清屏：</p>
                  <figure class="highlight arduino">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">clear</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>这样就不会再显示 Last Login 等相关信息了。 最后看下效果，打开终端就会显示如下样子，简洁清爽，舒服了。 <img src="https://qiniu.cuiqingcai.com/x2hge.png" alt="image-20200528151747657"> 完毕。</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-05-28 16:00:50" itemprop="dateCreated datePublished" datetime="2020-05-28T16:00:50+08:00">2020-05-28</time>
                </span>
                <span id="/9414.html" class="post-meta-item leancloud_visitors" data-flag-title="把 Mac 终端上的标题去掉" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>406</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9403.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/9403.html" class="post-title-link" itemprop="url">Git 学习日志之五——SSH配置</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h1 id="SSH配置："><a href="#SSH配置：" class="headerlink" title="SSH配置："></a>SSH配置：</h1>
                  <ul>
                    <li>使用命令在home文件夹下新建一个ssh文件<img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/SSH配置1.png" alt=""></li>
                  </ul>
                  <p>配置SSH信息，命令：ssh-keygen -t rsa -C e-mail（此时的C必须是大写，Email为绑定了github的邮箱），稍后一路回车选择默认值即可</p>
                  <ul>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/SSH配置2.png" alt=""></li>
                  </ul>
                  <p>查看id_rsa.pub 信息，并将其复制到粘贴版中(稍后会用到！)</p>
                  <ul>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/SSH配置3.png" alt=""></li>
                    <li>进入到github中点击右上角的头像，选择setting ——&gt; SSH and GPG keys ——&gt; 将上述复制内容粘贴到编辑面板中——&gt;完成</li>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/SSH配置4.png" alt=""> <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/SSH配置5.png" alt=""></li>
                  </ul>
                  <p>完成</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-05-24 16:10:26" itemprop="dateCreated datePublished" datetime="2020-05-24T16:10:26+08:00">2020-05-24</time>
                </span>
                <span id="/9403.html" class="post-meta-item leancloud_visitors" data-flag-title="Git 学习日志之五——SSH配置" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>217</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9377.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/9377.html" class="post-title-link" itemprop="url">Git学习日志之四——远程库操作</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h1 id="远程库操作"><a href="#远程库操作" class="headerlink" title="远程库操作"></a>远程库操作</h1>
                  <h3 id="创建远程库地址别名"><a href="#创建远程库地址别名" class="headerlink" title="创建远程库地址别名"></a>创建远程库地址别名</h3>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/远程库地址别名.png" alt=""></p>
                  <blockquote>
                    <p>git remote add [origin] [Warehouse URI] 创建别名为origin，github仓库地址为。。。的 git remote -v 查看相关信息</p>
                  </blockquote>
                  <h3 id="推送操作："><a href="#推送操作：" class="headerlink" title="推送操作："></a>推送操作：</h3>
                  <p>使用命令:</p>
                  <figure class="highlight gcode">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">git push 别名<span class="comment">(origin)</span> 分支名<span class="comment">(master)</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>注意是将本地库进行推送！！！（此时时事先完成了一些对本地库相关操作）</p>
                  <h3 id="克隆操作："><a href="#克隆操作：" class="headerlink" title="克隆操作："></a>克隆操作：</h3>
                  <blockquote>
                    <p>git clone [URI]</p>
                  </blockquote>
                  <ol>
                    <li>首先复制相对应的仓库地址：</li>
                  </ol>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/克隆操作.png" alt=""></p>
                  <ol>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/克隆操作1.png" alt=""><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/克隆操作1.png" alt=""></li>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/克隆操作2.png" alt=""></li>
                  </ol>
                  <p>这里是克隆下来的结果显示</p>
                  <ol>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/克隆操作结果显示.png" alt=""></li>
                  </ol>
                  <ul>
                    <li>
                      <p>克隆的作用：</p>
                      <ol>
                        <li>完整的把远程库克隆下来</li>
                        <li>创建origin远程地址别名</li>
                        <li>初始化本地库</li>
                      </ol>
                      <h1 id="团队内协作"><a href="#团队内协作" class="headerlink" title="团队内协作"></a>团队内协作</h1>
                    </li>
                    <li>
                      <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/团队内协作流程图1-1.png" alt=""></p>
                    </li>
                    <li>
                      <h3 id="邀请成员加入仓库工作团队："><a href="#邀请成员加入仓库工作团队：" class="headerlink" title="邀请成员加入仓库工作团队："></a>邀请成员加入仓库工作团队：</h3>
                      <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/push操作1.png" alt=""> 如果没有加入团队是没有权限向所相关的库进行推送的！！！ 如何设置（获得）权限呢？（在仓库中点击设置选项进入如下界面） <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/push操作之邀请成员加入团队1.png" alt=""></p>
                    </li>
                  </ul>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/push操作之邀请成员加入团队2.png" alt=""> 完成以上操作之后在进行推送即可有权限完成推送。</p>
                  <h1 id="fetch-and-merge-操作（二者一起使用相当于pull）"><a href="#fetch-and-merge-操作（二者一起使用相当于pull）" class="headerlink" title="fetch and merge 操作（二者一起使用相当于pull）"></a>fetch and merge 操作（二者一起使用相当于pull）</h1>
                  <blockquote>
                    <p>git remote -v</p>
                    <p>git fetch [远程库中简称(origin)] [远程库分支名(master)]</p>
                    <p>git merge [远程库中简称/远程库分支名(origin/master)]</p>
                  </blockquote>
                  <h3 id="fetch："><a href="#fetch：" class="headerlink" title="fetch："></a>fetch：</h3>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/fetch操作1.png" alt=""><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/fetch操作2.png" alt=""></p>
                  <ol>
                    <li>
                      <p>首先是查看了remote</p>
                    </li>
                    <li>
                      <p>然后使用 git fetch命令下载了远程库内容</p>
                    </li>
                    <li>
                      <p>查看本地库中的project.txt内容</p>
                    </li>
                    <li>
                      <p>切换到新下载的master目录（可使用git reflog查看分支状态）</p>
                    </li>
                    <li>
                      <p>查看远程库中project.txt 内容</p>
                    </li>
                  </ol>
                  <h3 id="merge：将远程库下载的内容与本地库合并"><a href="#merge：将远程库下载的内容与本地库合并" class="headerlink" title="merge：将远程库下载的内容与本地库合并"></a>merge：将远程库下载的内容与本地库合并</h3>
                  <figure class="highlight crmsh">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">git mergo origin/<span class="literal">master</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/merge操作1.png" alt=""></p>
                  <h1 id="Pull使用："><a href="#Pull使用：" class="headerlink" title="Pull使用："></a>Pull使用：</h1>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/pull使用.png" alt=""></p>
                  <h2 id="pull冲突处理："><a href="#pull冲突处理：" class="headerlink" title="pull冲突处理："></a>pull冲突处理：</h2>
                  <ul>
                    <li>
                      <p>缘由：如果不是基于远程库的最新版本进行修改的</p>
                    </li>
                    <li>
                      <p>解决：不能推送，必须先拉，拉下来进入冲突状态，进行对内容的修改，删除不相关内容，重新处理即可。更详情请查看前面的push冲突解决。</p>
                    </li>
                  </ul>
                  <h1 id="团队外协作："><a href="#团队外协作：" class="headerlink" title="团队外协作："></a>团队外协作：</h1>
                  <p>流程：<img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/团队外协作流程图-1.png" alt=""> <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/团队外协作1.png" alt=""> 具体的流程可以参考上面的流程图：首先是fork一个仓库，然后拉去请求 后clone到本地，然后编辑更改。后推送到远程仓库（这里的克隆操作就省略了，具体的可以看上面） <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/团队外协作2.png" alt=""> <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/团队外协作3.png" alt=""> <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/完成提交.png" alt=""> 发送即可完成。 然后接收者根据流程图步骤6开始操作即可</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-05-24 15:10:15" itemprop="dateCreated datePublished" datetime="2020-05-24T15:10:15+08:00">2020-05-24</time>
                </span>
                <span id="/9377.html" class="post-meta-item leancloud_visitors" data-flag-title="Git学习日志之四——远程库操作" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>838</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9359.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/9359.html" class="post-title-link" itemprop="url">Git学习日志之三-本地库操作</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h1 id="在编辑前首先介绍以下工作流程"><a href="#在编辑前首先介绍以下工作流程" class="headerlink" title="在编辑前首先介绍以下工作流程"></a>在编辑前首先介绍以下工作流程</h1>
                  <h1 id="本地库与远程库"><a href="#本地库与远程库" class="headerlink" title="本地库与远程库"></a>本地库与远程库</h1>
                  <h3 id="团队内部协作："><a href="#团队内部协作：" class="headerlink" title="团队内部协作："></a>团队内部协作：</h3>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/团队内协作流程图1-1.png" alt=""></p>
                  <h3 id="跨团队协作："><a href="#跨团队协作：" class="headerlink" title="跨团队协作："></a>跨团队协作：</h3>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/团队外协作流程图-1.png" alt=""></p>
                  <h1 id="添加提交以及查看状态"><a href="#添加提交以及查看状态" class="headerlink" title="添加提交以及查看状态"></a>添加提交以及查看状态</h1>
                  <h3 id="添加：将工作区的“新建-修改”添加到暂存区"><a href="#添加：将工作区的“新建-修改”添加到暂存区" class="headerlink" title="添加：将工作区的“新建/修改”添加到暂存区"></a>添加：将工作区的“新建/修改”添加到暂存区</h3>
                  <figure class="highlight applescript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">git add [<span class="built_in">file</span> <span class="built_in">name</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="暂存区删除"><a href="#暂存区删除" class="headerlink" title="暂存区删除"></a>暂存区删除</h3>
                  <figure class="highlight delphi">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">git rm --cached [<span class="keyword">file</span> <span class="keyword">name</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="查看状态：查看工作区、暂存区状态"><a href="#查看状态：查看工作区、暂存区状态" class="headerlink" title="查看状态：查看工作区、暂存区状态"></a>查看状态：查看工作区、暂存区状态</h3>
                  <figure class="highlight ebnf">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attribute">git status</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="提交：将暂存区的内容提交到本地库"><a href="#提交：将暂存区的内容提交到本地库" class="headerlink" title="提交：将暂存区的内容提交到本地库"></a>提交：将暂存区的内容提交到本地库</h3>
                  <figure class="highlight sql">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">git <span class="keyword">commit</span> -m <span class="string">"commit message"</span> [<span class="keyword">file</span> <span class="keyword">name</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="查看历史-日志"><a href="#查看历史-日志" class="headerlink" title="查看历史(日志)"></a>查看历史(日志)</h3>
                  <figure class="highlight livecodeserver">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">git <span class="built_in">log</span><span class="comment">：// 最完整的日志形式</span></span><br><span class="line"></span><br><span class="line">// 多屏显示控制方式：空格向下翻页，b向上翻页，q 退出</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> <span class="comment">--pretty=oneline：// 简洁的显示</span></span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> <span class="comment">--oneline   // 更简洁的显示</span></span><br><span class="line"></span><br><span class="line">git reflog <span class="comment">：// HEAD@&#123;移动到当前版本需要多少‘步数’&#125;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <hr>
                  <h3 id="实际操作"><a href="#实际操作" class="headerlink" title="实际操作"></a>实际操作</h3>
                  <p>基本思路图： <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/git基本使用方法2.png" alt=""> 步骤如下：</p>
                  <ol>
                    <li>使用vim命令新建一个名为demo1.txt ，并查看状态。提示我们暂存区没有相关的文件，并标红警告</li>
                  </ol>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/实际操作1-新建一个文件.png" alt=""></p>
                  <ol>
                    <li>将新建的文件新增到暂存区：</li>
                  </ol>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/实际操作2-添加入缓存区.png" alt=""></p>
                  <ol>
                    <li>将文件添加到本地库：<ul>
                        <li>方式一：<img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/实际操作3-添加到本地库.png" alt=""></li>
                        <li>方式二：git commit [file name] 不建议使用</li>
                      </ul>
                    </li>
                  </ol>
                  <p>当然直接commit也可以，不过。。。</p>
                  <h1 id="版本前进与后退：-基于索引值对文件进行前进与后退操作"><a href="#版本前进与后退：-基于索引值对文件进行前进与后退操作" class="headerlink" title="版本前进与后退：(基于索引值对文件进行前进与后退操作)"></a>版本前进与后退：(基于索引值对文件进行前进与后退操作)</h1>
                  <p>Vim多屏显示控制方式：</p>
                  <ul>
                    <li>
                      <p>空格向下翻页</p>
                    </li>
                    <li>
                      <p>b向上翻页</p>
                    </li>
                    <li>
                      <p>q退出</p>
                    </li>
                  </ul>
                  <p>查看操作日志： </p>
                  <figure class="highlight angelscript">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">git <span class="built_in">ref</span>log ：<span class="comment">// HEAD@&#123;移动到当前版本需要多少‘步数’&#125;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h3 id="实际操作：查看reflog"><a href="#实际操作：查看reflog" class="headerlink" title="实际操作：查看reflog"></a>实际操作：查看reflog</h3>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/前进与后退基础搭建.png" alt=""></p>
                  <ol>
                    <li>
                      <p>首先使用vim命令新建了一个名为hard.txt，并在里面写入项目数据‘aaa、bbb’</p>
                    </li>
                    <li>
                      <p>使用git add hard.txt 命令将hard.txt添加到暂存区</p>
                    </li>
                    <li>
                      <p>使用git commit hard.txt 命令将hard.txt 添加到 本地库</p>
                    </li>
                    <li>
                      <p>使用命令git reflog查看相关的将要操作的参考</p>
                    </li>
                  </ol>
                  <h4 id="给‘项目’版本进行更新："><a href="#给‘项目’版本进行更新：" class="headerlink" title="给‘项目’版本进行更新："></a>给‘项目’版本进行更新：</h4>
                  <p>更新，并将其commit到本地库中 <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/更新1.png" alt=""> <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/更新2.png" alt=""></p>
                  <p>基本的已完成了，让我们来试试版本的前进与后退，并查看相对应的内容</p>
                  <blockquote>
                    <p>git reflog</p>
                    <p>git reset —hard [索引值] //前进与后退索引命令</p>
                  </blockquote>
                  <p>注意观察 cat hard.txt 的内容！！！</p>
                  <h3 id="版本后退："><a href="#版本后退：" class="headerlink" title="版本后退："></a>版本后退：</h3>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/版本后退1.png" alt=""> 版本前进 <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/版本前进1.png" alt=""></p>
                  <h2 id="基于符号的版本控制"><a href="#基于符号的版本控制" class="headerlink" title="基于符号的版本控制"></a>基于符号的版本控制</h2>
                  <figure class="highlight delphi">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="comment">// 基于^符号：只能进行版本后退</span></span><br><span class="line">git reset --hard [<span class="keyword">file</span> <span class="keyword">name</span>]^ <span class="comment">//回退一个版本</span></span><br><span class="line">git reset --hard [<span class="keyword">file</span> <span class="keyword">name</span>]^^ <span class="comment">//回退两个版本</span></span><br><span class="line"><span class="comment">// 基于~符号:</span></span><br><span class="line">git reset --hard [<span class="keyword">file</span> <span class="keyword">name</span>]~n <span class="comment">//回退n个版本</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <h2 id="reset命令参数对比："><a href="#reset命令参数对比：" class="headerlink" title="reset命令参数对比："></a>reset命令参数对比：</h2>
                  <p>-- soft</p>
                  <p>仅仅在本地库中移动head指针</p>
                  <ul>
                    <li>本地库下/上移动，相对的暂存区与工作区则被提前/回退了</li>
                  </ul>
                  <p>-- mixed</p>
                  <p>在本地库移动Head指针</p>
                  <ul>
                    <li>不仅会移动本地库还会移动暂存区，不对工作区做修改</li>
                  </ul>
                  <p>重置缓存区</p>
                  <p>-- hard</p>
                  <p>在本地库移动head指针</p>
                  <p>重置暂存区，重置工作区；</p>
                  <h1 id="分支："><a href="#分支：" class="headerlink" title="分支："></a>分支：</h1>
                  <p>同时并行推进多个功能开发，提高效率</p>
                  <p>各个分支在开发过程中，如果某一个分支，开发失败，不会对其他造成影响</p>
                  <h2 id="分支操作："><a href="#分支操作：" class="headerlink" title="分支操作："></a>分支操作：</h2>
                  <figure class="highlight delphi">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="comment">//查看所有的分支</span></span><br><span class="line">git branch -v</span><br><span class="line"><span class="comment">// 创建分支</span></span><br><span class="line">git branch [<span class="keyword">file</span> <span class="keyword">name</span>]</span><br><span class="line"><span class="comment">//切换分支</span></span><br><span class="line">git checkout [<span class="keyword">file</span> <span class="keyword">name</span>]</span><br><span class="line"><span class="comment">// 合并分支</span></span><br><span class="line"><span class="number">1</span>.切换到接受修改的分支上（被合并，增加新内容）</span><br><span class="line"><span class="number">2</span>.执行merge命令即可</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>合并分支注意：首先对其他分支进行编辑更新添加新功能，然后需切换到主分支master上，执行merge命令，完成合并。便可更新增的功能</p>
                  <h4 id="解决冲突（手动），当不能直接使用merge合并时，则需要"><a href="#解决冲突（手动），当不能直接使用merge合并时，则需要" class="headerlink" title="// 解决冲突（手动），当不能直接使用merge合并时，则需要"></a>// 解决冲突（手动），当不能直接使用merge合并时，则需要</h4>
                  <p>何时会出现合并错误？又如何去修改？</p>
                  <p>在不同分支出现出现相对应的更改时，自动合并不知道以何更新为主，合并将产生冲突；</p>
                  <p>重新add，commit 注意commit不能带文件名</p>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/解决冲突.png" alt=""></p>
                  <ol>
                    <li>
                      <p>编辑文件，删除特殊符号</p>
                    </li>
                    <li>
                      <p>把文件修改至满意，保存并退出</p>
                    </li>
                    <li>
                      <p>git add 【file name】</p>
                    </li>
                    <li>
                      <p>git commit -m “log message”</p>
                      <ul>
                        <li>此处的commit 不能带file name</li>
                      </ul>
                    </li>
                  </ol>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-05-24 14:26:07" itemprop="dateCreated datePublished" datetime="2020-05-24T14:26:07+08:00">2020-05-24</time>
                </span>
                <span id="/9359.html" class="post-meta-item leancloud_visitors" data-flag-title="Git学习日志之三-本地库操作" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>1.6k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9348.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/9348.html" class="post-title-link" itemprop="url">Git学习日志之二-使用前准备——本地库初始化与设置签名</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p> 简介：了解过git来源的朋友，应该会晓得git与Linux系统是同一作者，所以在此操作Linux的基础命令几乎都能运行，在此便不在过多赘述： 列举几个在此常用的命令：</p>
                  <ul>
                    <li>ls -lA:查看所有的目录（包含隐藏文件夹）</li>
                    <li>ls -l|less 分屏的去查看</li>
                  </ul>
                  <p>安装好了之后如果是默认安装，git会添加到鼠标右击的快捷栏中（如下所示）： <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/1.本地库初始化.png" alt=""></p>
                  <h1 id="Git使用前许初始化本地库，具体操作如下："><a href="#Git使用前许初始化本地库，具体操作如下：" class="headerlink" title="Git使用前许初始化本地库，具体操作如下："></a>Git使用前许初始化本地库，具体操作如下：</h1>
                  <h3 id="本地库初始化-命令行：Git-Bash-Here"><a href="#本地库初始化-命令行：Git-Bash-Here" class="headerlink" title="本地库初始化:(命令行：Git Bash Here)"></a>本地库初始化:(命令行：Git Bash Here)</h3>
                  <ul>
                    <li>命令：git add（使用git bash here）</li>
                  </ul>
                  <p>进入相对应的目录下，新建一个用于学习Git的文件夹</p>
                  <figure class="highlight arduino">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="built_in">mkdir</span> xxx</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>初始化本地库：</p>
                  <figure class="highlight jboss-cli">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">cd</span> xxx  <span class="string">//</span> 进入到相对应的目录下</span><br><span class="line">git init <span class="string">//</span>初始化本地命令</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/2.本地库初始化1.png" alt=""></p>
                  <ol>
                    <li>首先是使用了’ll‘，命令查看当前前目录先文件夹及权限</li>
                    <li>使用 mkdir anothergit 命令在当前目录下创建了一个名为anothergit的文件夹</li>
                    <li>使用 git init ，初始化本地库</li>
                  </ol>
                  <p>初始化成功效果展示： <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/3.本地库初始化2.png" alt=""></p>
                  <ol>
                    <li>
                      <pre><code>ll -lA // 显示该目录下全部的文件夹（注：如果使用’ll‘是不能显示出’.git/‘的）
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line">    </span><br><span class="line"><span class="number">2.</span></span><br></pre>
                      </td>
                      </tr>
                      </table>
                      </figure> ll .git/ // 查看.git/文件夹下的可显示的文件夹 <figure class="highlight">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">    </span><br><span class="line"></span><br><span class="line">注：.git目录中存放的是本地库相关的配置文件，请勿随意删除及修改。（这里凉了就凉凉了，git的命令也帮不了你）</span><br><span class="line"></span><br><span class="line">## 设置签名：</span><br><span class="line"></span><br><span class="line">主要用于区分开发者身份，并非会验证验证其邮箱真实性，</span><br><span class="line"></span><br><span class="line">*   ​ 形式：</span><br><span class="line">    *   用户名：Payne</span><br><span class="line">    *   Email地址：123123@xxx.com</span><br><span class="line">    *   这里设置的前和登录远程库的账号密码无任何关系</span><br><span class="line">*   签名：如果都有的话会以项目级别仓库签名为使用，否则会以系统用户级别为使用</span><br><span class="line">    </span><br><span class="line">    *   项目级别（仓库级别）：仅在此库有效</span><br><span class="line">    *   命令：</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure> //主要用的命令 git config // 实际用的 git config user.name Payne_project git config user.eamil 123123@xxx.com <figure class="highlight awk">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">    </span><br><span class="line">*   实际操作：</span><br><span class="line">*   ![](https:<span class="regexp">//</span>qiniu.cuiqingcai.com<span class="regexp">/wp-content/u</span>ploads<span class="regexp">/2020/</span><span class="number">05</span><span class="regexp">/4.项目级别签名设置.png)使用命令,查看项目级别签名设置结果：</span></span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure> cat ./git/config <figure class="highlight asciidoc">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line"><span class="code">    </span></span><br><span class="line"><span class="bullet">*   </span>系统用户级别：登录当前操作系统的用户范围（包含多个项目级别，仓库级别）</span><br><span class="line"><span class="bullet">*   </span>命令：</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure> //主要用的命令 git config --global // 实际用的 git config --global user.name Payne_global git config --global user.eamil 123123@xxx.com </code></pre>
                      <ul>
                        <li>实际操作<img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/5.系统级别签名设置.png" alt="">系统用户级别的config是在系统目录下，如果不想太麻烦的去找直接 cat ~/.git config 即可</li>
                      </ul>
                    </li>
                  </ol>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-05-24 12:19:44" itemprop="dateCreated datePublished" datetime="2020-05-24T12:19:44+08:00">2020-05-24</time>
                </span>
                <span id="/9348.html" class="post-meta-item leancloud_visitors" data-flag-title="Git学习日志之二-使用前准备——本地库初始化与设置签名" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>1.1k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9336.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Other <i class="label-arrow"></i>
                  </a>
                  <a href="/9336.html" class="post-title-link" itemprop="url">Git学习日志之一-安装Git</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>这篇文章是我近日学习git的笔记，单纯想做个“云备份什么的”，所以的话侧重点就有点偏。</p>
                  <p>Git的来源、用处相信大家都或多或少的了解，如果真的想知道的话请自行百度哈~</p>
                  <h1 id="Git的安装："><a href="#Git的安装：" class="headerlink" title="Git的安装："></a>Git的安装：</h1>
                  <p>推荐镜像安装：<a href="https://npm.taobao.org/mirrors/git-for-windows/" target="_blank" rel="noopener">https://npm.taobao.org/mirrors/git-for-windows/</a> <a href="https://git-scm.com/" target="_blank" rel="noopener">Git官网地址</a></p>
                  <blockquote>
                    <p><a href="https://git-scm.com/" target="_blank" rel="noopener">https://git-scm.com/</a></p>
                  </blockquote>
                  <p><a href="[https://git-scm.com/download](https://git-scm.com/download">Git安装相关简介</a>)：</p>
                  <blockquote>
                    <p><a href="https://git-scm.com/download" target="_blank" rel="noopener">https://git-scm.com/download</a></p>
                  </blockquote>
                  <h3 id="各系统的安装-并非唯一方式！"><a href="#各系统的安装-并非唯一方式！" class="headerlink" title="各系统的安装(并非唯一方式！)"></a>各系统的安装(并非唯一方式！)</h3>
                  <p>Window Git下载地址:</p>
                  <blockquote>
                    <p><a href="https://git-scm.com/download/win" target="_blank" rel="noopener">https://git-scm.com/download/win</a></p>
                  </blockquote>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/git安装1.png" alt=""> <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/Git安装2.png" alt=""> 选择相对应的版本下载即可，下载完成后打开相对应的安装执行，有选项的选择的建议点击第一个默认配置，就不在此过多赘述啦。</p>
                  <h2 id="MacOS：在命令行中输入以下命令即可"><a href="#MacOS：在命令行中输入以下命令即可" class="headerlink" title="MacOS：在命令行中输入以下命令即可"></a>MacOS：在命令行中输入以下命令即可</h2>
                  <blockquote>
                    <p>brew install git</p>
                  </blockquote>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/MacOS.png" alt=""> 以上的网页地址为： <a href="https://git-scm.com/download/mac" target="_blank" rel="noopener">https://git-scm.com/download/mac</a></p>
                  <h2 id="Linux：-sudo-以管理员权限运行相关的命令，中间的‘-y’：默认同意安装"><a href="#Linux：-sudo-以管理员权限运行相关的命令，中间的‘-y’：默认同意安装" class="headerlink" title="Linux：(sudo:以管理员权限运行相关的命令，中间的‘-y’：默认同意安装)"></a>Linux：(sudo:以管理员权限运行相关的命令，中间的‘-y’：默认同意安装)</h2>
                  <p>在这里以Ubuntu为例： <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/Linux.png" alt=""> Ubuntu：</p>
                  <blockquote>
                    <p>apt-get install git apt-get -y install git sudo apt-get install git sudo apt-get -y install git</p>
                  </blockquote>
                  <p>更加具体的可自行查阅Linux系统安装Git相关：</p>
                  <blockquote>
                    <p><a href="https://git-scm.com/download/linux" target="_blank" rel="noopener">https://git-scm.com/download/linux</a></p>
                  </blockquote>
                  <h1 id="Git和代码托管中心"><a href="#Git和代码托管中心" class="headerlink" title="Git和代码托管中心"></a>Git和代码托管中心</h1>
                  <p>代码托管中心的任务：维护远程库</p>
                  <h3 id="局域网环境下："><a href="#局域网环境下：" class="headerlink" title="局域网环境下："></a>局域网环境下：</h3>
                  <ul>
                    <li>可搭建GitLab 服务器</li>
                  </ul>
                  <h3 id="外网环境下："><a href="#外网环境下：" class="headerlink" title="外网环境下："></a>外网环境下：</h3>
                  <ul>
                    <li>Github</li>
                    <li>码云</li>
                    <li>等等</li>
                  </ul>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-05-24 12:03:08" itemprop="dateCreated datePublished" datetime="2020-05-24T12:03:08+08:00">2020-05-24</time>
                </span>
                <span id="/9336.html" class="post-meta-item leancloud_visitors" data-flag-title="Git学习日志之一-安装Git" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>661</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9296.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Python <i class="label-arrow"></i>
                  </a>
                  <a href="/9296.html" class="post-title-link" itemprop="url">嫌多(线程/进程)太慢？ 嫌Scrapy太麻烦？没事，异步高调走起！——瓜子二手车</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>本节涉及：多线程、多进程、异步的相关概念，希望对你学有所获，学有所成。</p>
                  <hr>
                  <h2 id="基本概念了解："><a href="#基本概念了解：" class="headerlink" title="基本概念了解："></a>基本概念了解：</h2>
                  <hr>
                  <h3 id="并发与并行：-偏向于多线-进程方面的原理"><a href="#并发与并行：-偏向于多线-进程方面的原理" class="headerlink" title="并发与并行：(偏向于多线/进程方面的原理)"></a>并发与并行：(偏向于多线/进程方面的原理)</h3>
                  <ul>
                    <li>并发： 指在同一时刻只能有一条指令执行，但多个进程指令被快速的轮换执行，使得在宏观上具有多个进程同时执行的效果，但在微观上并不是同时执行的，只是把时间分成若干段，使多个进程快速交替的执行</li>
                    <li>并行： 指在同一时刻，有多条指令在多个处理器上同时执行。所以无论从微观还是从宏观来看，二者都是一起执行的</li>
                  </ul>
                  <h3 id="阻塞与非阻塞：（偏向于协程-异步的原理）"><a href="#阻塞与非阻塞：（偏向于协程-异步的原理）" class="headerlink" title="阻塞与非阻塞：（偏向于协程/异步的原理）"></a>阻塞与非阻塞：（偏向于协程/异步的原理）</h3>
                  <hr>
                  <ul>
                    <li>阻塞：阻塞状态指程序未得到所需计算资源时被挂起的状态。程序在等待某个操作完成期间，自身无法继续处理其他的事情，则称该程序在该操作上是阻塞的。</li>
                    <li>
                      <p>非阻塞：程序在等待某操作过程中，自身不被阻塞，可以继续处理其他的事情，则称该程序在该操作上是非阻塞的</p>
                      <hr>
                    </li>
                  </ul>
                  <h3 id="同步与异步："><a href="#同步与异步：" class="headerlink" title="同步与异步："></a>同步与异步：</h3>
                  <ul>
                    <li>同步：不同程序单元为了完成某个任务，在执行过程中需靠某种通信方式以协调一致，我们称这些程序单元是同步执行的。</li>
                    <li>
                      <p>异步：为完成某个任务，不同程序单元之间过程中无需通信协调，也能完成任务的方式，不相关的程序单元之间可以是异步的。</p>
                      <hr>
                    </li>
                  </ul>
                  <h3 id="说了这么多，咱们列举一些他们相关的特点吧："><a href="#说了这么多，咱们列举一些他们相关的特点吧：" class="headerlink" title="说了这么多，咱们列举一些他们相关的特点吧："></a>说了这么多，咱们列举一些他们相关的特点吧：</h3>
                  <ul>
                    <li><strong>多线程（英语：multithreading）</strong>：指从软件或者硬件上实现多个线程并发执行的技术。具有多线程能力的计算机因有硬件支持而能够在同一时间执行多于一个线程，进而提升整体处理性能。具有这种能力的系统包括对称多处理机、多核心处理器以及芯片级多处理（Chip-level multithreading）或同时多线程（Simultaneous multithreading）处理器。在一个程序中，这些独立运行的程序片段叫作“线程”（Thread），利用它编程的概念就叫作“多线程处理（Multithreading）”</li>
                    <li><strong>多进程(Multiprocessing):</strong>每个正在系统上运行的程序都是一个进程。每个进程包含一到多个线程。进程也可能是整个程序或者是部分程序的动态执行。线程是一组指令的集合，或者是程序的特殊段，它可以在程序里独立执行。也可以把它理解为代码运行的上下文。所以线程基本上是轻量级的进程，它负责在单个程序里执行多任务。通常由操作系统负责多个线程的调度和执行。线程是程序中一个单一的顺序控制流程.在单个程序中同时运行多个线程完成不同的工作,称为多线程.</li>
                    <li><strong>二者的区别：</strong>线程和进程的区别在于,子进程和父进程有不同的代码和数据空间,而多个线程则共享数据空间,每个线程有自己的执行堆栈和程序计数器为其执行上下文.多线程主要是为了节约CPU时间,发挥利用,根据具体<a href="https://baike.baidu.com/item/情况" target="_blank" rel="noopener">情况</a>而定. 线程的运行中需要使用计算机的<a href="https://baike.baidu.com/item/内存" target="_blank" rel="noopener">内存</a>资源和CPU。</li>
                    <li>
                      <p><strong>协程(Coroutine):</strong>又称微线程、纤程，协程是一种用户态的轻量级线程。 协程看上去也是子程序，但执行过程中，在子程序内部可中断，然后转而执行别的子程序，在适当的时候再返回来接着执行。</p>
                      <hr>
                      <p>基本的原理都已经了解了 ，那咱们不整一下，咋行？光说不练假把式，走起！！！ 本节源码：<a href="[https://github.com/Mr2753/PythonScrape/tree/master/GuaZI_Car](https://github.com/Mr2753/PythonScrape/tree/master/GuaZI_Car">仓库地址</a> ) 首先先说一下基本的思路：</p>
                      <ul>
                        <li>确定URL</li>
                        <li>发起请求，得到响应</li>
                        <li>解析响应，提取数据、</li>
                        <li>保存数据</li>
                      </ul>
                      <h3 id="确定URL："><a href="#确定URL：" class="headerlink" title="确定URL："></a>确定URL：</h3>
                      <p><a href="https://www.guazi.com/cs/buy/o2/#bread" target="_blank" rel="noopener">本次请求的URL</a>(先放地址了！) <a href="https://www.guazi.com/cs/buy/o2/#bread" target="_blank" rel="noopener">https://www.guazi.com/cs/buy/o2/#bread</a> <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/1-2.png" alt=""></p>
                    </li>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/2-1.png" alt=""></li>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/3-1.png" alt=""></li>
                  </ul>
                  <p>根据以上可知，URL：<a href="https://www.guazi.com/{cs}/buy/o{page}/#bread" target="_blank" rel="noopener">https://www.guazi.com/{cs}/buy/o{page}/#bread</a> ，更具改变cs改变城市，一线城市为前拼音两个字母(例如：长沙/cs 、湘潭/xiangtan)，第一页为o1,第二个为o2。以此类推 发送请求：</p>
                  <figure class="highlight python">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">scrape</span><span class="params">(self, url)</span>:</span></span><br><span class="line">       <span class="keyword">async</span> <span class="keyword">with</span> self.semaphore:</span><br><span class="line">           <span class="keyword">async</span> <span class="keyword">with</span> aiohttp.ClientSession(headers=self.header).get(url) <span class="keyword">as</span> response:</span><br><span class="line">               <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">await</span> response.text()</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>注意：再次加入请求头，本网站对Cookies有严格的检测。且并不能挂IP代理访问 解析响应：</p>
                  <figure class="highlight python">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, html)</span>:</span></span><br><span class="line">       <span class="keyword">with</span> open(<span class="string">'car.csv'</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">           doc = pq(html)</span><br><span class="line">           <span class="keyword">for</span> message <span class="keyword">in</span> doc(<span class="string">'body &gt; div.list-wrap.js-post &gt; ul &gt; li &gt; a'</span>).items():</span><br><span class="line">               <span class="comment"># 汽车简介</span></span><br><span class="line">               car_name = message(<span class="string">'h2.t'</span>).text()</span><br><span class="line">               <span class="comment"># 汽车详情(年限、里程、服务)</span></span><br><span class="line">               car_info = message(<span class="string">'div.t-i'</span>).text()</span><br><span class="line">               year = car_info[:<span class="number">5</span>]</span><br><span class="line">               mileage = car_info[<span class="number">6</span>:<span class="number">-5</span>]</span><br><span class="line">               service = car_info[<span class="number">13</span>:].replace(<span class="string">'|'</span>, <span class="string">''</span>)</span><br><span class="line">               <span class="comment"># 价格</span></span><br><span class="line">               <span class="keyword">try</span>:</span><br><span class="line">                   price = message(<span class="string">'div.t-price &gt; p'</span>).text()</span><br><span class="line">               <span class="keyword">except</span> AttributeError:</span><br><span class="line">                   price = message(<span class="string">'em.line-through'</span>).text()</span><br><span class="line">               car_pic = message(<span class="string">'img'</span>).attr(<span class="string">'src'</span>)</span><br><span class="line">               data = <span class="string">f'<span class="subst">&#123;car_name&#125;</span>, <span class="subst">&#123;year&#125;</span>,<span class="subst">&#123;mileage&#125;</span>, <span class="subst">&#123;service&#125;</span>, <span class="subst">&#123;price&#125;</span>n'</span></span><br><span class="line">               logging.info(data)</span><br><span class="line">               f.write(data)</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>我这里是直接一步到位了，解析响应，以及保存数据。 运行之后即可看到类似于这样的东东 <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/4-1.png" alt=""></p>
                  <hr>
                  <p>如有疑问，咱们评论区见</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-05-08 00:04:50" itemprop="dateCreated datePublished" datetime="2020-05-08T00:04:50+08:00">2020-05-08</time>
                </span>
                <span id="/9296.html" class="post-meta-item leancloud_visitors" data-flag-title="嫌多(线程/进程)太慢？ 嫌Scrapy太麻烦？没事，异步高调走起！——瓜子二手车" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>2.3k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>2 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9270.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> JavaScript <i class="label-arrow"></i>
                  </a>
                  <a href="/9270.html" class="post-title-link" itemprop="url">JS解密入门——有道翻译</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h1 id="JS解密入门——有道翻译"><a href="#JS解密入门——有道翻译" class="headerlink" title="JS解密入门——有道翻译"></a>JS解密入门——有道翻译</h1>
                  <p>此篇文章省略了很多基础的，例如json格式数据的提取啊。试试手，练练感觉。似乎也没啥用。</p>
                  <h3 id="一-了解加密与解密-："><a href="#一-了解加密与解密-：" class="headerlink" title="一 了解加密与解密 ："></a>一 了解加密与解密 ：</h3>
                  <h4 id="什么是加密，什么是解密？"><a href="#什么是加密，什么是解密？" class="headerlink" title="什么是加密，什么是解密？"></a>什么是加密，什么是解密？</h4>
                  <ul>
                    <li>加密：数据加密的基本过程，将原为<strong>明文</strong>的文件或数据经过某种算法进行一次或多次处理。得到的结果常称之为<strong>密文</strong>的东东。</li>
                    <li>解密：加密的逆过程，找到加密相同的方式，对其逆向处理，得到原本文件或数据的过程</li>
                  </ul>
                  <h4 id="常用的加密方式："><a href="#常用的加密方式：" class="headerlink" title="常用的加密方式："></a>常用的加密方式：</h4>
                  <p>加密算法分 <strong>对称加密</strong> 和 <strong>非对称加密</strong> 其中对称加密算法的加密与解密 <strong>密钥相同</strong>，非对称加密算法的加密密钥与解密 <strong>密钥不同</strong>，此外，还有一类 <strong>不需要密钥</strong> 的 <strong>散列算法</strong>。</p>
                  <h4 id="本节所涉及的方式：MD5"><a href="#本节所涉及的方式：MD5" class="headerlink" title="本节所涉及的方式：MD5"></a>本节所涉及的方式：MD5</h4>
                  <p><code>MD5</code> 用的是 <strong>哈希函数</strong>，它的典型应用是对一段信息产生 <strong>信息摘要</strong>，以 <strong>防止被篡改</strong>。严格来说，<code>MD5</code> 不是一种 <strong>加密算法</strong> 而是 <strong>摘要算法</strong>。无论是多长的输入，<code>MD5</code> 都会输出长度为 <code>128bits</code> 的一个串 (通常用 <code>16</code> <strong>进制</strong> 表示为 <code>32</code> 个字符)。 <a href="[https://blog.csdn.net/baidu_22254181/article/details/82594072](https://blog.csdn.net/baidu_22254181/article/details/82594072">更多相关详情请点击此处</a> )</p>
                  <h3 id="二-造！点击进入本节源码"><a href="#二-造！点击进入本节源码" class="headerlink" title="二 造！点击进入本节源码"></a>二 造！点击进入<a href="https://github.com/Mr2753/PythonScrape/tree/master/%E6%9C%89%E9%81%93%E7%BF%BB%E8%AF%91" target="_blank" rel="noopener">本节源码</a></h3>
                  <h3 id="这段内容图会比较多-文字叙述会比较少"><a href="#这段内容图会比较多-文字叙述会比较少" class="headerlink" title="这段内容图会比较多,文字叙述会比较少."></a>这段内容图会比较多,文字叙述会比较少.</h3>
                  <h4 id="确定URL："><a href="#确定URL：" class="headerlink" title="确定URL："></a>确定URL：</h4>
                  <p>Basic URL ： <a href="http://fanyi.youdao.com/" target="_blank" rel="noopener">http://fanyi.youdao.com/</a> 结论缘由,在不刷新全局页面的情况下,在输入框中输入,翻译动态刷新.可知此链接为Ajax. <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/1.png" alt=""> 经过一系列测试发现，其实际需操作的URL为 <a href="http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule" target="_blank" rel="noopener">http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule</a> 在开发者工具中具体观察以下. <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/2.png" alt=""> 基本网站的分析就分析完毕了 注意此处为POST请求！！！</p>
                  <h4 id="观察加密"><a href="#观察加密" class="headerlink" title="观察加密"></a>观察加密</h4>
                  <p>仔细观察红色方框中，重点观察随着时间改变而改变的参数（图中红色箭头所指之处）<img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/3.png" alt=""></p>
                  <h4 id="分析加密："><a href="#分析加密：" class="headerlink" title="分析加密："></a>分析加密：</h4>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/微信图片_20200503232253.png" alt=""> 仔细经过上述步骤即可进入本次加密的源码详情页 <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/4.png" alt=""> <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/微信图片_20200503232551.png" alt="">搜索sign参数,得知本页面有15个sign,筛选排查过后可得知以下位置为sign等参数,赋值加密过程 为什么会大概确定是此处呢? 理由一:var 声明赋值 理由二:md5() 为什么深信此处呢?</p>
                  <h4 id="断点一打-debug一下-啥都出来了"><a href="#断点一打-debug一下-啥都出来了" class="headerlink" title="断点一打,debug一下,啥都出来了."></a>断点一打,debug一下,啥都出来了.<img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/5.png" alt=""></h4>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/05/微信图片_20200504150029.png" alt=""> 根据其语法可知,Javascript</p>
                  <ul>
                    <li>e 为输入所翻译的内容</li>
                    <li>ts 为七位整数的时间戳</li>
                    <li>salt 为时间戳后加上一位,大于0小于9的数字</li>
                    <li>bv 为User-Agent的值经过<strong>md5加密</strong>的 密文</li>
                    <li>sign 为<strong>(“fanyideskweb” + e + salt + “Nw(nmmbP%A-r6U3EUn]Aj”)</strong>经过md5加密的 密文</li>
                  </ul>
                  <p>到这里就基本完成了,那接下来就开始码码吧.</p>
                  <h2 id="码"><a href="#码" class="headerlink" title="码!!!"></a>码!!!</h2>
                  <p>看到这里，转而看一下源码。对着上面的注释，仔细看看，相信你一定会有所收获的。</p>
                  <h4 id="拓展："><a href="#拓展：" class="headerlink" title="拓展："></a>拓展：</h4>
                  <p>可以将此源码打包，并建立用户界面</p>
                  <h3 id="其实这篇完全就是用来找感觉的-真正的JS难度系数成几何倍增长，所以．．．"><a href="#其实这篇完全就是用来找感觉的-真正的JS难度系数成几何倍增长，所以．．．" class="headerlink" title="其实这篇完全就是用来找感觉的,真正的JS难度系数成几何倍增长，所以．．．"></a>其实这篇完全就是用来找感觉的,真正的JS难度系数成几何倍增长，所以．．．</h3>
                  <p>加油吧，欧里给～ 如有疑问，那么评论区见</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-05-04 14:56:26" itemprop="dateCreated datePublished" datetime="2020-05-04T14:56:26+08:00">2020-05-04</time>
                </span>
                <span id="/9270.html" class="post-meta-item leancloud_visitors" data-flag-title="JS解密入门——有道翻译" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>1.1k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>1 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9212.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> Python <i class="label-arrow"></i>
                  </a>
                  <a href="/9212.html" class="post-title-link" itemprop="url">虚拟环境搭建</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <h1 id="Python虚拟环境搭建"><a href="#Python虚拟环境搭建" class="headerlink" title="Python虚拟环境搭建"></a>Python虚拟环境搭建</h1>
                  <h2 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h2>
                  <h3 id="什么是虚拟环境？"><a href="#什么是虚拟环境？" class="headerlink" title="什么是虚拟环境？"></a>什么是虚拟环境？</h3>
                  <ul>
                    <li>由<a href="[https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/6529153?fr=aladdin](https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/6529153?fr=aladdin">百度百科</a> )得知： 以专利的实时动态程序行为修饰与模拟算法，直接利用本机的 OS，模拟出自带与本机相容 OS 的虚拟机（Vista下可模拟Vista、XP，Windows 7下则可模拟Windows 7、Vista、XP），也称为“虚拟环境”</li>
                    <li>功能： 每一个环境都相当于一个新的Python环境。你可以在这个新的环境里安装库，运行代码等</li>
                  </ul>
                  <h3 id="为什么需要使用虚拟环境？"><a href="#为什么需要使用虚拟环境？" class="headerlink" title="为什么需要使用虚拟环境？"></a>为什么需要使用虚拟环境？</h3>
                  <ul>
                    <li>众所周知Python的强大在于其兼容性，其强大的社区等。同时缺也由些许库并不兼容</li>
                    <li>真实环境与虚拟环境二者相对关联，并非绝对关联，可以在环境里面随便造。</li>
                  </ul>
                  <h3 id="什么时候需要使用虚拟环境？"><a href="#什么时候需要使用虚拟环境？" class="headerlink" title="什么时候需要使用虚拟环境？"></a>什么时候需要使用虚拟环境？</h3>
                  <h5 id="例如："><a href="#例如：" class="headerlink" title="例如："></a>例如：</h5>
                  <ul>
                    <li>需要探究不同版本的Django等相互之间的异同</li>
                    <li>各模块产生冲突时<ul>
                        <li>不知为何，我在python环境中后续安装scrapy，由于库的不兼容会报出安装其中的异步框架（Twisted）的错误</li>
                      </ul>
                    </li>
                  </ul>
                  <h5 id="虚拟环境原理："><a href="#虚拟环境原理：" class="headerlink" title="虚拟环境原理："></a>虚拟环境原理：</h5>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">各虚拟环境相当于一个抽屉，在这个抽屉中安装的任何包都不会影响其他抽屉，可以指定项目的虚拟环境来配合使用我们的项目</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <hr>
                  <h2 id="一、搭建Python-virtualenv"><a href="#一、搭建Python-virtualenv" class="headerlink" title="一、搭建Python virtualenv"></a>一、搭建Python virtualenv</h2>
                  <h3 id="搭建前准备"><a href="#搭建前准备" class="headerlink" title="搭建前准备:"></a>搭建前准备:</h3>
                  <ul>
                    <li>请确保Python已安装至使用的电脑中(最好已经配置好了环境变量）</li>
                    <li>请确保pip命令能够正常使用，且能正常安装库</li>
                  </ul>
                  <h3 id="如何搭建？"><a href="#如何搭建？" class="headerlink" title="如何搭建？"></a>如何搭建？</h3>
                  <p>使用Virtualenv库</p>
                  <ul>
                    <li>安装Virtualenv：<ul>
                        <li>
                          <pre><code>pip install Virtualenv
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line">        </span><br><span class="line"><span class="comment">*   造起来吧</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">    *   创建虚拟环境：</span></span><br><span class="line"><span class="comment">    *</span></span><br></pre>
                          </td>
                          </tr>
                          </table>
                          </figure> # 后面参数为Virtual environment name 虚拟环境名（可自行定义，我这里以Test为例） Virtualenv Test（Virtual environment name） <figure class="highlight markdown">
                            <table>
                              <tr>
                                <td class="gutter">
                                  <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre>
                                </td>
                                <td class="code">
                                  <pre><span class="line"><span class="code">        </span></span><br><span class="line"><span class="code">    </span></span><br><span class="line"><span class="code">    ![](DataBoke虚拟环境搭建微信图片_20200422033005.png)          ![](https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/微信图片_20200422033005.png)</span></span><br><span class="line"><span class="bullet">    *   </span>命令行解析：首先创建了一个名为Virtual environment 的文件夹并且进入(至于为何创建，是因为便于多虚拟环境包管理，这个也是一个 <span class="strong">**virtualenv**</span> 的一个缺陷。自己思考后想到较为妥善的解决方法，稍后会阐述明白)</span><br><span class="line"><span class="bullet">        *   </span>1、 使用Virtualenv Test命令创建了一个名为Test的虚拟环境包</span><br><span class="line"><span class="bullet">        *   </span>2、 进入Test虚拟文件夹中的Scripts</span><br><span class="line"><span class="bullet">        *   </span>3、此时已经进入且使用虚拟环境，后又运行了 deactivate.bat 命令退出了虚拟环境</span><br><span class="line"><span class="bullet">        *   </span>4、 此时为系统环境（或者说没有使用任何虚拟环境）区分是否为虚拟环境以路径开头是否有“（Virtual environment name）”</span><br><span class="line"><span class="bullet">    *   </span>删除虚拟环境包</span><br><span class="line"><span class="bullet">        *   </span>直接删除所对应的文件夹即可</span><br><span class="line"><span class="bullet">    *   </span>注意点：</span><br><span class="line"><span class="bullet">        *   </span>需进入Scripts目录才可运行</span><br><span class="line"><span class="bullet">        *   </span>需添加名为. bat后缀才可运行</span><br><span class="line"><span class="bullet">    *   </span>阐述一下Virtualenv缺陷(不是这个库，而是这个方法！！！)，</span><br><span class="line"><span class="bullet">    *   </span>Virtualenv这个方法是直接在当前目录下创建一个虚拟环境，如果没有单独建立类似于名为Virtual environment 的文件夹难于管理虚拟环境包，一个两个还好，如果多了的话是十分头疼的。个人建议，如果使用此方法，</span><br><span class="line"><span class="bullet">        *   </span>Virtualenv这个方法需要进入虚拟环境包中的Scripts文件夹才可运行相关的命令，如进入及退出虚拟环境的命令。(当然也可用创建环境变量的方法来解决此缺陷，但如果是单文件还好，那如果是多个虚拟环境包，反倒给自己填麻烦)</span><br><span class="line"></span><br><span class="line"><span class="section">## 二、 搭建Python virtualenvwrapper-win</span></span><br><span class="line"></span><br><span class="line"><span class="section">### 引言：</span></span><br><span class="line"></span><br><span class="line">​ 经过上述的缺陷分析似乎并没有那么方便，就算创建了相关文件夹来放虚拟环境包，但似乎管理起来，却并没有那么简单。（一两个的还好，但是到了三四个，上十个，百个绝对是一件伤脑筋的事情），那么是否有方法能有弥补相关的缺陷呢？答案肯定是有的。Ta 就是 <span class="strong">**virtualenvwrapper-win**</span></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section">## virtualenvwrapper-win:</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*   </span>介绍： Virtaulenvwrapper是基于virtualenv的扩展包</span><br><span class="line"><span class="bullet">*   </span>功能： 更方便管理虚拟环境</span><br><span class="line"><span class="bullet">*   </span>实现： 它可以将所有虚拟环境整合在一个目录下 ，统一管理（新增，删除，修改，复制，检查），也能够快速在各个虚拟环境间自由切换。</span><br><span class="line"><span class="code">    </span></span><br><span class="line"><span class="code">    ###### 提前准备：</span></span><br><span class="line"><span class="code">    </span></span><br><span class="line"><span class="bullet">    *   </span>请确保Python已安装至使用的电脑中(最好已经配置好了环境变量）</span><br><span class="line"><span class="bullet">    *   </span>请确保pip命令能够正常使用，且能正常安装库</span><br><span class="line"><span class="code">    </span></span><br><span class="line"><span class="code">    ###### 安装：</span></span><br></pre>
                                </td>
                              </tr>
                            </table>
                          </figure> pip install virtualenvwrapper-win </code></pre>
                        </li>
                      </ul>
                    </li>
                  </ul>
                  <h2 id="使用："><a href="#使用：" class="headerlink" title="使用："></a>使用：</h2>
                  <ul>
                    <li>
                      <p>为了便于使用个人建议，配置系统环境变量，配置如下：​ 找到我的电脑（此电脑），右击属性，点击高级系统设置，后点击环境变量在系统环境变量中添加以下信息，后确认退出​ <img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/Annotation-2020-04-22-022624-320x294.png" alt=""></p>
                      <h3 id="virtualenvwrapper-win常用命令如下："><a href="#virtualenvwrapper-win常用命令如下：" class="headerlink" title="virtualenvwrapper-win常用命令如下："></a>virtualenvwrapper-win常用命令如下：</h3>
                      <ul>
                        <li>创建虚拟环境： mkvirtualenv (Virtual environment name)</li>
                        <li>进入虚拟环境：workon (Virtual environment name)</li>
                        <li>退出当前虚拟环境： deactivate</li>
                        <li>删除虚拟环境：rmvirtualenv (Virtual environment name)</li>
                        <li>
                          <p>列出所有虚拟环境列表：workon</p>
                          <h5 id="演示如下（此时的Virtual-environment-name-Test）箭头代表输入的步骤："><a href="#演示如下（此时的Virtual-environment-name-Test）箭头代表输入的步骤：" class="headerlink" title="演示如下（此时的Virtual environment name = Test）箭头代表输入的步骤："></a>演示如下（此时的Virtual environment name = Test）箭头代表输入的步骤：<img src="DataBoke虚拟环境搭建微信图片_20200422044041.png" alt=""></h5>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/微信图片_20200422044041.png" alt=""></p>
                      <ol>
                        <li>使用mkvirtualenv Test 命令创建一个名为Test的虚拟环境包（并且创建完成后自动进入此虚拟环境）</li>
                        <li>使用 deactivate 命令退出当前虚拟环境</li>
                        <li>使用workon 命令列出虚拟环境表</li>
                        <li>使用workon Test 命令 进入名为Test的虚拟环境列表</li>
                        <li>使用 rmvirtualenv Test命令删除了名为Test的虚拟环境列表</li>
                        <li>
                          <p>再次使用使用workon Test 命令 进入名为Test的虚拟环境列表</p>
                          <hr>
                          <h2 id="Mac-Linux同理，就不再这里一一赘述了"><a href="#Mac-Linux同理，就不再这里一一赘述了" class="headerlink" title="Mac \Linux同理，就不再这里一一赘述了"></a>Mac \Linux同理，就不再这里一一赘述了</h2>
                        </li>
                      </ol>
                    </li>
                  </ul>
                  <h2 id="三、虚拟环境的使用："><a href="#三、虚拟环境的使用：" class="headerlink" title="三、虚拟环境的使用："></a>三、虚拟环境的使用：</h2>
                  <ol>
                    <li>
                      <h3 id="命令行下，运行虚拟环境-直接Python-（Reptile-Engineering-py）-即可"><a href="#命令行下，运行虚拟环境-直接Python-（Reptile-Engineering-py）-即可" class="headerlink" title="命令行下，运行虚拟环境 直接Python （Reptile Engineering.py） 即可"></a>命令行下，运行虚拟环境 直接Python （Reptile Engineering.py） 即可</h3>
                      <ul>
                        <li>不使用虚拟环境：<ul>
                            <li><img src="DataBoke虚拟环境搭建微信图片_20200422045618.png" alt=""><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/微信图片_20200422045618.png" alt=""></li>
                          </ul>
                        </li>
                        <li>使用虚拟环境(因为是一个新的环境，所有的包、库都未安装所以报错&lt;没有requests模块错误&gt;：<ul>
                            <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/微信图片_20200422045926.png" alt=""></li>
                          </ul>
                        </li>
                        <li>不使用虚拟不使用虚拟环境：直接运行即可。<ul>
                            <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/微信图片_20200422050725.png" alt=""></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <h3 id="Pycharm：使用虚拟环境-以下步骤将虚拟环境Python解释器加载到Pycharm中来，步骤如下："><a href="#Pycharm：使用虚拟环境-以下步骤将虚拟环境Python解释器加载到Pycharm中来，步骤如下：" class="headerlink" title="Pycharm：使用虚拟环境:以下步骤将虚拟环境Python解释器加载到Pycharm中来，步骤如下："></a>Pycharm：使用虚拟环境:以下步骤将虚拟环境Python解释器加载到Pycharm中来，步骤如下：</h3>
                    </li>
                  </ol>
                  <p><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/1.png" alt=""><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/2.png" alt=""></p>
                  <ol>
                    <li><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/3.png" alt=""><img src="https://qiniu.cuiqingcai.com/wp-content/uploads/2020/04/4.png" alt=""></li>
                  </ol>
                  <h3 id="写在最后："><a href="#写在最后：" class="headerlink" title="写在最后："></a>写在最后：</h3>
                  <p>首先和大家说句Sorry啊，此篇文章中有许多内容来自于百度搜索所得，后根据自己理解改进及编写此篇文章。感谢查看与支持，不喜勿喷。谢谢。 如果有疑问欢迎在评论区留言，我看到后会在第一时间回复，咱们评论区见，加油，欧里给~ 祝学习进步，升官发财，感谢查看与支持，谢谢。 我叫Payen，某大学在校大二学生，我有Get到你么？</p>
                  <h2 id="声明："><a href="#声明：" class="headerlink" title="声明："></a>声明：</h2>
                  <p>​ 本人Payen为本文原著，转载请注明出处，谢谢 ​ ——Payne</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-04-22 05:27:40" itemprop="dateCreated datePublished" datetime="2020-04-22T05:27:40+08:00">2020-04-22</time>
                </span>
                <span id="/9212.html" class="post-meta-item leancloud_visitors" data-flag-title="虚拟环境搭建" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>2.8k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>3 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9205.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 技术杂谈 <i class="label-arrow"></i>
                  </a>
                  <a href="/9205.html" class="post-title-link" itemprop="url">如何用 JMeter + Kubernetes + Prometheus + Grafana + Alert Manager 实时监控你的服务器</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>最近我在公司负责的业务已经正式投入上线了，既然是线上环境，那么就需要保证其可用性。 我负责的业务其中就包括一个 Web Service，我需要保证 Service 的每个接口都是可用的，如果某个时间流量大了或者服务器挂掉了，那需要第一时间通知到我。 这时候可能我有这些需求：</p>
                  <ol>
                    <li>定时测试和监控服务器每个接口是否是可用的，包括返回的数据、状态码是不是正确的。</li>
                    <li>我可以随时查看到每个接口的响应时间、可用率等信息，最好是有可视化的图表呈现，一目了然。</li>
                    <li>如果接口的错误率超过某一阈值一段时间，及时通知我，包括电话、短信或邮件。</li>
                    <li>需要主动去监测接口的可用性，注意这里是主动监测而不是被动监测，不是等用户用的时候报错才提醒我。比如在没有用户用的时候，我也能及时知道每个接口的可用性。</li>
                  </ol>
                  <blockquote>
                    <p>其实，国内的一些服务商已经提供了这些功能，即主动型服务监控，比如「监控宝」，但我并不想用这些服务，一是需要额外花钱，二是数据上并不安全，三是我需要把我的服务集成到公司内部的监控体系下。</p>
                  </blockquote>
                  <p>有了这些需求，我就结合公司内部现有的一些基础设施先确定一个技术选型，然后实施就好了。 目前公司内部使用的一套监控体系是基于 Kubernetes + Prometheus + Grafana + Alert Manager 的，那么基于我的需求来分析下我怎样利用这一套体系来搭建我想要的监控设施。 解决方案分析：</p>
                  <ol>
                    <li>首先关于第四个需求比较特殊，现有的监控体系其实已经可以做到服务的被动监测，比如某个 Service 的 API 被调用了，那么相应的调用数据都会被汇总到 Prometheus 上面，Prometheus 里面会计算接口调用的可用率，如果一段时间内如果错误率超过一定阈值，那就报警，追错误的时候去查下 log 就好了。但其实这个不能做到主动监测，比如在凌晨三四点，当没有用户使用的时候，如果这时候服务器出现问题了，我也需要第一时间能知道，所以我需要有一个定时的主动监测程序来实时监测我的所有接口是否是可用的。要做到主动监控，那我一定需要一个接口监测程序定时运行并校验每个接口的结果，这里我选用的就是开源的 JMeter，它大多数情况下是被用来做压测的，但绝对能满足接口调用和检测的需求，只要我定时跑 JMeter 来检测就好了。</li>
                    <li>关于第一个需求，我需要监测我的每个接口都是可用的，包括返回的数据也需要是想要的结果。这时候我们可能想到直接跑一些 test case 之类的，但这些其实大多数都是在部署或运行时校验的，如果我要实时跑或者 test case 有 update 了，也不太方便。另外为了写接口测试的时候，如果没有现成的工具，我们可能得写一堆代码，每个接口都写一个，包括 GET 请求的 URL 参数、POST 请求的 Body 信息等等，然后校验接口的返回结果是不是对的，也太麻烦了。所以我们需要找到一个可用的工具来帮助我们快速地完成这些功能。所以，我选择的 JMeter 也提供了可视化界面，我只需要配置一些接口和参数即可，另外它还带有定时器、断言、动态参数、多线程等功能，这样我们也可以做到并发测试、随机等待、动态构造请求参数、返回结果判断等功能了。</li>
                    <li>其次再说第二个和第三个需求，其实用现有的 Prometheus + Grafana 就能解决了，这里最关键的则是我的接口监控结果能发给 Prometheus 才行。既然我选用了 JMeter，那么我怎样把 JMeter 的数据发送给 Prometheus 呢？这里需要借助于 JMeter 的一个插件 jmeter-prometheus-plugin，<a href="https://github.com/johrstrom/jmeter-prometheus-plugin，利用它就能将" target="_blank" rel="noopener">https://github.com/johrstrom/jmeter-prometheus-plugin，利用它就能将</a> JMeter 变成一个 Data Exporter，Prometheus 来抓取就好了。</li>
                  </ol>
                  <p>所以，综上所述，我利用的一套服务监控体系就是 JMeter + Kubernetes + Prometheus + Grafana + Alert Manager，那么就开干吧。 这里先放一张图，看下最终的监控 Grafana 面板吧： <img src="https://qiniu.cuiqingcai.com/2020-04-14-072518.png" alt="image-20200414152517273"> 这里一些接口的名称和 URL 我就打码了，这里我可以在 Grafana 中每时每刻都看到每个接口的可用率、响应（包括平均、最快、最慢）时间、状态码等信息，这些信息就是 JMeter 定时检测得到的结果，监控数据转到 Prometheus 里面然后经过 Grafana 可视化出来，并能通过一些指标来实现报警机制。 感兴趣的话，可以继续往下看哈。 为了达成这些功能，我需要解决如下问题：</p>
                  <ul>
                    <li>如何使用 JMeter 来测试每个接口的使用情况。</li>
                    <li>JMeter 如何和 Prometheus 对接起来，即如何集成 jmeter-prometheus-plugin 到 JMeter。</li>
                    <li>JMeter 怎样去部署，部署到哪里。</li>
                    <li>可视化数据怎样来呈现。</li>
                    <li>错误状态怎样来快速查看。</li>
                    <li>出错通知如何实现，比如打电话、发邮件等等。</li>
                  </ul>
                  <p>下面我们就来一个个总结说一下。</p>
                  <blockquote>
                    <p>由于内容比较多，整个流程我实践下来然后测试通总共花了两天左右的时间，在这里就不完全展开说了，只提关键点了。</p>
                  </blockquote>
                  <h2 id="JMeter-测试"><a href="#JMeter-测试" class="headerlink" title="JMeter 测试"></a>JMeter 测试</h2>
                  <p>第一步那就是用 JMeter 来完成接口的测试了，接口的调用形式肯定都有相应的规范的，比如 GET 请求设置啥参数，POST 请求发送什么数据，我们利用 JMeter 都能方便地配置。 JMeter 是有 GUI 的，我们在编写的时候在 GUI 里面设置就好了，界面样例如下所示： <img src="https://qiniu.cuiqingcai.com/2020-04-14-073257.png" alt="JMeter界面（图源：https://www.jianshu.com/p/0349441da3c4）"> 这里提示几点可能用到的东西：</p>
                  <ul>
                    <li>动态参数，JMeter 里面是支持动态参数设置的，比如循环测试 id 从 1 到 100，或者动态 POST 的数据替换，都是可以做到的，这个可以满足你花样测试接口的需求。</li>
                    <li>定时器，JMeter 里面有很多 Timer，可以设置各种各样的延时操作，比如每 3 分钟测一次，随机等待多少秒测一次都行。</li>
                    <li>断言，测试了接口之后，我们不仅要知道是否是可用的，同时也要判断其结果是不是正确的，如果返回状态码是正确的但是结果不对，那也白搭，所以可以使用断言来检查返回结果。</li>
                  </ul>
                  <p>关于 JMeter 的功能这里就不再展开讲了，反正几乎你想实现的任何测试功能都可以实现，具体的用法可以参考 JMeter 的官方文档：<a href="https://jmeter.apache.org/usermanual/get-started.html" target="_blank" rel="noopener">https://jmeter.apache.org/usermanual/get-started.html</a>。 嗯，写好了之后，可以用 JMeter 在本地进行测试，测试好了时候，可以把 JMeter 的这个 Test Plan 存成一个 jmx 文件，留作后面备用。</p>
                  <h2 id="对接-Prometheus"><a href="#对接-Prometheus" class="headerlink" title="对接 Prometheus"></a>对接 Prometheus</h2>
                  <p>接下来就是如何把数据对接到 Prometheus 里面了。 默认情况下，JMeter 是能导出数据到诸如 InfluxDB 这样的数据库的，借助于它自带的 Listener 即可实现。它并不带导出到 Prometheus 的功能。 这里我们就需要借助于 jmeter-prometheus-plugin 这个插件了，其 GitHub 地址是 <a href="https://github.com/johrstrom/jmeter-prometheus-plugin，具体的用法可以参考其官方说明" target="_blank" rel="noopener">https://github.com/johrstrom/jmeter-prometheus-plugin，具体的用法可以参考其官方说明</a>。 这里提示几点：</p>
                  <ul>
                    <li>jmeter-prometheus-plugin 安装的时候把 jar 文件放到 JMeter 目录下就好了，jar 文件可以直接看这里下载：<a href="https://github.com/johrstrom/jmeter-prometheus-plugin#programatically" target="_blank" rel="noopener">https://github.com/johrstrom/jmeter-prometheus-plugin#programatically</a>。</li>
                    <li>安装好这个插件之后，需要增加一个 Listener，然后配置各种导出字段和参数，可以参考这个 jmx 文件的配置：<a href="https://github.com/johrstrom/jmeter-prometheus-plugin/blob/master/docs/examples/simple_prometheus_example.jmx，可以把这个" target="_blank" rel="noopener">https://github.com/johrstrom/jmeter-prometheus-plugin/blob/master/docs/examples/simple_prometheus_example.jmx，可以把这个</a> jmx 打开，然后把 Listener 拷贝到你的 Test Plan 即可。</li>
                    <li>jmeter-prometheus-plugin 这个插件会把 JMeter 变成一个 Data Exporter，而不是通过 Prometheus Push Gateway 来主动推送监控信息，所以它会在本地启动一个端口，默认是 9270。</li>
                  </ul>
                  <p>Listener 的配置示例如图所示： <img src="https://qiniu.cuiqingcai.com/2020-04-14-074606.png" alt="JMeter Listener"> 这里字段名如 jsr223_rt_as_summary 可以自行修改，比如这里我就统一修改为了 jmeter_test_xxx 这样的字段。 配置完成之后，运行 JMeter 之后，我们就能在 <a href="http://localhost:9270" target="_blank" rel="noopener">http://localhost:9270</a> 上看到 Exporter 的信息，如图所示： <img src="https://qiniu.cuiqingcai.com/2020-04-14-075007.png" alt="image-20200414155005999"> 这里面就包含了 JMeter 的一些接口测试结果，包括成功次数、失败次数、状态码等等，另外还有 JVM、处理器等各种环境信息。 部署之后把对应的 URL 交由 Prometheus 就可以把监控数据收集到 Prometheus 里面了。</p>
                  <h2 id="部署-JMeter"><a href="#部署-JMeter" class="headerlink" title="部署 JMeter"></a>部署 JMeter</h2>
                  <p>完成上述两步，我们就能成功测试 Service 的每个接口并能生成测试结果的 Exporter 了。 那么 JMeter 写好了，怎么来部署呢？可以用 crontab，放某台服务器上，不过这里最理想的方式当然是部署到 Kubernetes 里面了。 这里就需要把 JMeter 打包成一个镜像了，GitHub 找来找去没找到几个合适的，另外也没有把 jmeter-prometheus-plugin 包括进去，那只有自己来了。 我基于 <a href="https://github.com/justb4/docker-jmeter" target="_blank" rel="noopener">https://github.com/justb4/docker-jmeter</a> 进行了二次改写，最后打包了一个镜像，已经开源了，地址为：<a href="https://github.com/Germey/JMeterMonitor，镜像名称为" target="_blank" rel="noopener">https://github.com/Germey/JMeterMonitor，镜像名称为</a> germey/jmeter，这里就不再展开讲细节了，有点复杂。 运行所需要的 docker-compose 文件如下：</p>
                  <figure class="highlight less">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attribute">version</span>: <span class="string">'3'</span></span><br><span class="line"><span class="attribute">services</span>:</span><br><span class="line">  <span class="attribute">jmeter</span>:</span><br><span class="line">    <span class="attribute">restart</span>: always</span><br><span class="line">    <span class="attribute">image</span>: <span class="string">'germey/jmeter'</span></span><br><span class="line">    <span class="attribute">volumes</span>:</span><br><span class="line">      - ./<span class="attribute">jmx</span>:/app</span><br><span class="line">    <span class="attribute">command</span>:</span><br><span class="line">      - sample.jmx</span><br><span class="line">    <span class="attribute">ports</span>:</span><br><span class="line">      - <span class="string">"80:80"</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>这里我把本地的 jmx 文件夹 mount 到了 Docker 的 app 文件夹，所以这里在运行时需要在项目文件夹下新建 jmx 文件夹，用于存放 jmx 文件，把刚才写好的 jmx 文件放过来就好了。 另外 command 就是 jmx 文件的名称，这里需要修改成你的 jmx 文件。 另外部署到 Kubernetes 的话可以参考这里的 yml 文件：<a href="https://github.com/Germey/JMeterMonitor/tree/master/kubernetes" target="_blank" rel="noopener">https://github.com/Germey/JMeterMonitor/tree/master/kubernetes</a>。</p>
                  <h2 id="Prometheus-收集数据"><a href="#Prometheus-收集数据" class="headerlink" title="Prometheus 收集数据"></a>Prometheus 收集数据</h2>
                  <p>在成功部署 JMeter 之后呢，它肯定会提供一个 Web Service 来暴露 JMeter 的测试数据。 如果部署好了 Prometheus 之后，可以把它放在 Prometheus 的 scrape_configs，比如 Service 的 URL 为 jmeter-monitor.com，可以修改 prometheus.yml：</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">global:</span><br><span class="line">  scrape_interval:     15s # By default, scrape targets every 15 seconds.</span><br><span class="line"></span><br><span class="line">  # Attach these labels <span class="keyword">to</span> any time series <span class="keyword">or</span> alerts when communicating with</span><br><span class="line">  # external systems (federation, remote storage, Alertmanager).</span><br><span class="line">  external_labels:</span><br><span class="line">    monitor: <span class="string">'codelab-monitor'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A scrape configuration containing exactly one endpoint to scrape:</span></span><br><span class="line"><span class="comment"># Here it's Prometheus itself.</span></span><br><span class="line">scrape_configs:</span><br><span class="line">  # The job name is added as a label `<span class="attribute">job</span>=&lt;job_name&gt;` <span class="keyword">to</span> any timeseries scraped <span class="keyword">from</span> this config.</span><br><span class="line">  - job_name: <span class="string">'jmeter-monitor'</span></span><br><span class="line"></span><br><span class="line">    # Override the global<span class="built_in"> default </span><span class="keyword">and</span> scrape targets <span class="keyword">from</span> this job every 5 seconds.</span><br><span class="line">    scrape_interval: 5s</span><br><span class="line"></span><br><span class="line">    static_configs:</span><br><span class="line">      - targets: [<span class="string">'jmeter-monitor.com'</span>]</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>其具体的配置字段可以参见：<a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/" target="_blank" rel="noopener">https://prometheus.io/docs/prometheus/latest/configuration/configuration/</a>。 另外呢，这种方式其实并不怎么好，修改 Prometheus 挺麻烦的，推荐使用 Helm + Prometheus-Operator 来安装 Prometheus，然后修改 values.yml 即可修改配置文件了，比如修改 <a href="https://github.com/helm/charts/blob/master/stable/prometheus-operator/values.yaml" target="_blank" rel="noopener">https://github.com/helm/charts/blob/master/stable/prometheus-operator/values.yaml</a> 里面的 additionalScrapeConfigs 即可。</p>
                  <h2 id="Grafana-可视化"><a href="#Grafana-可视化" class="headerlink" title="Grafana 可视化"></a>Grafana 可视化</h2>
                  <p>Prometheus 收集完数据之后，我们可以将其可视化出来了。 比如这里有些字段，jmeter_test_can_fail_success 代表成功请求的次数，jmeter_test_can_fail_total 代表总的测试次数。 那么就可以用一个表达式来计算 Error Rate 了：</p>
                  <figure class="highlight routeros">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">1- jmeter_test_can_fail_success&#123;<span class="attribute">instance</span>=<span class="string">"<span class="variable">$instance</span>"</span>&#125; / jmeter_test_can_fail_total&#123;<span class="attribute">instance</span>=<span class="string">"<span class="variable">$instance</span>"</span>&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>效果如下： <img src="https://qiniu.cuiqingcai.com/2020-04-14-085848.png" alt="image-20200414165846578"> 这里就能实时可视化展示出来错误率了，更多的一些配置可以自行修改这些表达式进行定制。 最后我配置成的一些监控面板如下所示： <img src="https://qiniu.cuiqingcai.com/2020-04-14-092834.png" alt="image-20200414172832205"> 这样我要是什么时候想看 Service 接口的情况，随时上来看就好了。</p>
                  <h2 id="报警"><a href="#报警" class="headerlink" title="报警"></a>报警</h2>
                  <p>对于报警来说，可以使用两种方式配置，一个是直接使用 Grafana 自带的报警机制，另外是可以通过 Alert Manager，后者功能更加强大，推荐使用后者。 对于 Alert Manager 来说，其监控的规则这里推荐使用 Prometheus-Operator 里面自带的 PrometheusRule 来实现，比如可以定义这么一个 PrometheusRule：</p>
                  <figure class="highlight smali">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">apiVersion: monitoring.coreos.com/v1</span><br><span class="line">kind: PrometheusRule</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    app: monitor</span><br><span class="line">  name: monitor-rules</span><br><span class="line">spec:</span><br><span class="line">  groups:</span><br><span class="line">  - name: monitor</span><br><span class="line">    rules:</span><br><span class="line">    - alert: ServiceErroring</span><br><span class="line">      labels:</span><br><span class="line">        severity: warning</span><br><span class="line">      annotations:</span><br><span class="line">        message: Service 连续5分钟错误率过高。</span><br><span class="line">      expr: |</span><br><span class="line">        avg(1- jmeter_test_can_fail_success&#123;job=<span class="string">"service-monitor"</span>&#125; / jmeter_test_can_fail_total&#123;job=<span class="string">"service-monitor"</span>&#125;) &gt; 0</span><br><span class="line">      for: 5m</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>这样配置好一个 PrometheusRule 之后，Prometheus 会自动应用这个 Rule 然后监控。 报警方式的话可以通过配置 Alert Manger 的 Receiver 来实现，包括打电话、邮件、短信等等，配置规则可以见：<a href="https://prometheus.io/docs/alerting/configuration/" target="_blank" rel="noopener">https://prometheus.io/docs/alerting/configuration/</a>。 目前我是利用了组内已经提供的报警机制，组内已经对接好了电话、短信、邮件报警，并可以把每个人的信息进行管理和分组，然后应用到某个报警规则里面，这样一旦有问题，就可以实现报警啦。 另外对于一些规则的管理，我们可以使用一些开源的 Dashboard 来管理，如 Krama，<a href="https://github.com/prymitive/karma，利用它我们可以方便配置、禁用和筛选一些报警规则，界面如下" target="_blank" rel="noopener">https://github.com/prymitive/karma，利用它我们可以方便配置、禁用和筛选一些报警规则，界面如下</a>： <img src="https://qiniu.cuiqingcai.com/2020-04-14-093102.png" alt="image-20200414173101030"> 不过公司内部已经实现了一套了，对接了公司的员工账号，更加方便，所以我就没有再用这个了。</p>
                  <h2 id="定时重启"><a href="#定时重启" class="headerlink" title="定时重启"></a>定时重启</h2>
                  <p>这里另外遇到了一个问题，就是 JMeter 导出的监控数据是不断累积的，而监控的数据则是需要监控最近几分钟的数据，这样一旦发生了 Error，那么 Error Rate 由于历史数据的原因，在服务恢复之后永远不会降为 0，这就导致一些问题。另外如果 JMeter 如果一直运行，其占用的内存会越来越大。 所以一个最好的方式就是定时将 JMeter 重启，这样可以定时清空历史监控数据，保证在新的一段时间内测试获取到最近的监控数据，而不是混杂历史数据。 这里重启就可以利用 Kubernetes 的 Cronjob，比如我们可以每隔 10 分钟让 JMeter 重启一次，类似配置如下：</p>
                  <figure class="highlight less">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="attribute">apiVersion</span>: batch/v1beta1</span><br><span class="line"><span class="attribute">kind</span>: CronJob</span><br><span class="line"><span class="attribute">metadata</span>:</span><br><span class="line">  <span class="attribute">name</span>: jmeter-monitor</span><br><span class="line"><span class="attribute">spec</span>:</span><br><span class="line">  <span class="attribute">successfulJobsHistoryLimit</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">failedJobsHistoryLimit</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">concurrencyPolicy</span>: Replace</span><br><span class="line">  <span class="attribute">schedule</span>: <span class="string">"*/10 * * * *"</span></span><br><span class="line">  <span class="attribute">jobTemplate</span>:</span><br><span class="line">    <span class="attribute">spec</span>:</span><br><span class="line">      <span class="attribute">template</span>:</span><br><span class="line">        <span class="attribute">metadata</span>:</span><br><span class="line">          <span class="attribute">labels</span>:</span><br><span class="line">            <span class="attribute">service</span>: jmeter-monitor</span><br><span class="line">        <span class="attribute">spec</span>:</span><br><span class="line">          <span class="attribute">containers</span>:</span><br><span class="line">            - <span class="attribute">args</span>:</span><br><span class="line">                - jmeter-monitor.jmx</span><br><span class="line">              <span class="attribute">image</span>: germey/<span class="attribute">jmeter</span>:<span class="number">1</span></span><br><span class="line">              <span class="attribute">name</span>: jmeter-monitor</span><br><span class="line">              <span class="attribute">volumeMounts</span>:</span><br><span class="line">                - <span class="attribute">mountPath</span>: /app</span><br><span class="line">                  <span class="attribute">name</span>: jmeter-storage</span><br><span class="line">              <span class="attribute">ports</span>:</span><br><span class="line">                - <span class="attribute">containerPort</span>: <span class="number">80</span></span><br><span class="line">              <span class="attribute">imagePullPolicy</span>: IfNotPresent</span><br><span class="line">              <span class="attribute">resources</span>:</span><br><span class="line">                <span class="attribute">requests</span>:</span><br><span class="line">                  <span class="attribute">memory</span>: <span class="string">"4Gi"</span></span><br><span class="line">                  <span class="attribute">cpu</span>: <span class="string">"250m"</span></span><br><span class="line">                <span class="attribute">limits</span>:</span><br><span class="line">                  <span class="attribute">memory</span>: <span class="string">"4Gi"</span></span><br><span class="line">                  <span class="attribute">cpu</span>: <span class="string">"250m"</span></span><br><span class="line">          <span class="attribute">restartPolicy</span>: OnFailure</span><br><span class="line">          <span class="attribute">volumes</span>:</span><br><span class="line">            - <span class="attribute">name</span>: jmeter-storage</span><br><span class="line">              <span class="attribute">persistentVolumeClaim</span>:</span><br><span class="line">                <span class="attribute">claimName</span>: jmeter</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                  <p>这里有几个地方值得注意：</p>
                  <ul>
                    <li>一个是 concurrencyPolicy，这里配置为 Replace，意思是重启后新建的 Pod 会替换原来的 Pod，保证 JMeter 的 Pod 只有一个。</li>
                    <li>另外一个是 imagePullPolicy 配置为 IfNotPresent，这样可以每次重启的时候不用重新拉镜像。</li>
                  </ul>
                  <p>这样的话，就能避免发生错误的时候 Error Rate 无法降为 0 的状态了。 好了，到此为止呢，我们就介绍完了使用 JMeter + Kubernetes + Prometheus + Grafana + Alert Manager 进行监控的整体思路了，希望对大家有帮助。 另外由于内容比较多，这里很多地方没有展开讲解，比如 JMeter 的配置、Grafana 的配置、Prometheus-Operator 的配置、Alert Manager 的配置等等，不知道大家敢不敢兴趣，如果感兴趣的话，后面可以继续深入写一个小系列来讲解哈。</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-04-21 12:51:08" itemprop="dateCreated datePublished" datetime="2020-04-21T12:51:08+08:00">2020-04-21</time>
                </span>
                <span id="/9205.html" class="post-meta-item leancloud_visitors" data-flag-title="如何用 JMeter + Kubernetes + Prometheus + Grafana + Alert Manager 实时监控你的服务器" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>7.9k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>7 分钟</span>
                </span>
              </div>
            </article>
            <article itemscope itemtype="http://schema.org/Article" class="post-block index" lang="zh-CN">
              <link itemprop="mainEntityOfPage" href="https://cuiqingcai.com/9202.html">
              <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                <meta itemprop="image" content="/images/avatar.png">
                <meta itemprop="name" content="崔庆才">
                <meta itemprop="description" content="崔庆才的个人站点，记录生活的瞬间，分享学习的心得。">
              </span>
              <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="静觅">
              </span>
              <header class="post-header">
                <h2 class="post-title" itemprop="name headline">
                  <a class="label"> 个人随笔 <i class="label-arrow"></i>
                  </a>
                  <a href="/9202.html" class="post-title-link" itemprop="url">说说拖延症</a>
                </h2>
              </header>
              <div class="post-body" itemprop="articleBody">
                <div class="thumb">
                  <img itemprop="contentUrl" class="random">
                </div>
                <div class="excerpt">
                  <p>
                  <p>刚刚又完成了一项任务。 而这个任务明天就要检查上交了，在这之前，我其实有很多很多的时间去做这件事，而我还是把这个拖到了最后。 怎么说呢？这个就是拖延症，不到最后一刻不去做，总要拖到 Deadline 才去搞。哎，其实吧反思我自己，一直就有这个毛病，不知道大家是不是也有这个毛病，或许大家都有的吧。不然怎么来的 Deadline 是第一生产力的说法呢。 这个毛病体现在太多方面了，比如拿我自己说吧：</p>
                  <ul>
                    <li>快到交稿的时候才去再赶点。</li>
                    <li>快到明天检查项目的时候才去做点。</li>
                    <li>快到考前再去复习。</li>
                    <li>…</li>
                  </ul>
                  <p>其实也不能说拖延症不好吧，比如拿第三项「快到考前再去复习」，我确实到最后的时候效率会比平时高非常多。我大学和研究生几乎都是翘课翘过来的，除了那些重要的或者老师点名的课会去去，其他的一律翘掉，最后考前突击两星期，然后考个八九十分。悄悄炫耀下吧，当时突击得大学平均绩点最后突击了年级前 5%，最后还保研了，这其实让我有点难以相信的。不过研究生成绩就不行了，因为已经铁了心毕业就工作，所以精力都放在了自己的项目和公司工作上面，所以成绩就没上心了，中游水平吧。 再说回大学吧，由于我平时对考前复习的 “拖延”，我可以平时把精力放在自己更感兴趣的事情上面。比如大学的时候吧，我加了一个实验室，基本上翘课的时间都是泡在实验室里面，我也忘记是在做什么了，也有在摸鱼，反正就是不想上课，当然也有挺多时候在撸代码，学一些技术什么的。所以相比一些「学霸」，我平时还 GET 到了一些编程技能，最后可能绩点还比他们高，而他们可能所有精力都放在功课上了，这可能他们想起来就有点气了哈哈。但其实吧，我虽然当时有点得意，以为自己占到了便宜，但其实当时对某些基础的理解确实不如平时认真学习的同学理解得透彻，比如当时计算机网络、计算机组成原理，当时就是考试突击，考试得了高分，但其实当时对里面的知识理解并不到位，到了真正用的时候，拾起来就没那么容易了。但当然也分科目，比如我到现在工作真的也没有用到计算机组成原理、电子电路的任何一点知识，以后也可能不会用到。所以，如果正在读本文的你，现在如果还在读大学的话，想清楚哪些科目将来对你可能是有用的，好好去学，好好去听讲，不要学我翘这么多课，没准你将来真的可能会用到，到时候就不要后悔自己当时为什么没好好学。 扯远了，这里只是想论证下有些情况拖延症并不一定完全是坏处，也算是给拖延症找了个美丽但似乎不太恰当的借口吧。 不过话说回来，拖延症在多数情况下是不好的，例子就不举了，大家肯定也深有体会。 我曾经也看过关于拖延症的一些科普或 “诊疗” 方案，怎么说呢？每人都会有惰性，每人都喜欢待在自己的 “舒适区”，毕竟躺在被窝里面玩手机多么舒服啊。 还看到一个关于拖延症的解释是说不够热爱，如果你非常热爱你做的事情，你是不会拖延的。我想了想，好像不是这样，比如我热爱 Python、喜欢编程、喜欢去实现某些东西，我想起来为什么有的时候还是不想去做呢？也不是不喜欢不热爱，那就是懒，可能喜欢呆在舒适区就是更合理的解释，因为我也喜欢睡懒觉和躺着玩手机。 所以，有什么方法能缓解我的拖延症呢？ 我之前试过一个方法，还是挺有用的。这里分享给大家吧。 比如我现在要写一个过了很久都不维护的项目吧，一想起来要打开它、配置环境、跑起来就各种事，懒得去做。这时候，我通常采取的方法就是强忍着，啥也不管，我就去迎着头皮去做，比如去把项目代码 clone 下来，然后 IDE 打开，然后试着跑起来，出错了稍微调一调，或者试着改几句代码。过这么十几分钟折腾，这时候发现再写，那就能比较顺利地写下去了。 比如我现在要写一篇文章，一想起来我要打开文本编辑器、构思、梳理知识点就又懒得去做。这时候我采取的方案就是强制我自己打开文本编辑器，比如现在写的这篇文章就是这样，我本来并不想写，但是脑子里面又想到了一些事情，还是写写比较好，那我就硬着头皮打开吧，本想写个一两百字就行了，结果你看我现在写到这里了，咦你看我又写了十个字呢，你看我又写了十个字呢，是不是有点文思泉涌啊哈哈哈哈哈。诺，你看到现在，从我写这篇稿子到现在，也就过了不到十分钟吧，我这篇稿子就快收尾了，舒服啊。 俗话说，万事开头难，做事情就是这样，如果大家也遇到了这个问题，不妨也可以试试这个方法，感觉还挺有效的。 但并不是 100% 有效哈，有时候我就是懒到一天啥也不想干也不是没有。 最后再说一个点，那就是其实，你看这件事，你在做之前，你可能觉得这件事好麻烦，不想干，或者好难，我干不了。但在可能大多数情况下，一旦你开始干了，你会发现并没有那么难那么麻烦。 其实，难的就是开始。 好了，我的稿子写完了，你看我在写之前觉得麻烦的一件事，这不就完结了吗。 嗯，就是大晚上随便写写，突然想起来，我似乎今天还有几件觉得比较麻烦的事还没干呢，我去开头去啦，拜拜。</p>
                  </p>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-user"></i>
                  </span>
                  <span class="post-meta-item-text">作者</span>
                  <span><a href="/authors/崔庆才" class="author" itemprop="url" rel="index">崔庆才</a></span>
                </span>
                <span class="post-meta-item">
                  <span class="post-meta-item-icon">
                    <i class="far fa-calendar"></i>
                  </span>
                  <span class="post-meta-item-text">发表于</span>
                  <time title="创建时间：2020-04-21 12:46:46" itemprop="dateCreated datePublished" datetime="2020-04-21T12:46:46+08:00">2020-04-21</time>
                </span>
                <span id="/9202.html" class="post-meta-item leancloud_visitors" data-flag-title="说说拖延症" title="阅读次数">
                  <span class="post-meta-item-icon">
                    <i class="fa fa-eye"></i>
                  </span>
                  <span class="post-meta-item-text">阅读次数：</span>
                  <span class="leancloud-visitors-count"></span>
                </span>
                <span class="post-meta-item" title="本文字数">
                  <span class="post-meta-item-icon">
                    <i class="far fa-file-word"></i>
                  </span>
                  <span class="post-meta-item-text">本文字数：</span>
                  <span>1.9k</span>
                </span>
                <span class="post-meta-item" title="阅读时长">
                  <span class="post-meta-item-icon">
                    <i class="far fa-clock"></i>
                  </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                  <span>2 分钟</span>
                </span>
              </div>
            </article>
            <script>
              document.querySelectorAll('.random').forEach(item => item.src = "https://picsum.photos/id/" + Math.floor(Math.random() * Math.floor(300)) + "/200/133")

            </script>
            <nav class="pagination">
              <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
            </nav>
          </div>
          <script>
            window.addEventListener('tabs:register', () =>
            {
              let
              {
                activeClass
              } = CONFIG.comments;
              if (CONFIG.comments.storage)
              {
                activeClass = localStorage.getItem('comments_active') || activeClass;
              }
              if (activeClass)
              {
                let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
                if (activeTab)
                {
                  activeTab.click();
                }
              }
            });
            if (CONFIG.comments.storage)
            {
              window.addEventListener('tabs:click', event =>
              {
                if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
                let commentClass = event.target.classList[1];
                localStorage.setItem('comments_active', commentClass);
              });
            }

          </script>
        </div>
        <div class="toggle sidebar-toggle">
          <span class="toggle-line toggle-line-first"></span>
          <span class="toggle-line toggle-line-middle"></span>
          <span class="toggle-line toggle-line-last"></span>
        </div>
        <aside class="sidebar">
          <div class="sidebar-inner">
            <ul class="sidebar-nav motion-element">
              <li class="sidebar-nav-toc"> 文章目录 </li>
              <li class="sidebar-nav-overview"> 站点概览 </li>
            </ul>
            <!--noindex-->
            <div class="post-toc-wrap sidebar-panel">
            </div>
            <!--/noindex-->
            <div class="site-overview-wrap sidebar-panel">
              <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <img class="site-author-image" itemprop="image" alt="崔庆才" src="/images/avatar.png">
                <p class="site-author-name" itemprop="name">崔庆才</p>
                <div class="site-description" itemprop="description">崔庆才的个人站点，记录生活的瞬间，分享学习的心得。</div>
              </div>
              <div class="site-state-wrap motion-element">
                <nav class="site-state">
                  <div class="site-state-item site-state-posts">
                    <a href="/archives/">
                      <span class="site-state-item-count">518</span>
                      <span class="site-state-item-name">日志</span>
                    </a>
                  </div>
                  <div class="site-state-item site-state-categories">
                    <a href="/categories/">
                      <span class="site-state-item-count">21</span>
                      <span class="site-state-item-name">分类</span></a>
                  </div>
                  <div class="site-state-item site-state-tags">
                    <a href="/tags/">
                      <span class="site-state-item-count">121</span>
                      <span class="site-state-item-name">标签</span></a>
                  </div>
                </nav>
              </div>
              <div class="links-of-author motion-element">
                <span class="links-of-author-item">
                  <a href="https://github.com/Germey" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Germey" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
                </span>
                <span class="links-of-author-item">
                  <a href="mailto:cqc@cuiqingcai.com.com" title="邮件 → mailto:cqc@cuiqingcai.com.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>邮件</a>
                </span>
                <span class="links-of-author-item">
                  <a href="https://weibo.com/cuiqingcai" title="微博 → https:&#x2F;&#x2F;weibo.com&#x2F;cuiqingcai" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>微博</a>
                </span>
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/Germey" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;Germey" rel="noopener" target="_blank"><i class="fa fa-magic fa-fw"></i>知乎</a>
                </span>
              </div>
            </div>
            <div style=" width: 100%;" class="sidebar-panel sidebar-panel-image sidebar-panel-active">
              <a href="https://www.abuyun.com/http-proxy/introduce.html" target="_blank" rel="noopener">
                <img src="https://qiniu.cuiqingcai.com/88au8.jpg" style=" width: 100%;">
              </a>
            </div>
            <div style=" width: 100%;" class="sidebar-panel sidebar-panel-image sidebar-panel-active">
              <a href="https://tutorial.lengyue.video/?coupon=12ef4b1a-a3db-11ea-bb37-0242ac130002_cqx_850" target="_blank" rel="noopener">
                <img src="https://qiniu.cuiqingcai.com/bco2a.png" style=" width: 100%;">
              </a>
            </div>
            <div style=" width: 100%;" class="sidebar-panel sidebar-panel-image sidebar-panel-active">
              <a href="https://luminati-china.io/?affiliate=ref_5fbbaaa9647883f5c6f77095" target="_blank" rel="noopener">
                <img src="https://qiniu.cuiqingcai.com/ikkq9.jpg" style=" width: 100%;">
              </a>
            </div>
            <div class="sidebar-panel sidebar-panel-tags sidebar-panel-active">
              <h4 class="name"> 标签云 </h4>
              <div class="content">
                <a href="/tags/2048/" style="font-size: 10px;">2048</a> <a href="/tags/599/" style="font-size: 10px;">599</a> <a href="/tags/Bootstrap/" style="font-size: 11.25px;">Bootstrap</a> <a href="/tags/CDN/" style="font-size: 10px;">CDN</a> <a href="/tags/CQC/" style="font-size: 10px;">CQC</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CSS-%E5%8F%8D%E7%88%AC%E8%99%AB/" style="font-size: 10px;">CSS 反爬虫</a> <a href="/tags/CV/" style="font-size: 10px;">CV</a> <a href="/tags/Django/" style="font-size: 10px;">Django</a> <a href="/tags/Eclipse/" style="font-size: 11.25px;">Eclipse</a> <a href="/tags/FTP/" style="font-size: 10px;">FTP</a> <a href="/tags/GitHub/" style="font-size: 11.25px;">GitHub</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/IT/" style="font-size: 10px;">IT</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/K8s/" style="font-size: 10px;">K8s</a> <a href="/tags/LOGO/" style="font-size: 10px;">LOGO</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MIUI/" style="font-size: 10px;">MIUI</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/PHP/" style="font-size: 11.25px;">PHP</a> <a href="/tags/PS/" style="font-size: 10px;">PS</a> <a href="/tags/Pathlib/" style="font-size: 10px;">Pathlib</a> <a href="/tags/PhantomJS/" style="font-size: 10px;">PhantomJS</a> <a href="/tags/PySpider/" style="font-size: 10px;">PySpider</a> <a href="/tags/Python/" style="font-size: 16.25px;">Python</a> <a href="/tags/Python3/" style="font-size: 12.5px;">Python3</a> <a href="/tags/Pythonic/" style="font-size: 10px;">Pythonic</a> <a href="/tags/QQ/" style="font-size: 10px;">QQ</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SAE/" style="font-size: 10px;">SAE</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/SVG/" style="font-size: 10px;">SVG</a> <a href="/tags/Scrapy/" style="font-size: 10px;">Scrapy</a> <a href="/tags/Scrapy-redis/" style="font-size: 10px;">Scrapy-redis</a> <a href="/tags/Scrapy%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">Scrapy分布式</a> <a href="/tags/Selenium/" style="font-size: 10px;">Selenium</a> <a href="/tags/TKE/" style="font-size: 10px;">TKE</a> <a href="/tags/Ubuntu/" style="font-size: 11.25px;">Ubuntu</a> <a href="/tags/Vue/" style="font-size: 11.25px;">Vue</a> <a href="/tags/Webpack/" style="font-size: 10px;">Webpack</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/tags/Winpcap/" style="font-size: 10px;">Winpcap</a> <a href="/tags/WordPress/" style="font-size: 13.75px;">WordPress</a> <a href="/tags/object-Object/" style="font-size: 10px;">[object Object]</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/ansible/" style="font-size: 10px;">ansible</a> <a href="/tags/cocos2d-x/" style="font-size: 10px;">cocos2d-x</a> <a href="/tags/e6/" style="font-size: 10px;">e6</a> <a href="/tags/fitvids/" style="font-size: 10px;">fitvids</a> <a href="/tags/git/" style="font-size: 11.25px;">git</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/js%E9%80%86%E5%90%91/" style="font-size: 10px;">js逆向</a> <a href="/tags/kubernetes/" style="font-size: 10px;">kubernetes</a> <a href="/tags/log/" style="font-size: 10px;">log</a> <a href="/tags/logging/" style="font-size: 10px;">logging</a> <a href="/tags/matlab/" style="font-size: 11.25px;">matlab</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/pywin32/" style="font-size: 10px;">pywin32</a> <a href="/tags/style/" style="font-size: 10px;">style</a> <a href="/tags/tomcat/" style="font-size: 10px;">tomcat</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/uwsgi/" style="font-size: 10px;">uwsgi</a> <a href="/tags/validate-cert/" style="font-size: 10px;">validate_cert</a> <a href="/tags/vsftpd/" style="font-size: 10px;">vsftpd</a> <a href="/tags/wamp/" style="font-size: 10px;">wamp</a> <a href="/tags/wineQQ/" style="font-size: 10px;">wineQQ</a> <a href="/tags/%E4%B8%83%E7%89%9B/" style="font-size: 11.25px;">七牛</a> <a href="/tags/%E4%B8%8A%E6%B5%B7/" style="font-size: 10px;">上海</a> <a href="/tags/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/" style="font-size: 10px;">个人网站</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size: 10px;">主题</a> <a href="/tags/%E4%BA%91%E5%AD%98%E5%82%A8/" style="font-size: 10px;">云存储</a> <a href="/tags/%E4%BA%AC%E4%B8%9C%E4%BA%91/" style="font-size: 10px;">京东云</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size: 10px;">人工智能</a> <a href="/tags/%E4%BB%A3%E7%90%86/" style="font-size: 10px;">代理</a> <a href="/tags/%E4%BB%A3%E7%A0%81/" style="font-size: 10px;">代码</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 10px;">优化</a> <a href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/" style="font-size: 10px;">位运算</a> <a href="/tags/%E5%88%86%E4%BA%AB/" style="font-size: 10px;">分享</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">分布式</a> <a href="/tags/%E5%88%9B%E4%B8%9A/" style="font-size: 10px;">创业</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 11.25px;">前端</a> <a href="/tags/%E5%8E%9F%E7%94%9FAPP/" style="font-size: 10px;">原生APP</a> <a href="/tags/%E5%8F%8D%E7%88%AC%E8%99%AB/" style="font-size: 12.5px;">反爬虫</a> <a href="/tags/%E5%91%BD%E4%BB%A4/" style="font-size: 10px;">命令</a> <a href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/" style="font-size: 10px;">响应式布局</a> <a href="/tags/%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/" style="font-size: 10px;">域名绑定</a> <a href="/tags/%E5%A4%A7%E4%BC%97%E7%82%B9%E8%AF%84/" style="font-size: 10px;">大众点评</a> <a href="/tags/%E5%AD%97%E4%BD%93%E5%8F%8D%E7%88%AC%E8%99%AB/" style="font-size: 10px;">字体反爬虫</a> <a href="/tags/%E5%AE%9E%E7%94%A8/" style="font-size: 10px;">实用</a> <a href="/tags/%E5%B4%94%E5%BA%86%E6%89%8D/" style="font-size: 18.75px;">崔庆才</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">工具</a> <a href="/tags/%E6%89%8B%E6%9C%BA%E8%AE%BF%E9%97%AE/" style="font-size: 10px;">手机访问</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 10px;">教程</a> <a href="/tags/%E6%97%85%E6%B8%B8/" style="font-size: 10px;">旅游</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 10px;">日志</a> <a href="/tags/%E6%9D%9C%E5%85%B0%E7%89%B9/" style="font-size: 10px;">杜兰特</a> <a href="/tags/%E6%A1%8C%E9%9D%A2/" style="font-size: 10px;">桌面</a> <a href="/tags/%E6%B1%9F%E5%8D%97/" style="font-size: 10px;">江南</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 10px;">游戏</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 15px;">爬虫</a> <a href="/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 10px;">环境变量</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">生活笔记</a> <a href="/tags/%E7%99%BB%E5%BD%95/" style="font-size: 10px;">登录</a> <a href="/tags/%E7%9F%A5%E4%B9%8E/" style="font-size: 10px;">知乎</a> <a href="/tags/%E7%9F%AD%E4%BF%A1/" style="font-size: 10px;">短信</a> <a href="/tags/%E7%BA%B8%E5%BC%A0/" style="font-size: 10px;">纸张</a> <a href="/tags/%E7%BD%91%E7%AB%99/" style="font-size: 10px;">网站</a> <a href="/tags/%E8%82%89%E5%A4%B9%E9%A6%8D/" style="font-size: 10px;">肉夹馍</a> <a href="/tags/%E8%A5%BF%E5%B0%91%E7%88%B7/" style="font-size: 10px;">西少爷</a> <a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 10px;">视频</a> <a href="/tags/%E8%BF%9C%E7%A8%8B/" style="font-size: 10px;">远程</a> <a href="/tags/%E9%80%86%E5%90%91/" style="font-size: 10px;">逆向</a> <a href="/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 10px;">配置</a> <a href="/tags/%E9%87%8D%E8%A3%85/" style="font-size: 10px;">重装</a> <a href="/tags/%E9%9D%99%E8%A7%85/" style="font-size: 17.5px;">静觅</a> <a href="/tags/%E9%A2%A0%E8%A6%86/" style="font-size: 10px;">颠覆</a> <a href="/tags/%E9%A3%9E%E4%BF%A1/" style="font-size: 10px;">飞信</a>
              </div>
              <script>
                const tagsColors = ['#00a67c', '#5cb85c', '#d9534f', '#567e95', '#b37333', '#f4843d', '#15a287']
                const tagsElements = document.querySelectorAll('.sidebar-panel-tags .content a')
                tagsElements.forEach((item) =>
                {
                  item.style.backgroundColor = tagsColors[Math.floor(Math.random() * tagsColors.length)]
                })

              </script>
            </div>
            <div class="sidebar-panel sidebar-panel-categories sidebar-panel-active">
              <h4 class="name"> 分类 </h4>
              <div class="content">
                <ul class="category-list">
                  <li class="category-list-item"><a class="category-list-link" href="/categories/C-C/">C/C++</a><span class="category-list-count">23</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/HTML/">HTML</a><span class="category-list-count">13</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">5</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">26</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">15</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Markdown/">Markdown</a><span class="category-list-count">1</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Net/">Net</a><span class="category-list-count">4</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Other/">Other</a><span class="category-list-count">38</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">27</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Paper/">Paper</a><span class="category-list-count">2</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">256</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/TypeScript/">TypeScript</a><span class="category-list-count">2</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AA%E4%BA%BA%E5%B1%95%E7%A4%BA/">个人展示</a><span class="category-list-count">1</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AA%E4%BA%BA%E6%97%A5%E8%AE%B0/">个人日记</a><span class="category-list-count">6</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AA%E4%BA%BA%E9%9A%8F%E7%AC%94/">个人随笔</a><span class="category-list-count">10</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%9D%82%E8%B0%88/">技术杂谈</a><span class="category-list-count">74</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">未分类</a><span class="category-list-count">1</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E7%AC%94%E8%AE%B0/">生活笔记</a><span class="category-list-count">1</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A6%8F%E5%88%A9%E4%B8%93%E5%8C%BA/">福利专区</a><span class="category-list-count">6</span></li>
                  <li class="category-list-item"><a class="category-list-link" href="/categories/%E8%81%8C%E4%BD%8D%E6%8E%A8%E8%8D%90/">职位推荐</a><span class="category-list-count">2</span></li>
                </ul>
              </div>
            </div>
            <div class="sidebar-panel sidebar-panel-friends sidebar-panel-active">
              <h4 class="name"> 友情链接 </h4>
              <ul class="friends">
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/j2dub.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.findhao.net/" target="_blank" rel="noopener">FindHao</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/ou6mm.jpg">
                  </span>
                  <span class="link">
                    <a href="https://diygod.me/" target="_blank" rel="noopener">DIYgod</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/6apxu.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.51dev.com/" target="_blank" rel="noopener">IT技术社区</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://www.jankl.com/img/titleshu.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.jankl.com/" target="_blank" rel="noopener">liberalist</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/bqlbs.png">
                  </span>
                  <span class="link">
                    <a href="http://www.urselect.com/" target="_blank" rel="noopener">优社电商</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/8s88c.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.yuanrenxue.com/" target="_blank" rel="noopener">猿人学</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/4i7yf.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.lizenghai.com/" target="_blank" rel="noopener">Python量化投资</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/2wgg5.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.yunlifang.cn/" target="_blank" rel="noopener">云立方</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/shwr6.png">
                  </span>
                  <span class="link">
                    <a href="http://lanbing510.info/" target="_blank" rel="noopener">冰蓝</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/blvoh.jpg">
                  </span>
                  <span class="link">
                    <a href="https://lengyue.me/" target="_blank" rel="noopener">冷月</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="http://qianxunclub.com/favicon.png">
                  </span>
                  <span class="link">
                    <a href="http://qianxunclub.com/" target="_blank" rel="noopener">千寻啊千寻</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/0044u.jpg">
                  </span>
                  <span class="link">
                    <a href="http://kodcloud.com/" target="_blank" rel="noopener">可道云</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/ygnpn.jpg">
                  </span>
                  <span class="link">
                    <a href="http://www.kunkundashen.cn/" target="_blank" rel="noopener">坤坤大神</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/22uv1.png">
                  </span>
                  <span class="link">
                    <a href="http://www.cenchong.com/" target="_blank" rel="noopener">岑冲博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/ev9kl.png">
                  </span>
                  <span class="link">
                    <a href="http://www.zxiaoji.com/" target="_blank" rel="noopener">张小鸡</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://www.chrafz.com/favicon.ico">
                  </span>
                  <span class="link">
                    <a href="https://www.chrafz.com/" target="_blank" rel="noopener">张弦先生</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://www.503error.com/favicon.ico">
                  </span>
                  <span class="link">
                    <a href="https://www.503error.com/" target="_blank" rel="noopener">张志明个人博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://seofangfa.com/favicon.ico">
                  </span>
                  <span class="link">
                    <a href="https://seofangfa.com/" target="_blank" rel="noopener">方法SEO</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/x714o.jpg">
                  </span>
                  <span class="link">
                    <a href="http://www.hubwiz.com/" target="_blank" rel="noopener">汇智网</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/lfmj3.png">
                  </span>
                  <span class="link">
                    <a href="http://frankchen.xyz/" target="_blank" rel="noopener">不正经数据科学家</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/129d8.png">
                  </span>
                  <span class="link">
                    <a href="https://www.bysocket.com/" target="_blank" rel="noopener">泥瓦匠BYSocket</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://www.xiongge.club/favicon.ico">
                  </span>
                  <span class="link">
                    <a href="https://www.xiongge.club/" target="_blank" rel="noopener">熊哥club</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/3w4fe.png">
                  </span>
                  <span class="link">
                    <a href="https://zerlong.com/" target="_blank" rel="noopener">知语</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/262r1.jpg">
                  </span>
                  <span class="link">
                    <a href="http://www.ysir308.com/" target="_blank" rel="noopener">程序员虾说</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/44hxf.png">
                  </span>
                  <span class="link">
                    <a href="http://redstonewill.com/" target="_blank" rel="noopener">红色石头</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/8g1fk.jpg">
                  </span>
                  <span class="link">
                    <a href="http://www.laodong.me/" target="_blank" rel="noopener">老董博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/wkaus.jpg">
                  </span>
                  <span class="link">
                    <a href="https://zhaoshuai.me/" target="_blank" rel="noopener">碎念</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/pgo0r.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.chenwenguan.com/" target="_blank" rel="noopener">陈文管的博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/kk82a.jpg">
                  </span>
                  <span class="link">
                    <a href="https://www.lxlinux.net/" target="_blank" rel="noopener">良许Linux教程网</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/lj0t2.jpg">
                  </span>
                  <span class="link">
                    <a href="https://tanqingbo.cn/" target="_blank" rel="noopener">IT码农</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/i8cdr.png">
                  </span>
                  <span class="link">
                    <a href="https://junyiseo.com/" target="_blank" rel="noopener">均益个人博客</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/chwv2.png">
                  </span>
                  <span class="link">
                    <a href="https://brucedone.com/" target="_blank" rel="noopener">大鱼的鱼塘</a>
                  </span>
                </li>
                <li class="friend">
                  <span class="logo">
                    <img src="https://qiniu.cuiqingcai.com/2y43o.png">
                  </span>
                  <span class="link">
                    <a href="http://bbs.nightteam.cn/" target="_blank" rel="noopener">夜幕爬虫安全论坛</a>
                  </span>
                </li>
              </ul>
            </div>
          </div>
        </aside>
        <div id="sidebar-dimmer"></div>
      </div>
    </main>
    <footer class="footer">
      <div class="footer-inner">
        <div class="copyright"> &copy; <span itemprop="copyrightYear">2021</span>
          <span class="with-love">
            <i class="fa fa-heart"></i>
          </span>
          <span class="author" itemprop="copyrightHolder">崔庆才丨静觅</span>
          <span class="post-meta-divider">|</span>
          <span class="post-meta-item-icon">
            <i class="fa fa-chart-area"></i>
          </span>
          <span title="站点总字数">2.5m</span>
          <span class="post-meta-divider">|</span>
          <span class="post-meta-item-icon">
            <i class="fa fa-coffee"></i>
          </span>
          <span title="站点阅读时长">37:31</span>
        </div>
        <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动 </div>
        <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备18015597号-1 </a>
        </div>
        <script>
          (function ()
          {
            function leancloudSelector(url)
            {
              url = encodeURI(url);
              return document.getElementById(url).querySelector('.leancloud-visitors-count');
            }

            function addCount(Counter)
            {
              var visitors = document.querySelector('.leancloud_visitors');
              var url = decodeURI(visitors.id);
              var title = visitors.dataset.flagTitle;
              Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify(
              {
                url
              }))).then(response => response.json()).then((
              {
                results
              }) =>
              {
                if (results.length > 0)
                {
                  var counter = results[0];
                  leancloudSelector(url).innerText = counter.time + 1;
                  Counter('put', '/classes/Counter/' + counter.objectId,
                  {
                    time:
                    {
                      '__op': 'Increment',
                      'amount': 1
                    }
                  }).catch(error =>
                  {
                    console.error('Failed to save visitor count', error);
                  });
                }
                else
                {
                  Counter('post', '/classes/Counter',
                  {
                    title,
                    url,
                    time: 1
                  }).then(response => response.json()).then(() =>
                  {
                    leancloudSelector(url).innerText = 1;
                  }).catch(error =>
                  {
                    console.error('Failed to create', error);
                  });
                }
              }).catch(error =>
              {
                console.error('LeanCloud Counter Error', error);
              });
            }

            function showTime(Counter)
            {
              var visitors = document.querySelectorAll('.leancloud_visitors');
              var entries = [...visitors].map(element =>
              {
                return decodeURI(element.id);
              });
              Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify(
              {
                url:
                {
                  '$in': entries
                }
              }))).then(response => response.json()).then((
              {
                results
              }) =>
              {
                for (let url of entries)
                {
                  let target = results.find(item => item.url === url);
                  leancloudSelector(url).innerText = target ? target.time : 0;
                }
              }).catch(error =>
              {
                console.error('LeanCloud Counter Error', error);
              });
            }
            let
            {
              app_id,
              app_key,
              server_url
            } = {
              "enable": true,
              "app_id": "6X5dRQ0pnPWJgYy8SXOg0uID-gzGzoHsz",
              "app_key": "ziLDVEy73ne5HtFTiGstzHMS",
              "server_url": null,
              "security": false
            };

            function fetchData(api_server)
            {
              var Counter = (method, url, data) =>
              {
                return fetch(`${api_server}/1.1${url}`,
                {
                  method,
                  headers:
                  {
                    'X-LC-Id': app_id,
                    'X-LC-Key': app_key,
                    'Content-Type': 'application/json',
                  },
                  body: JSON.stringify(data)
                });
              };
              if (CONFIG.page.isPost)
              {
                if (CONFIG.hostname !== location.hostname) return;
                addCount(Counter);
              }
              else if (document.querySelectorAll('.post-title-link').length >= 1)
              {
                showTime(Counter);
              }
            }
            let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;
            if (api_server)
            {
              fetchData(api_server);
            }
            else
            {
              fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id).then(response => response.json()).then((
              {
                api_server
              }) =>
              {
                fetchData('https://' + api_server);
              });
            }
          })();

        </script>
      </div>
      <div class="footer-stat">
        <span id="cnzz_stat_icon_1279355174"></span>
        <script type="text/javascript">
          document.write(unescape("%3Cspan id='cnzz_stat_icon_1279355174'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1279355174%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));

        </script>
      </div>
    </footer>
  </div>
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/js/utils.js"></script>
  <script src="/.js"></script>
  <script src="/js/schemes/pisces.js"></script>
  <script src="/.js"></script>
  <script src="/js/next-boot.js"></script>
  <script src="/.js"></script>
  <script>
    (function ()
    {
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x = document.getElementsByTagName("link");
      //Find the last canonical URL
      if (x.length > 0)
      {
        for (i = 0; i < x.length; i++)
        {
          if (x[i].rel.toLowerCase() == 'canonical' && x[i].href)
          {
            canonicalURL = x[i].href;
          }
        }
      }
      //Get protocol
      if (!canonicalURL)
      {
        curProtocol = window.location.protocol.split(':')[0];
      }
      else
      {
        curProtocol = canonicalURL.split(':')[0];
      }
      //Get current URL if the canonical URL does not exist
      if (!canonicalURL) canonicalURL = window.location.href;
      //Assign script content. Replace current URL with the canonical URL
      ! function ()
      {
        var e = /([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,
          r = canonicalURL,
          t = document.referrer;
        if (!e.test(r))
        {
          var n = (String(curProtocol).toLowerCase() === 'https') ? "https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif" : "//api.share.baidu.com/s.gif";
          t ? (n += "?r=" + encodeURIComponent(document.referrer), r && (n += "&l=" + r)) : r && (n += "?l=" + r);
          var i = new Image;
          i.src = n
        }
      }(window);
    })();

  </script>
  <script src="/js/local-search.js"></script>
  <script src="/.js"></script>
</body>

</html>
